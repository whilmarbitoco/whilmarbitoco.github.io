function Zf(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in e)){const f=Object.getOwnPropertyDescriptor(o,u);f&&Object.defineProperty(e,u,f.get?f:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},hl={},qf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),L2=Symbol.for("react.portal"),k2=Symbol.for("react.fragment"),P2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),U2=Symbol.for("react.forward_ref"),z2=Symbol.for("react.suspense"),H2=Symbol.for("react.memo"),V2=Symbol.for("react.lazy"),e0=Symbol.iterator;function W2(e){return e===null||typeof e!="object"?null:(e=e0&&e[e0]||e["@@iterator"],typeof e=="function"?e:null)}var $f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,ed={};function Os(e,t,r){this.props=e,this.context=t,this.refs=ed,this.updater=r||$f}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function td(){}td.prototype=Os.prototype;function Dc(e,t,r){this.props=e,this.context=t,this.refs=ed,this.updater=r||$f}var Lc=Dc.prototype=new td;Lc.constructor=Dc;Jf(Lc,Os.prototype);Lc.isPureReactComponent=!0;var t0=Array.isArray,nd=Object.prototype.hasOwnProperty,kc={current:null},rd={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,r){var o,u={},f=null,g=null;if(t!=null)for(o in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)nd.call(t,o)&&!rd.hasOwnProperty(o)&&(u[o]=t[o]);var x=arguments.length-2;if(x===1)u.children=r;else if(1<x){for(var w=Array(x),m=0;m<x;m++)w[m]=arguments[m+2];u.children=w}if(e&&e.defaultProps)for(o in x=e.defaultProps,x)u[o]===void 0&&(u[o]=x[o]);return{$$typeof:Po,type:e,key:f,ref:g,props:u,_owner:kc.current}}function G2(e,t){return{$$typeof:Po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function Y2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var n0=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y2(""+e.key):t.toString(36)}function Ea(e,t,r,o,u){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Po:case L2:g=!0}}if(g)return g=e,u=u(g),e=o===""?"."+Jl(g,0):o,t0(u)?(r="",e!=null&&(r=e.replace(n0,"$&/")+"/"),Ea(u,t,r,"",function(m){return m})):u!=null&&(Pc(u)&&(u=G2(u,r+(!u.key||g&&g.key===u.key?"":(""+u.key).replace(n0,"$&/")+"/")+e)),t.push(u)),1;if(g=0,o=o===""?".":o+":",t0(e))for(var x=0;x<e.length;x++){f=e[x];var w=o+Jl(f,x);g+=Ea(f,t,r,w,u)}else if(w=W2(e),typeof w=="function")for(e=w.call(e),x=0;!(f=e.next()).done;)f=f.value,w=o+Jl(f,x++),g+=Ea(f,t,r,w,u);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Jo(e,t,r){if(e==null)return e;var o=[],u=0;return Ea(e,o,"","",function(f){return t.call(r,f,u++)}),o}function X2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},va={transition:null},Q2={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:va,ReactCurrentOwner:kc};function sd(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Jo,forEach:function(e,t,r){Jo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Os;be.Fragment=k2;be.Profiler=B2;be.PureComponent=Dc;be.StrictMode=P2;be.Suspense=z2;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;be.act=sd;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Jf({},e.props),u=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=kc.current),t.key!==void 0&&(u=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(w in t)nd.call(t,w)&&!rd.hasOwnProperty(w)&&(o[w]=t[w]===void 0&&x!==void 0?x[w]:t[w])}var w=arguments.length-2;if(w===1)o.children=r;else if(1<w){x=Array(w);for(var m=0;m<w;m++)x[m]=arguments[m+2];o.children=x}return{$$typeof:Po,type:e.type,key:u,ref:f,props:o,_owner:g}};be.createContext=function(e){return e={$$typeof:j2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:F2,_context:e},e.Consumer=e};be.createElement=id;be.createFactory=function(e){var t=id.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:U2,render:e}};be.isValidElement=Pc;be.lazy=function(e){return{$$typeof:V2,_payload:{_status:-1,_result:e},_init:X2}};be.memo=function(e,t){return{$$typeof:H2,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=va.transition;va.transition={};try{e()}finally{va.transition=t}};be.unstable_act=sd;be.useCallback=function(e,t){return en.current.useCallback(e,t)};be.useContext=function(e){return en.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return en.current.useDeferredValue(e)};be.useEffect=function(e,t){return en.current.useEffect(e,t)};be.useId=function(){return en.current.useId()};be.useImperativeHandle=function(e,t,r){return en.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return en.current.useMemo(e,t)};be.useReducer=function(e,t,r){return en.current.useReducer(e,t,r)};be.useRef=function(e){return en.current.useRef(e)};be.useState=function(e){return en.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return en.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return en.current.useTransition()};be.version="18.3.1";qf.exports=be;var G=qf.exports;const re=Rc(G),Z2=Zf({__proto__:null,default:re},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=G,q2=Symbol.for("react.element"),$2=Symbol.for("react.fragment"),J2=Object.prototype.hasOwnProperty,ep=K2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tp={key:!0,ref:!0,__self:!0,__source:!0};function od(e,t,r){var o,u={},f=null,g=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(o in t)J2.call(t,o)&&!tp.hasOwnProperty(o)&&(u[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)u[o]===void 0&&(u[o]=t[o]);return{$$typeof:q2,type:e,key:f,ref:g,props:u,_owner:ep.current}}hl.Fragment=$2;hl.jsx=od;hl.jsxs=od;Kf.exports=hl;var b=Kf.exports,ad={exports:{}},Nn={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,fe){var me=q.length;q.push(fe);e:for(;0<me;){var xe=me-1>>>1,de=q[xe];if(0<u(de,fe))q[xe]=fe,q[me]=de,me=xe;else break e}}function r(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var fe=q[0],me=q.pop();if(me!==fe){q[0]=me;e:for(var xe=0,de=q.length,_e=de>>>1;xe<_e;){var De=2*(xe+1)-1,Zt=q[De],ie=De+1,On=q[ie];if(0>u(Zt,me))ie<de&&0>u(On,Zt)?(q[xe]=On,q[ie]=me,xe=ie):(q[xe]=Zt,q[De]=me,xe=De);else if(ie<de&&0>u(On,me))q[xe]=On,q[ie]=me,xe=ie;else break e}}return fe}function u(q,fe){var me=q.sortIndex-fe.sortIndex;return me!==0?me:q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,x=g.now();e.unstable_now=function(){return g.now()-x}}var w=[],m=[],v=1,S=null,I=3,k=!1,H=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(q){for(var fe=r(m);fe!==null;){if(fe.callback===null)o(m);else if(fe.startTime<=q)o(m),fe.sortIndex=fe.expirationTime,t(w,fe);else break;fe=r(m)}}function P(q){if(R=!1,O(q),!H)if(r(w)!==null)H=!0,Be(Q);else{var fe=r(m);fe!==null&&ye(P,fe.startTime-q)}}function Q(q,fe){H=!1,R&&(R=!1,N(Z),Z=-1),k=!0;var me=I;try{for(O(fe),S=r(w);S!==null&&(!(S.expirationTime>fe)||q&&!ge());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,I=S.priorityLevel;var de=xe(S.expirationTime<=fe);fe=e.unstable_now(),typeof de=="function"?S.callback=de:S===r(w)&&o(w),O(fe)}else o(w);S=r(w)}if(S!==null)var _e=!0;else{var De=r(m);De!==null&&ye(P,De.startTime-fe),_e=!1}return _e}finally{S=null,I=me,k=!1}}var X=!1,F=null,Z=-1,z=5,se=-1;function ge(){return!(e.unstable_now()-se<z)}function ce(){if(F!==null){var q=e.unstable_now();se=q;var fe=!0;try{fe=F(!0,q)}finally{fe?Ie():(X=!1,F=null)}}else X=!1}var Ie;if(typeof T=="function")Ie=function(){T(ce)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Y=qe.port2;qe.port1.onmessage=ce,Ie=function(){Y.postMessage(null)}}else Ie=function(){B(ce,0)};function Be(q){F=q,X||(X=!0,Ie())}function ye(q,fe){Z=B(function(){q(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){H||k||(H=!0,Be(Q))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return r(w)},e.unstable_next=function(q){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var me=I;I=fe;try{return q()}finally{I=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,fe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=I;I=q;try{return fe()}finally{I=me}},e.unstable_scheduleCallback=function(q,fe,me){var xe=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?xe+me:xe):me=xe,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=me+de,q={id:v++,callback:fe,priorityLevel:q,startTime:me,expirationTime:de,sortIndex:-1},me>xe?(q.sortIndex=me,t(m,q),r(w)===null&&q===r(m)&&(R?(N(Z),Z=-1):R=!0,ye(P,me-xe))):(q.sortIndex=de,t(w,q),H||k||(H=!0,Be(Q))),q},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(q){var fe=I;return function(){var me=I;I=fe;try{return q.apply(this,arguments)}finally{I=me}}}})(ud);ld.exports=ud;var np=ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=G,Tn=np;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cd=new Set,xo={};function Ui(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(xo[e]=t,e=0;e<t.length;e++)cd.add(t[e])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},i0={};function sp(e){return Ou.call(i0,e)?!0:Ou.call(r0,e)?!1:ip.test(e)?i0[e]=!0:(r0[e]=!0,!1)}function op(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ap(e,t,r,o){if(t===null||typeof t>"u"||op(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,r,o,u,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bc=/[\-:]([a-z])/g;function Fc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bc,Fc);Ut[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bc,Fc);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bc,Fc);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function jc(e,t,r,o){var u=Ut.hasOwnProperty(t)?Ut[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ap(t,r,u,o)&&(r=null),o||u===null?sp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,o=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var Fr=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),is=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),fd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),zc=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),Lu=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),hd=Symbol.for("react.offscreen"),s0=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=s0&&e[s0]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,eu;function ro(e){if(eu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var o=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){o=m}e.call(t.prototype)}else{try{throw Error()}catch(m){o=m}e()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var u=m.stack.split(`
`),f=o.stack.split(`
`),g=u.length-1,x=f.length-1;1<=g&&0<=x&&u[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(u[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||u[g]!==f[x]){var w=`
`+u[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=x);break}}}finally{tu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ro(e):""}function lp(e){switch(e.tag){case 5:return ro(e.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function ku(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case is:return"Portal";case Ru:return"Profiler";case Uc:return"StrictMode";case Du:return"Suspense";case Lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case fd:return(e._context.displayName||"Context")+".Provider";case zc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hc:return t=e.displayName||null,t!==null?t:ku(e.type)||"Memo";case Zr:t=e._payload,e=e._init;try{return ku(e(t))}catch{}}return null}function up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ku(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cp(e){var t=gd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ta(e){e._valueTracker||(e._valueTracker=cp(e))}function pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=gd(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var r=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function o0(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function md(e,t){t=t.checked,t!=null&&jc(e,"checked",t,!1)}function Bu(e,t){md(e,t);var r=fi(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fu(e,t.type,fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function a0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fu(e,t,r){(t!=="number"||La(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var io=Array.isArray;function xs(e,t,r,o){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+fi(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ju(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(io(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fi(r)}}function xd(e,t){var r=fi(t.value),o=fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function u0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var na,yd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fp=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function Cd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function Ed(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,u=Cd(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,u):e[r]=u}}var dp=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wu=null,ws=null,ys=null;function c0(e){if(e=jo(e)){if(typeof Wu!="function")throw Error(J(280));var t=e.stateNode;t&&(t=wl(t),Wu(e.stateNode,e.type,t))}}function vd(e){ws?ys?ys.push(e):ys=[e]:ws=e}function Ad(){if(ws){var e=ws,t=ys;if(ys=ws=null,c0(e),t)for(e=0;e<t.length;e++)c0(t[e])}}function Sd(e,t){return e(t)}function Id(){}var ru=!1;function Td(e,t,r){if(ru)return e(t,r);ru=!0;try{return Sd(e,t,r)}finally{ru=!1,(ws!==null||ys!==null)&&(Id(),Ad())}}function yo(e,t){var r=e.stateNode;if(r===null)return null;var o=wl(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var Gu=!1;if(Dr)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Gu=!1}function hp(e,t,r,o,u,f,g,x,w){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(v){this.onError(v)}}var lo=!1,ka=null,Pa=!1,Yu=null,gp={onError:function(e){lo=!0,ka=e}};function pp(e,t,r,o,u,f,g,x,w){lo=!1,ka=null,hp.apply(gp,arguments)}function mp(e,t,r,o,u,f,g,x,w){if(pp.apply(this,arguments),lo){if(lo){var m=ka;lo=!1,ka=null}else throw Error(J(198));Pa||(Pa=!0,Yu=m)}}function zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f0(e){if(zi(e)!==e)throw Error(J(188))}function xp(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,o=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return f0(u),e;if(f===o)return f0(u),t;f=f.sibling}throw Error(J(188))}if(r.return!==o.return)r=u,o=f;else{for(var g=!1,x=u.child;x;){if(x===r){g=!0,r=u,o=f;break}if(x===o){g=!0,o=u,r=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===r){g=!0,r=f,o=u;break}if(x===o){g=!0,o=f,r=u;break}x=x.sibling}if(!g)throw Error(J(189))}}if(r.alternate!==o)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function bd(e){return e=xp(e),e!==null?_d(e):null}function _d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_d(e);if(t!==null)return t;e=e.sibling}return null}var Md=Tn.unstable_scheduleCallback,d0=Tn.unstable_cancelCallback,wp=Tn.unstable_shouldYield,yp=Tn.unstable_requestPaint,wt=Tn.unstable_now,Cp=Tn.unstable_getCurrentPriorityLevel,Wc=Tn.unstable_ImmediatePriority,Od=Tn.unstable_UserBlockingPriority,Ba=Tn.unstable_NormalPriority,Ep=Tn.unstable_LowPriority,Rd=Tn.unstable_IdlePriority,gl=null,Cr=null;function vp(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Ip,Ap=Math.log,Sp=Math.LN2;function Ip(e){return e>>>=0,e===0?32:31-(Ap(e)/Sp|0)|0}var ra=64,ia=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes,g=r&268435455;if(g!==0){var x=g&~u;x!==0?o=so(x):(f&=g,f!==0&&(o=so(f)))}else g=r&~u,g!==0?o=so(g):f!==0&&(o=so(f));if(o===0)return 0;if(t!==0&&t!==o&&!(t&u)&&(u=o&-o,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-sr(t),u=1<<r,o|=e[r],t&=~u;return o}function Tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-sr(f),x=1<<g,w=u[g];w===-1?(!(x&r)||x&o)&&(u[g]=Tp(x,t)):w<=t&&(e.expiredLanes|=x),f&=~x}}function Xu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dd(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function iu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=r}function bp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-sr(r),f=1<<u;t[u]=0,o[u]=-1,e[u]=-1,r&=~f}}function Gc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-sr(r),u=1<<o;u&t|e[o]&t&&(e[o]|=t),r&=~u}}var Ve=0;function Ld(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kd,Yc,Pd,Bd,Fd,Qu=!1,sa=[],ni=null,ri=null,ii=null,Co=new Map,Eo=new Map,qr=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function Ks(e,t,r,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},t!==null&&(t=jo(t),t!==null&&Yc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Mp(e,t,r,o,u){switch(t){case"focusin":return ni=Ks(ni,e,t,r,o,u),!0;case"dragenter":return ri=Ks(ri,e,t,r,o,u),!0;case"mouseover":return ii=Ks(ii,e,t,r,o,u),!0;case"pointerover":var f=u.pointerId;return Co.set(f,Ks(Co.get(f)||null,e,t,r,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Eo.set(f,Ks(Eo.get(f)||null,e,t,r,o,u)),!0}return!1}function jd(e){var t=Mi(e.target);if(t!==null){var r=zi(t);if(r!==null){if(t=r.tag,t===13){if(t=Nd(r),t!==null){e.blockedOn=t,Fd(e.priority,function(){Pd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Vu=o,r.target.dispatchEvent(o),Vu=null}else return t=jo(r),t!==null&&Yc(t),e.blockedOn=r,!1;t.shift()}return!0}function g0(e,t,r){Aa(e)&&r.delete(t)}function Op(){Qu=!1,ni!==null&&Aa(ni)&&(ni=null),ri!==null&&Aa(ri)&&(ri=null),ii!==null&&Aa(ii)&&(ii=null),Co.forEach(g0),Eo.forEach(g0)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,Op)))}function vo(e){function t(u){return qs(u,e)}if(0<sa.length){qs(sa[0],e);for(var r=1;r<sa.length;r++){var o=sa[r];o.blockedOn===e&&(o.blockedOn=null)}}for(ni!==null&&qs(ni,e),ri!==null&&qs(ri,e),ii!==null&&qs(ii,e),Co.forEach(t),Eo.forEach(t),r=0;r<qr.length;r++)o=qr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)jd(r),r.blockedOn===null&&qr.shift()}var Cs=Fr.ReactCurrentBatchConfig,ja=!0;function Rp(e,t,r,o){var u=Ve,f=Cs.transition;Cs.transition=null;try{Ve=1,Xc(e,t,r,o)}finally{Ve=u,Cs.transition=f}}function Dp(e,t,r,o){var u=Ve,f=Cs.transition;Cs.transition=null;try{Ve=4,Xc(e,t,r,o)}finally{Ve=u,Cs.transition=f}}function Xc(e,t,r,o){if(ja){var u=Zu(e,t,r,o);if(u===null)gu(e,t,o,Ua,r),h0(e,o);else if(Mp(u,e,t,r,o))o.stopPropagation();else if(h0(e,o),t&4&&-1<_p.indexOf(e)){for(;u!==null;){var f=jo(u);if(f!==null&&kd(f),f=Zu(e,t,r,o),f===null&&gu(e,t,o,Ua,r),f===u)break;u=f}u!==null&&o.stopPropagation()}else gu(e,t,o,null,r)}}var Ua=null;function Zu(e,t,r,o){if(Ua=null,e=Vc(o),e=Mi(e),e!==null)if(t=zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Nd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cp()){case Wc:return 1;case Od:return 4;case Ba:case Ep:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var Jr=null,Qc=null,Sa=null;function zd(){if(Sa)return Sa;var e,t=Qc,r=t.length,o,u="value"in Jr?Jr.value:Jr.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var g=r-e;for(o=1;o<=g&&t[r-o]===u[f-o];o++);return Sa=u.slice(e,1<o?1-o:void 0)}function Ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function p0(){return!1}function bn(e){function t(r,o,u,f,g){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?oa:p0,this.isPropagationStopped=p0,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=bn(Rs),Fo=ft({},Rs,{view:0,detail:0}),Lp=bn(Fo),su,ou,$s,pl=ft({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(su=e.screenX-$s.screenX,ou=e.screenY-$s.screenY):ou=su=0,$s=e),su)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),m0=bn(pl),kp=ft({},pl,{dataTransfer:0}),Pp=bn(kp),Bp=ft({},Fo,{relatedTarget:0}),au=bn(Bp),Fp=ft({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),jp=bn(Fp),Up=ft({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zp=bn(Up),Hp=ft({},Rs,{data:0}),x0=bn(Hp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function Kc(){return Yp}var Xp=ft({},Fo,{key:function(e){if(e.key){var t=Vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=bn(Xp),Zp=ft({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=bn(Zp),Kp=ft({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),qp=bn(Kp),$p=ft({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=bn($p),em=ft({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=bn(em),nm=[9,13,27,32],qc=Dr&&"CompositionEvent"in window,uo=null;Dr&&"documentMode"in document&&(uo=document.documentMode);var rm=Dr&&"TextEvent"in window&&!uo,Hd=Dr&&(!qc||uo&&8<uo&&11>=uo),y0=" ",C0=!1;function Vd(e,t){switch(e){case"keyup":return nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function im(e,t){switch(e){case"compositionend":return Wd(t);case"keypress":return t.which!==32?null:(C0=!0,y0);case"textInput":return e=t.data,e===y0&&C0?null:e;default:return null}}function sm(e,t){if(os)return e==="compositionend"||!qc&&Vd(e,t)?(e=zd(),Sa=Qc=Jr=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hd&&t.locale!=="ko"?null:t.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!om[e.type]:t==="textarea"}function Gd(e,t,r,o){vd(o),t=za(t,"onChange"),0<t.length&&(r=new Zc("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var co=null,Ao=null;function am(e){nh(e,0)}function ml(e){var t=us(e);if(pd(t))return e}function lm(e,t){if(e==="change")return t}var Yd=!1;if(Dr){var lu;if(Dr){var uu="oninput"in document;if(!uu){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),uu=typeof v0.oninput=="function"}lu=uu}else lu=!1;Yd=lu&&(!document.documentMode||9<document.documentMode)}function A0(){co&&(co.detachEvent("onpropertychange",Xd),Ao=co=null)}function Xd(e){if(e.propertyName==="value"&&ml(Ao)){var t=[];Gd(t,Ao,e,Vc(e)),Td(am,t)}}function um(e,t,r){e==="focusin"?(A0(),co=t,Ao=r,co.attachEvent("onpropertychange",Xd)):e==="focusout"&&A0()}function cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Ao)}function fm(e,t){if(e==="click")return ml(t)}function dm(e,t){if(e==="input"||e==="change")return ml(t)}function hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:hm;function So(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Ou.call(t,u)||!ar(e[u],t[u]))return!1}return!0}function S0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function I0(e,t){var r=S0(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S0(r)}}function Qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zd(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=La(e.document)}return t}function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gm(e){var t=Zd(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qd(r.ownerDocument.documentElement,r)){if(o!==null&&$c(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(o.start,u);o=o.end===void 0?f:Math.min(o.end,u),!e.extend&&f>o&&(u=o,o=f,f=u),u=I0(r,f);var g=I0(r,o);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pm=Dr&&"documentMode"in document&&11>=document.documentMode,as=null,Ku=null,fo=null,qu=!1;function T0(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qu||as==null||as!==La(o)||(o=as,"selectionStart"in o&&$c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&So(fo,o)||(fo=o,o=za(Ku,"onSelect"),0<o.length&&(t=new Zc("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=as)))}function aa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ls={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},cu={},Kd={};Dr&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function xl(e){if(cu[e])return cu[e];if(!ls[e])return e;var t=ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kd)return cu[e]=t[r];return e}var qd=xl("animationend"),$d=xl("animationiteration"),Jd=xl("animationstart"),eh=xl("transitionend"),th=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){th.set(e,t),Ui(t,[e])}for(var fu=0;fu<N0.length;fu++){var du=N0[fu],mm=du.toLowerCase(),xm=du[0].toUpperCase()+du.slice(1);hi(mm,"on"+xm)}hi(qd,"onAnimationEnd");hi($d,"onAnimationIteration");hi(Jd,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(eh,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function b0(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,mp(o,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],w=x.instance,m=x.currentTarget;if(x=x.listener,w!==f&&u.isPropagationStopped())break e;b0(u,x,m),f=w}else for(g=0;g<o.length;g++){if(x=o[g],w=x.instance,m=x.currentTarget,x=x.listener,w!==f&&u.isPropagationStopped())break e;b0(u,x,m),f=w}}}if(Pa)throw e=Yu,Pa=!1,Yu=null,e}function Je(e,t){var r=t[nc];r===void 0&&(r=t[nc]=new Set);var o=e+"__bubble";r.has(o)||(rh(t,e,2,!1),r.add(o))}function hu(e,t,r){var o=0;t&&(o|=4),rh(r,e,o,t)}var la="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[la]){e[la]=!0,cd.forEach(function(r){r!=="selectionchange"&&(wm.has(r)||hu(r,!1,e),hu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[la]||(t[la]=!0,hu("selectionchange",!1,t))}}function rh(e,t,r,o){switch(Ud(t)){case 1:var u=Rp;break;case 4:u=Dp;break;default:u=Xc}r=u.bind(null,t,r,e),u=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function gu(e,t,r,o,u){var f=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===u||w.nodeType===8&&w.parentNode===u))return;g=g.return}for(;x!==null;){if(g=Mi(x),g===null)return;if(w=g.tag,w===5||w===6){o=f=g;continue e}x=x.parentNode}}o=o.return}Td(function(){var m=f,v=Vc(r),S=[];e:{var I=th.get(e);if(I!==void 0){var k=Zc,H=e;switch(e){case"keypress":if(Ia(r)===0)break e;case"keydown":case"keyup":k=Qp;break;case"focusin":H="focus",k=au;break;case"focusout":H="blur",k=au;break;case"beforeblur":case"afterblur":k=au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=m0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=qp;break;case qd:case $d:case Jd:k=jp;break;case eh:k=Jp;break;case"scroll":k=Lp;break;case"wheel":k=tm;break;case"copy":case"cut":case"paste":k=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=w0}var R=(t&4)!==0,B=!R&&e==="scroll",N=R?I!==null?I+"Capture":null:I;R=[];for(var T=m,O;T!==null;){O=T;var P=O.stateNode;if(O.tag===5&&P!==null&&(O=P,N!==null&&(P=yo(T,N),P!=null&&R.push(To(T,P,O)))),B)break;T=T.return}0<R.length&&(I=new k(I,H,null,r,v),S.push({event:I,listeners:R}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",I&&r!==Vu&&(H=r.relatedTarget||r.fromElement)&&(Mi(H)||H[Lr]))break e;if((k||I)&&(I=v.window===v?v:(I=v.ownerDocument)?I.defaultView||I.parentWindow:window,k?(H=r.relatedTarget||r.toElement,k=m,H=H?Mi(H):null,H!==null&&(B=zi(H),H!==B||H.tag!==5&&H.tag!==6)&&(H=null)):(k=null,H=m),k!==H)){if(R=m0,P="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(R=w0,P="onPointerLeave",N="onPointerEnter",T="pointer"),B=k==null?I:us(k),O=H==null?I:us(H),I=new R(P,T+"leave",k,r,v),I.target=B,I.relatedTarget=O,P=null,Mi(v)===m&&(R=new R(N,T+"enter",H,r,v),R.target=O,R.relatedTarget=B,P=R),B=P,k&&H)t:{for(R=k,N=H,T=0,O=R;O;O=ns(O))T++;for(O=0,P=N;P;P=ns(P))O++;for(;0<T-O;)R=ns(R),T--;for(;0<O-T;)N=ns(N),O--;for(;T--;){if(R===N||N!==null&&R===N.alternate)break t;R=ns(R),N=ns(N)}R=null}else R=null;k!==null&&_0(S,I,k,R,!1),H!==null&&B!==null&&_0(S,B,H,R,!0)}}e:{if(I=m?us(m):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var Q=lm;else if(E0(I))if(Yd)Q=dm;else{Q=cm;var X=um}else(k=I.nodeName)&&k.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Q=fm);if(Q&&(Q=Q(e,m))){Gd(S,Q,r,v);break e}X&&X(e,I,m),e==="focusout"&&(X=I._wrapperState)&&X.controlled&&I.type==="number"&&Fu(I,"number",I.value)}switch(X=m?us(m):window,e){case"focusin":(E0(X)||X.contentEditable==="true")&&(as=X,Ku=m,fo=null);break;case"focusout":fo=Ku=as=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,T0(S,r,v);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":T0(S,r,v)}var F;if(qc)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else os?Vd(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(Hd&&r.locale!=="ko"&&(os||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&os&&(F=zd()):(Jr=v,Qc="value"in Jr?Jr.value:Jr.textContent,os=!0)),X=za(m,Z),0<X.length&&(Z=new x0(Z,e,null,r,v),S.push({event:Z,listeners:X}),F?Z.data=F:(F=Wd(r),F!==null&&(Z.data=F)))),(F=rm?im(e,r):sm(e,r))&&(m=za(m,"onBeforeInput"),0<m.length&&(v=new x0("onBeforeInput","beforeinput",null,r,v),S.push({event:v,listeners:m}),v.data=F))}nh(S,t)})}function To(e,t,r){return{instance:e,listener:t,currentTarget:r}}function za(e,t){for(var r=t+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=yo(e,r),f!=null&&o.unshift(To(e,f,u)),f=yo(e,t),f!=null&&o.push(To(e,f,u))),e=e.return}return o}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _0(e,t,r,o,u){for(var f=t._reactName,g=[];r!==null&&r!==o;){var x=r,w=x.alternate,m=x.stateNode;if(w!==null&&w===o)break;x.tag===5&&m!==null&&(x=m,u?(w=yo(r,f),w!=null&&g.unshift(To(r,w,x))):u||(w=yo(r,f),w!=null&&g.push(To(r,w,x)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var ym=/\r\n?/g,Cm=/\u0000|\uFFFD/g;function M0(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(Cm,"")}function ua(e,t,r){if(t=M0(t),M0(e)!==t&&r)throw Error(J(425))}function Ha(){}var $u=null,Ju=null;function ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(e){return O0.resolve(null).then(e).catch(Am)}:tc;function Am(e){setTimeout(function(){throw e})}function pu(e,t){var r=t,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(o===0){e.removeChild(u),vo(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=u}while(r);vo(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function R0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ds,No="__reactProps$"+Ds,Lr="__reactContainer$"+Ds,nc="__reactEvents$"+Ds,Sm="__reactListeners$"+Ds,Im="__reactHandles$"+Ds;function Mi(e){var t=e[xr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[xr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=R0(e);e!==null;){if(r=e[xr])return r;e=R0(e)}return t}e=r,r=e.parentNode}return null}function jo(e){return e=e[xr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function wl(e){return e[No]||null}var rc=[],cs=-1;function gi(e){return{current:e}}function tt(e){0>cs||(e.current=rc[cs],rc[cs]=null,cs--)}function Ke(e,t){cs++,rc[cs]=e.current,e.current=t}var di={},Qt=gi(di),cn=gi(!1),ki=di;function Is(e,t){var r=e.type.contextTypes;if(!r)return di;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function fn(e){return e=e.childContextTypes,e!=null}function Va(){tt(cn),tt(Qt)}function D0(e,t,r){if(Qt.current!==di)throw Error(J(168));Ke(Qt,t),Ke(cn,r)}function ih(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(J(108,up(e)||"Unknown",u));return ft({},r,o)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,ki=Qt.current,Ke(Qt,e),Ke(cn,cn.current),!0}function L0(e,t,r){var o=e.stateNode;if(!o)throw Error(J(169));r?(e=ih(e,t,ki),o.__reactInternalMemoizedMergedChildContext=e,tt(cn),tt(Qt),Ke(Qt,e)):tt(cn),Ke(cn,r)}var Nr=null,yl=!1,mu=!1;function sh(e){Nr===null?Nr=[e]:Nr.push(e)}function Tm(e){yl=!0,sh(e)}function pi(){if(!mu&&Nr!==null){mu=!0;var e=0,t=Ve;try{var r=Nr;for(Ve=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Nr=null,yl=!1}catch(u){throw Nr!==null&&(Nr=Nr.slice(e+1)),Md(Wc,pi),u}finally{Ve=t,mu=!1}}return null}var fs=[],ds=0,Ga=null,Ya=0,jn=[],Un=0,Pi=null,br=1,_r="";function bi(e,t){fs[ds++]=Ya,fs[ds++]=Ga,Ga=e,Ya=t}function oh(e,t,r){jn[Un++]=br,jn[Un++]=_r,jn[Un++]=Pi,Pi=e;var o=br;e=_r;var u=32-sr(o)-1;o&=~(1<<u),r+=1;var f=32-sr(t)+u;if(30<f){var g=u-u%5;f=(o&(1<<g)-1).toString(32),o>>=g,u-=g,br=1<<32-sr(t)+u|r<<u|o,_r=f+e}else br=1<<f|r<<u|o,_r=e}function Jc(e){e.return!==null&&(bi(e,1),oh(e,1,0))}function e1(e){for(;e===Ga;)Ga=fs[--ds],fs[ds]=null,Ya=fs[--ds],fs[ds]=null;for(;e===Pi;)Pi=jn[--Un],jn[Un]=null,_r=jn[--Un],jn[Un]=null,br=jn[--Un],jn[Un]=null}var In=null,Sn=null,st=!1,nr=null;function ah(e,t){var r=zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function k0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,In=e,Sn=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,In=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pi!==null?{id:br,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,In=e,Sn=null,!0):!1;default:return!1}}function ic(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sc(e){if(st){var t=Sn;if(t){var r=t;if(!k0(e,t)){if(ic(e))throw Error(J(418));t=si(r.nextSibling);var o=In;t&&k0(e,t)?ah(o,r):(e.flags=e.flags&-4097|2,st=!1,In=e)}}else{if(ic(e))throw Error(J(418));e.flags=e.flags&-4097|2,st=!1,In=e}}}function P0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function ca(e){if(e!==In)return!1;if(!st)return P0(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ec(e.type,e.memoizedProps)),t&&(t=Sn)){if(ic(e))throw lh(),Error(J(418));for(;t;)ah(e,t),t=si(t.nextSibling)}if(P0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sn=si(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=In?si(e.stateNode.nextSibling):null;return!0}function lh(){for(var e=Sn;e;)e=si(e.nextSibling)}function Ts(){Sn=In=null,st=!1}function t1(e){nr===null?nr=[e]:nr.push(e)}var Nm=Fr.ReactCurrentBatchConfig;function Js(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var o=r.stateNode}if(!o)throw Error(J(147,e));var u=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=u.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B0(e){var t=e._init;return t(e._payload)}function uh(e){function t(N,T){if(e){var O=N.deletions;O===null?(N.deletions=[T],N.flags|=16):O.push(T)}}function r(N,T){if(!e)return null;for(;T!==null;)t(N,T),T=T.sibling;return null}function o(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function u(N,T){return N=ui(N,T),N.index=0,N.sibling=null,N}function f(N,T,O){return N.index=O,e?(O=N.alternate,O!==null?(O=O.index,O<T?(N.flags|=2,T):O):(N.flags|=2,T)):(N.flags|=1048576,T)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,T,O,P){return T===null||T.tag!==6?(T=Au(O,N.mode,P),T.return=N,T):(T=u(T,O),T.return=N,T)}function w(N,T,O,P){var Q=O.type;return Q===ss?v(N,T,O.props.children,P,O.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Zr&&B0(Q)===T.type)?(P=u(T,O.props),P.ref=Js(N,T,O),P.return=N,P):(P=Ra(O.type,O.key,O.props,null,N.mode,P),P.ref=Js(N,T,O),P.return=N,P)}function m(N,T,O,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=Su(O,N.mode,P),T.return=N,T):(T=u(T,O.children||[]),T.return=N,T)}function v(N,T,O,P,Q){return T===null||T.tag!==7?(T=Li(O,N.mode,P,Q),T.return=N,T):(T=u(T,O),T.return=N,T)}function S(N,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Au(""+T,N.mode,O),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ea:return O=Ra(T.type,T.key,T.props,null,N.mode,O),O.ref=Js(N,null,T),O.return=N,O;case is:return T=Su(T,N.mode,O),T.return=N,T;case Zr:var P=T._init;return S(N,P(T._payload),O)}if(io(T)||Qs(T))return T=Li(T,N.mode,O,null),T.return=N,T;fa(N,T)}return null}function I(N,T,O,P){var Q=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:x(N,T,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ea:return O.key===Q?w(N,T,O,P):null;case is:return O.key===Q?m(N,T,O,P):null;case Zr:return Q=O._init,I(N,T,Q(O._payload),P)}if(io(O)||Qs(O))return Q!==null?null:v(N,T,O,P,null);fa(N,O)}return null}function k(N,T,O,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(O)||null,x(T,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ea:return N=N.get(P.key===null?O:P.key)||null,w(T,N,P,Q);case is:return N=N.get(P.key===null?O:P.key)||null,m(T,N,P,Q);case Zr:var X=P._init;return k(N,T,O,X(P._payload),Q)}if(io(P)||Qs(P))return N=N.get(O)||null,v(T,N,P,Q,null);fa(T,P)}return null}function H(N,T,O,P){for(var Q=null,X=null,F=T,Z=T=0,z=null;F!==null&&Z<O.length;Z++){F.index>Z?(z=F,F=null):z=F.sibling;var se=I(N,F,O[Z],P);if(se===null){F===null&&(F=z);break}e&&F&&se.alternate===null&&t(N,F),T=f(se,T,Z),X===null?Q=se:X.sibling=se,X=se,F=z}if(Z===O.length)return r(N,F),st&&bi(N,Z),Q;if(F===null){for(;Z<O.length;Z++)F=S(N,O[Z],P),F!==null&&(T=f(F,T,Z),X===null?Q=F:X.sibling=F,X=F);return st&&bi(N,Z),Q}for(F=o(N,F);Z<O.length;Z++)z=k(F,N,Z,O[Z],P),z!==null&&(e&&z.alternate!==null&&F.delete(z.key===null?Z:z.key),T=f(z,T,Z),X===null?Q=z:X.sibling=z,X=z);return e&&F.forEach(function(ge){return t(N,ge)}),st&&bi(N,Z),Q}function R(N,T,O,P){var Q=Qs(O);if(typeof Q!="function")throw Error(J(150));if(O=Q.call(O),O==null)throw Error(J(151));for(var X=Q=null,F=T,Z=T=0,z=null,se=O.next();F!==null&&!se.done;Z++,se=O.next()){F.index>Z?(z=F,F=null):z=F.sibling;var ge=I(N,F,se.value,P);if(ge===null){F===null&&(F=z);break}e&&F&&ge.alternate===null&&t(N,F),T=f(ge,T,Z),X===null?Q=ge:X.sibling=ge,X=ge,F=z}if(se.done)return r(N,F),st&&bi(N,Z),Q;if(F===null){for(;!se.done;Z++,se=O.next())se=S(N,se.value,P),se!==null&&(T=f(se,T,Z),X===null?Q=se:X.sibling=se,X=se);return st&&bi(N,Z),Q}for(F=o(N,F);!se.done;Z++,se=O.next())se=k(F,N,Z,se.value,P),se!==null&&(e&&se.alternate!==null&&F.delete(se.key===null?Z:se.key),T=f(se,T,Z),X===null?Q=se:X.sibling=se,X=se);return e&&F.forEach(function(ce){return t(N,ce)}),st&&bi(N,Z),Q}function B(N,T,O,P){if(typeof O=="object"&&O!==null&&O.type===ss&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case ea:e:{for(var Q=O.key,X=T;X!==null;){if(X.key===Q){if(Q=O.type,Q===ss){if(X.tag===7){r(N,X.sibling),T=u(X,O.props.children),T.return=N,N=T;break e}}else if(X.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Zr&&B0(Q)===X.type){r(N,X.sibling),T=u(X,O.props),T.ref=Js(N,X,O),T.return=N,N=T;break e}r(N,X);break}else t(N,X);X=X.sibling}O.type===ss?(T=Li(O.props.children,N.mode,P,O.key),T.return=N,N=T):(P=Ra(O.type,O.key,O.props,null,N.mode,P),P.ref=Js(N,T,O),P.return=N,N=P)}return g(N);case is:e:{for(X=O.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){r(N,T.sibling),T=u(T,O.children||[]),T.return=N,N=T;break e}else{r(N,T);break}else t(N,T);T=T.sibling}T=Su(O,N.mode,P),T.return=N,N=T}return g(N);case Zr:return X=O._init,B(N,T,X(O._payload),P)}if(io(O))return H(N,T,O,P);if(Qs(O))return R(N,T,O,P);fa(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(r(N,T.sibling),T=u(T,O),T.return=N,N=T):(r(N,T),T=Au(O,N.mode,P),T.return=N,N=T),g(N)):r(N,T)}return B}var Ns=uh(!0),ch=uh(!1),Xa=gi(null),Qa=null,hs=null,n1=null;function r1(){n1=hs=Qa=null}function i1(e){var t=Xa.current;tt(Xa),e._currentValue=t}function oc(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Es(e,t){Qa=e,n1=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(un=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(n1!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(Qa===null)throw Error(J(308));hs=e,Qa.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var Oi=null;function s1(e){Oi===null?Oi=[e]:Oi.push(e)}function fh(e,t,r,o){var u=t.interleaved;return u===null?(r.next=r,s1(t)):(r.next=u.next,u.next=r),t.interleaved=r,kr(e,o)}function kr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kr=!1;function o1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Pe&2){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,kr(e,r)}return u=o.interleaved,u===null?(t.next=t,s1(o)):(t.next=u.next,u.next=t),o.interleaved=t,kr(e,r)}function Ta(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Gc(e,r)}}function F0(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Za(e,t,r,o){var u=e.updateQueue;Kr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var w=x,m=w.next;w.next=null,g===null?f=m:g.next=m,g=w;var v=e.alternate;v!==null&&(v=v.updateQueue,x=v.lastBaseUpdate,x!==g&&(x===null?v.firstBaseUpdate=m:x.next=m,v.lastBaseUpdate=w))}if(f!==null){var S=u.baseState;g=0,v=m=w=null,x=f;do{var I=x.lane,k=x.eventTime;if((o&I)===I){v!==null&&(v=v.next={eventTime:k,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var H=e,R=x;switch(I=t,k=r,R.tag){case 1:if(H=R.payload,typeof H=="function"){S=H.call(k,S,I);break e}S=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=R.payload,I=typeof H=="function"?H.call(k,S,I):H,I==null)break e;S=ft({},S,I);break e;case 2:Kr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,I=u.effects,I===null?u.effects=[x]:I.push(x))}else k={eventTime:k,lane:I,tag:x.tag,payload:x.payload,callback:x.callback,next:null},v===null?(m=v=k,w=S):v=v.next=k,g|=I;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;I=x,x=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);if(v===null&&(w=S),u.baseState=w,u.firstBaseUpdate=m,u.lastBaseUpdate=v,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);Fi|=g,e.lanes=g,e.memoizedState=S}}function j0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=r,typeof u!="function")throw Error(J(191,u));u.call(o)}}}var Uo={},Er=gi(Uo),bo=gi(Uo),_o=gi(Uo);function Ri(e){if(e===Uo)throw Error(J(174));return e}function a1(e,t){switch(Ke(_o,t),Ke(bo,e),Ke(Er,Uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uu(t,e)}tt(Er),Ke(Er,t)}function bs(){tt(Er),tt(bo),tt(_o)}function hh(e){Ri(_o.current);var t=Ri(Er.current),r=Uu(t,e.type);t!==r&&(Ke(bo,e),Ke(Er,r))}function l1(e){bo.current===e&&(tt(Er),tt(bo))}var ut=gi(0);function Ka(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xu=[];function u1(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var Na=Fr.ReactCurrentDispatcher,wu=Fr.ReactCurrentBatchConfig,Bi=0,ct=null,It=null,Mt=null,qa=!1,ho=!1,Mo=0,bm=0;function Wt(){throw Error(J(321))}function c1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ar(e[r],t[r]))return!1;return!0}function f1(e,t,r,o,u,f){if(Bi=f,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Na.current=e===null||e.memoizedState===null?Rm:Dm,e=r(o,u),ho){f=0;do{if(ho=!1,Mo=0,25<=f)throw Error(J(301));f+=1,Mt=It=null,t.updateQueue=null,Na.current=Lm,e=r(o,u)}while(ho)}if(Na.current=$a,t=It!==null&&It.next!==null,Bi=0,Mt=It=ct=null,qa=!1,t)throw Error(J(300));return e}function d1(){var e=Mo!==0;return Mo=0,e}function pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Wn(){if(It===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Mt===null?ct.memoizedState:Mt.next;if(t!==null)Mt=t,It=e;else{if(e===null)throw Error(J(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Oo(e,t){return typeof t=="function"?t(e):t}function yu(e){var t=Wn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var o=It,u=o.baseQueue,f=r.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}o.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,o=o.baseState;var x=g=null,w=null,m=f;do{var v=m.lane;if((Bi&v)===v)w!==null&&(w=w.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:e(o,m.action);else{var S={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};w===null?(x=w=S,g=o):w=w.next=S,ct.lanes|=v,Fi|=v}m=m.next}while(m!==null&&m!==f);w===null?g=o:w.next=x,ar(o,t.memoizedState)||(un=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=w,r.lastRenderedState=o}if(e=r.interleaved,e!==null){u=e;do f=u.lane,ct.lanes|=f,Fi|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cu(e){var t=Wn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);ar(f,t.memoizedState)||(un=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,o]}function gh(){}function ph(e,t){var r=ct,o=Wn(),u=t(),f=!ar(o.memoizedState,u);if(f&&(o.memoizedState=u,un=!0),o=o.queue,h1(wh.bind(null,r,o,e),[e]),o.getSnapshot!==t||f||Mt!==null&&Mt.memoizedState.tag&1){if(r.flags|=2048,Ro(9,xh.bind(null,r,o,u,t),void 0,null),Rt===null)throw Error(J(349));Bi&30||mh(r,t,u)}return u}function mh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xh(e,t,r,o){t.value=r,t.getSnapshot=o,yh(t)&&Ch(e)}function wh(e,t,r){return r(function(){yh(t)&&Ch(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ar(e,r)}catch{return!0}}function Ch(e){var t=kr(e,1);t!==null&&or(t,e,1,-1)}function U0(e){var t=pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=Om.bind(null,ct,e),[t.memoizedState,e]}function Ro(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function Eh(){return Wn().memoizedState}function ba(e,t,r,o){var u=pr();ct.flags|=e,u.memoizedState=Ro(1|t,r,void 0,o===void 0?null:o)}function Cl(e,t,r,o){var u=Wn();o=o===void 0?null:o;var f=void 0;if(It!==null){var g=It.memoizedState;if(f=g.destroy,o!==null&&c1(o,g.deps)){u.memoizedState=Ro(t,r,f,o);return}}ct.flags|=e,u.memoizedState=Ro(1|t,r,f,o)}function z0(e,t){return ba(8390656,8,e,t)}function h1(e,t){return Cl(2048,8,e,t)}function vh(e,t){return Cl(4,2,e,t)}function Ah(e,t){return Cl(4,4,e,t)}function Sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ih(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4,4,Sh.bind(null,t,e),r)}function g1(){}function Th(e,t){var r=Wn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&c1(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Nh(e,t){var r=Wn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&c1(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function bh(e,t,r){return Bi&21?(ar(r,t)||(r=Dd(),ct.lanes|=r,Fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,un=!0),e.memoizedState=r)}function _m(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var o=wu.transition;wu.transition={};try{e(!1),t()}finally{Ve=r,wu.transition=o}}function _h(){return Wn().memoizedState}function Mm(e,t,r){var o=li(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},Mh(e))Oh(t,r);else if(r=fh(e,t,r,o),r!==null){var u=Jt();or(r,e,o,u),Rh(r,t,o)}}function Om(e,t,r){var o=li(e),u={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mh(e))Oh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,r);if(u.hasEagerState=!0,u.eagerState=x,ar(x,g)){var w=t.interleaved;w===null?(u.next=u,s1(t)):(u.next=w.next,w.next=u),t.interleaved=u;return}}catch{}finally{}r=fh(e,t,u,o),r!==null&&(u=Jt(),or(r,e,o,u),Rh(r,t,o))}}function Mh(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function Oh(e,t){ho=qa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rh(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Gc(e,r)}}var $a={readContext:Vn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Rm={readContext:Vn,useCallback:function(e,t){return pr().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:z0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ba(4194308,4,Sh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var r=pr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=pr();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Mm.bind(null,ct,e),[o.memoizedState,e]},useRef:function(e){var t=pr();return e={current:e},t.memoizedState=e},useState:U0,useDebugValue:g1,useDeferredValue:function(e){return pr().memoizedState=e},useTransition:function(){var e=U0(!1),t=e[0];return e=_m.bind(null,e[1]),pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=ct,u=pr();if(st){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Rt===null)throw Error(J(349));Bi&30||mh(o,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,z0(wh.bind(null,o,f,e),[e]),o.flags|=2048,Ro(9,xh.bind(null,o,f,r,t),void 0,null),r},useId:function(){var e=pr(),t=Rt.identifierPrefix;if(st){var r=_r,o=br;r=(o&~(1<<32-sr(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dm={readContext:Vn,useCallback:Th,useContext:Vn,useEffect:h1,useImperativeHandle:Ih,useInsertionEffect:vh,useLayoutEffect:Ah,useMemo:Nh,useReducer:yu,useRef:Eh,useState:function(){return yu(Oo)},useDebugValue:g1,useDeferredValue:function(e){var t=Wn();return bh(t,It.memoizedState,e)},useTransition:function(){var e=yu(Oo)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:ph,useId:_h,unstable_isNewReconciler:!1},Lm={readContext:Vn,useCallback:Th,useContext:Vn,useEffect:h1,useImperativeHandle:Ih,useInsertionEffect:vh,useLayoutEffect:Ah,useMemo:Nh,useReducer:Cu,useRef:Eh,useState:function(){return Cu(Oo)},useDebugValue:g1,useDeferredValue:function(e){var t=Wn();return It===null?t.memoizedState=e:bh(t,It.memoizedState,e)},useTransition:function(){var e=Cu(Oo)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:ph,useId:_h,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ac(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var El={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Jt(),u=li(e),f=Or(o,u);f.payload=t,r!=null&&(f.callback=r),t=oi(e,f,u),t!==null&&(or(t,e,u,o),Ta(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Jt(),u=li(e),f=Or(o,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=oi(e,f,u),t!==null&&(or(t,e,u,o),Ta(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jt(),o=li(e),u=Or(r,o);u.tag=2,t!=null&&(u.callback=t),t=oi(e,u,o),t!==null&&(or(t,e,o,r),Ta(t,e,o))}};function H0(e,t,r,o,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!So(r,o)||!So(u,f):!0}function Dh(e,t,r){var o=!1,u=di,f=t.contextType;return typeof f=="object"&&f!==null?f=Vn(f):(u=fn(t)?ki:Qt.current,o=t.contextTypes,f=(o=o!=null)?Is(e,u):di),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function V0(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function lc(e,t,r,o){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},o1(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Vn(f):(f=fn(t)?ki:Qt.current,u.context=Is(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ac(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&El.enqueueReplaceState(u,u.state,null),Za(e,r,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var r="",o=t;do r+=lp(o),o=o.return;while(o);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function Eu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var km=typeof WeakMap=="function"?WeakMap:Map;function Lh(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){el||(el=!0,yc=o),uc(e,t)},r}function kh(e,t,r){r=Or(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;r.payload=function(){return o(u)},r.callback=function(){uc(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){uc(e,t),typeof o!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function W0(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new km;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(r)||(u.add(r),e=Zm.bind(null,e,t,r),t.then(e,e))}function G0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y0(e,t,r,o,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,oi(r,t,1))),r.lanes|=1),e)}var Pm=Fr.ReactCurrentOwner,un=!1;function $t(e,t,r,o){t.child=e===null?ch(t,null,r,o):Ns(t,e.child,r,o)}function X0(e,t,r,o,u){r=r.render;var f=t.ref;return Es(t,u),o=f1(e,t,r,o,f,u),r=d1(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Pr(e,t,u)):(st&&r&&Jc(t),t.flags|=1,$t(e,t,o,u),t.child)}function Q0(e,t,r,o,u){if(e===null){var f=r.type;return typeof f=="function"&&!v1(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Ph(e,t,f,o,u)):(e=Ra(r.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:So,r(g,o)&&e.ref===t.ref)return Pr(e,t,u)}return t.flags|=1,e=ui(f,o),e.ref=t.ref,e.return=t,t.child=e}function Ph(e,t,r,o,u){if(e!==null){var f=e.memoizedProps;if(So(f,o)&&e.ref===t.ref)if(un=!1,t.pendingProps=o=f,(e.lanes&u)!==0)e.flags&131072&&(un=!0);else return t.lanes=e.lanes,Pr(e,t,u)}return cc(e,t,r,o,u)}function Bh(e,t,r){var o=t.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ps,vn),vn|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(ps,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:r,Ke(ps,vn),vn|=o}else f!==null?(o=f.baseLanes|r,t.memoizedState=null):o=r,Ke(ps,vn),vn|=o;return $t(e,t,u,r),t.child}function Fh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cc(e,t,r,o,u){var f=fn(r)?ki:Qt.current;return f=Is(t,f),Es(t,u),r=f1(e,t,r,o,f,u),o=d1(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Pr(e,t,u)):(st&&o&&Jc(t),t.flags|=1,$t(e,t,r,u),t.child)}function Z0(e,t,r,o,u){if(fn(r)){var f=!0;Wa(t)}else f=!1;if(Es(t,u),t.stateNode===null)_a(e,t),Dh(t,r,o),lc(t,r,o,u),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var w=g.context,m=r.contextType;typeof m=="object"&&m!==null?m=Vn(m):(m=fn(r)?ki:Qt.current,m=Is(t,m));var v=r.getDerivedStateFromProps,S=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||w!==m)&&V0(t,g,o,m),Kr=!1;var I=t.memoizedState;g.state=I,Za(t,o,g,u),w=t.memoizedState,x!==o||I!==w||cn.current||Kr?(typeof v=="function"&&(ac(t,r,v,o),w=t.memoizedState),(x=Kr||H0(t,r,x,o,I,w,m))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=w),g.props=o,g.state=w,g.context=m,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,dh(e,t),x=t.memoizedProps,m=t.type===t.elementType?x:Jn(t.type,x),g.props=m,S=t.pendingProps,I=g.context,w=r.contextType,typeof w=="object"&&w!==null?w=Vn(w):(w=fn(r)?ki:Qt.current,w=Is(t,w));var k=r.getDerivedStateFromProps;(v=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==S||I!==w)&&V0(t,g,o,w),Kr=!1,I=t.memoizedState,g.state=I,Za(t,o,g,u);var H=t.memoizedState;x!==S||I!==H||cn.current||Kr?(typeof k=="function"&&(ac(t,r,k,o),H=t.memoizedState),(m=Kr||H0(t,r,m,o,I,H,w)||!1)?(v||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,H,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,H,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=H),g.props=o,g.state=H,g.context=w,o=m):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),o=!1)}return fc(e,t,r,o,f,u)}function fc(e,t,r,o,u,f){Fh(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return u&&L0(t,r,!1),Pr(e,t,f);o=t.stateNode,Pm.current=t;var x=g&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=Ns(t,e.child,null,f),t.child=Ns(t,null,x,f)):$t(e,t,x,f),t.memoizedState=o.state,u&&L0(t,r,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?D0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D0(e,t.context,!1),a1(e,t.containerInfo)}function K0(e,t,r,o,u){return Ts(),t1(u),t.flags|=256,$t(e,t,r,o),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var o=t.pendingProps,u=ut.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(u&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ke(ut,u&1),e===null)return sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},!(o&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Sl(g,o,0,null),e=Li(e,o,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=hc(r),t.memoizedState=dc,e):p1(t,g));if(u=e.memoizedState,u!==null&&(x=u.dehydrated,x!==null))return Bm(e,t,g,o,x,u,r);if(f){f=o.fallback,g=t.mode,u=e.child,x=u.sibling;var w={mode:"hidden",children:o.children};return!(g&1)&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=w,t.deletions=null):(o=ui(u,w),o.subtreeFlags=u.subtreeFlags&14680064),x!==null?f=ui(x,f):(f=Li(f,g,r,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?hc(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~r,t.memoizedState=dc,o}return f=e.child,e=f.sibling,o=ui(f,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function p1(e,t){return t=Sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function da(e,t,r,o){return o!==null&&t1(o),Ns(t,e.child,null,r),e=p1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bm(e,t,r,o,u,f,g){if(r)return t.flags&256?(t.flags&=-257,o=Eu(Error(J(422))),da(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,u=t.mode,o=Sl({mode:"visible",children:o.children},u,0,null),f=Li(f,u,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,t.mode&1&&Ns(t,e.child,null,g),t.child.memoizedState=hc(g),t.memoizedState=dc,f);if(!(t.mode&1))return da(e,t,g,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var x=o.dgst;return o=x,f=Error(J(419)),o=Eu(f,o,void 0),da(e,t,g,o)}if(x=(g&e.childLanes)!==0,un||x){if(o=Rt,o!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(o.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,kr(e,u),or(o,e,u,-1))}return E1(),o=Eu(Error(J(421))),da(e,t,g,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Km.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Sn=si(u.nextSibling),In=t,st=!0,nr=null,e!==null&&(jn[Un++]=br,jn[Un++]=_r,jn[Un++]=Pi,br=e.id,_r=e.overflow,Pi=t),t=p1(t,o.children),t.flags|=4096,t)}function q0(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),oc(e.return,t,r)}function vu(e,t,r,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=u)}function zh(e,t,r){var o=t.pendingProps,u=o.revealOrder,f=o.tail;if($t(e,t,o.children,r),o=ut.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q0(e,r,t);else if(e.tag===19)q0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ke(ut,o),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Ka(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),vu(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ka(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}vu(t,!0,r,null,f);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=ui(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ui(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fm(e,t,r){switch(t.tag){case 3:jh(t),Ts();break;case 5:hh(t);break;case 1:fn(t.type)&&Wa(t);break;case 4:a1(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;Ke(Xa,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ke(ut,ut.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(Ke(ut,ut.current&1),e=Pr(e,t,r),e!==null?e.sibling:null);Ke(ut,ut.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return zh(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ke(ut,ut.current),o)break;return null;case 22:case 23:return t.lanes=0,Bh(e,t,r)}return Pr(e,t,r)}var Hh,gc,Vh,Wh;Hh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gc=function(){};Vh=function(e,t,r,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Ri(Er.current);var f=null;switch(r){case"input":u=Pu(e,u),o=Pu(e,o),f=[];break;case"select":u=ft({},u,{value:void 0}),o=ft({},o,{value:void 0}),f=[];break;case"textarea":u=ju(e,u),o=ju(e,o),f=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ha)}zu(r,o);var g;r=null;for(m in u)if(!o.hasOwnProperty(m)&&u.hasOwnProperty(m)&&u[m]!=null)if(m==="style"){var x=u[m];for(g in x)x.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(xo.hasOwnProperty(m)?f||(f=[]):(f=f||[]).push(m,null));for(m in o){var w=o[m];if(x=u!=null?u[m]:void 0,o.hasOwnProperty(m)&&w!==x&&(w!=null||x!=null))if(m==="style")if(x){for(g in x)!x.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in w)w.hasOwnProperty(g)&&x[g]!==w[g]&&(r||(r={}),r[g]=w[g])}else r||(f||(f=[]),f.push(m,r)),r=w;else m==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(f=f||[]).push(m,w)):m==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(m,""+w):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(xo.hasOwnProperty(m)?(w!=null&&m==="onScroll"&&Je("scroll",e),f||x===w||(f=[])):(f=f||[]).push(m,w))}r&&(f=f||[]).push("style",r);var m=f;(t.updateQueue=m)&&(t.flags|=4)}};Wh=function(e,t,r,o){r!==o&&(t.flags|=4)};function eo(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function jm(e,t,r){var o=t.pendingProps;switch(e1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return fn(t.type)&&Va(),Gt(t),null;case 3:return o=t.stateNode,bs(),tt(cn),tt(Qt),u1(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nr!==null&&(vc(nr),nr=null))),gc(e,t),Gt(t),null;case 5:l1(t);var u=Ri(_o.current);if(r=t.type,e!==null&&t.stateNode!=null)Vh(e,t,r,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(J(166));return Gt(t),null}if(e=Ri(Er.current),ca(t)){o=t.stateNode,r=t.type;var f=t.memoizedProps;switch(o[xr]=t,o[No]=f,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(u=0;u<oo.length;u++)Je(oo[u],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":o0(o,f),Je("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Je("invalid",o);break;case"textarea":l0(o,f),Je("invalid",o)}zu(r,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?o.textContent!==x&&(f.suppressHydrationWarning!==!0&&ua(o.textContent,x,e),u=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&ua(o.textContent,x,e),u=["children",""+x]):xo.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Je("scroll",o)}switch(r){case"input":ta(o),a0(o,f,!0);break;case"textarea":ta(o),u0(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Ha)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(r,{is:o.is}):(e=g.createElement(r),r==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,r),e[xr]=t,e[No]=o,Hh(e,t,!1,!1),t.stateNode=e;e:{switch(g=Hu(r,o),r){case"dialog":Je("cancel",e),Je("close",e),u=o;break;case"iframe":case"object":case"embed":Je("load",e),u=o;break;case"video":case"audio":for(u=0;u<oo.length;u++)Je(oo[u],e);u=o;break;case"source":Je("error",e),u=o;break;case"img":case"image":case"link":Je("error",e),Je("load",e),u=o;break;case"details":Je("toggle",e),u=o;break;case"input":o0(e,o),u=Pu(e,o),Je("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=ft({},o,{value:void 0}),Je("invalid",e);break;case"textarea":l0(e,o),u=ju(e,o),Je("invalid",e);break;default:u=o}zu(r,u),x=u;for(f in x)if(x.hasOwnProperty(f)){var w=x[f];f==="style"?Ed(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&yd(e,w)):f==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&wo(e,w):typeof w=="number"&&wo(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xo.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Je("scroll",e):w!=null&&jc(e,f,w,g))}switch(r){case"input":ta(e),a0(e,o,!1);break;case"textarea":ta(e),u0(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fi(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?xs(e,!!o.multiple,f,!1):o.defaultValue!=null&&xs(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ha)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)Wh(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(J(166));if(r=Ri(_o.current),Ri(Er.current),ca(t)){if(o=t.stateNode,r=t.memoizedProps,o[xr]=t,(f=o.nodeValue!==r)&&(e=In,e!==null))switch(e.tag){case 3:ua(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ua(o.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[xr]=t,t.stateNode=o}return Gt(t),null;case 13:if(tt(ut),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&Sn!==null&&t.mode&1&&!(t.flags&128))lh(),Ts(),t.flags|=98560,f=!1;else if(f=ca(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[xr]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),f=!1}else nr!==null&&(vc(nr),nr=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Tt===0&&(Tt=3):E1())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return bs(),gc(e,t),e===null&&Io(t.stateNode.containerInfo),Gt(t),null;case 10:return i1(t.type._context),Gt(t),null;case 17:return fn(t.type)&&Va(),Gt(t),null;case 19:if(tt(ut),f=t.memoizedState,f===null)return Gt(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)eo(f,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Ka(e),g!==null){for(t.flags|=128,eo(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)f=r,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(ut,ut.current&1|2),t.child}e=e.sibling}f.tail!==null&&wt()>Ms&&(t.flags|=128,o=!0,eo(f,!1),t.lanes=4194304)}else{if(!o)if(e=Ka(g),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!st)return Gt(t),null}else 2*wt()-f.renderingStartTime>Ms&&r!==1073741824&&(t.flags|=128,o=!0,eo(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(r=f.last,r!==null?r.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=wt(),t.sibling=null,r=ut.current,Ke(ut,o?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return C1(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?vn&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function Um(e,t){switch(e1(t),t.tag){case 1:return fn(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),tt(cn),tt(Qt),u1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return l1(t),null;case 13:if(tt(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(ut),null;case 4:return bs(),null;case 10:return i1(t.type._context),null;case 22:case 23:return C1(),null;case 24:return null;default:return null}}var ha=!1,Xt=!1,zm=typeof WeakSet=="function"?WeakSet:Set,le=null;function gs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){mt(e,t,o)}else r.current=null}function pc(e,t,r){try{r()}catch(o){mt(e,t,o)}}var $0=!1;function Hm(e,t){if($u=ja,e=Zd(),$c(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,x=-1,w=-1,m=0,v=0,S=e,I=null;t:for(;;){for(var k;S!==r||u!==0&&S.nodeType!==3||(x=g+u),S!==f||o!==0&&S.nodeType!==3||(w=g+o),S.nodeType===3&&(g+=S.nodeValue.length),(k=S.firstChild)!==null;)I=S,S=k;for(;;){if(S===e)break t;if(I===r&&++m===u&&(x=g),I===f&&++v===o&&(w=g),(k=S.nextSibling)!==null)break;S=I,I=S.parentNode}S=k}r=x===-1||w===-1?null:{start:x,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ju={focusedElem:e,selectionRange:r},ja=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var H=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var R=H.memoizedProps,B=H.memoizedState,N=t.stateNode,T=N.getSnapshotBeforeUpdate(t.elementType===t.type?R:Jn(t.type,R),B);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){mt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return H=$0,$0=!1,H}function go(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&pc(t,r,f)}u=u.next}while(u!==o)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function mc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[No],delete t[nc],delete t[Sm],delete t[Im])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yh(e){return e.tag===5||e.tag===3||e.tag===4}function J0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ha));else if(o!==4&&(e=e.child,e!==null))for(xc(e,t,r),e=e.sibling;e!==null;)xc(e,t,r),e=e.sibling}function wc(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(wc(e,t,r),e=e.sibling;e!==null;)wc(e,t,r),e=e.sibling}var Bt=null,er=!1;function Yr(e,t,r){for(r=r.child;r!==null;)Xh(e,t,r),r=r.sibling}function Xh(e,t,r){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(gl,r)}catch{}switch(r.tag){case 5:Xt||gs(r,t);case 6:var o=Bt,u=er;Bt=null,Yr(e,t,r),Bt=o,er=u,Bt!==null&&(er?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(er?(e=Bt,r=r.stateNode,e.nodeType===8?pu(e.parentNode,r):e.nodeType===1&&pu(e,r),vo(e)):pu(Bt,r.stateNode));break;case 4:o=Bt,u=er,Bt=r.stateNode.containerInfo,er=!0,Yr(e,t,r),Bt=o,er=u;break;case 0:case 11:case 14:case 15:if(!Xt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&pc(r,t,g),u=u.next}while(u!==o)}Yr(e,t,r);break;case 1:if(!Xt&&(gs(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(x){mt(r,t,x)}Yr(e,t,r);break;case 21:Yr(e,t,r);break;case 22:r.mode&1?(Xt=(o=Xt)||r.memoizedState!==null,Yr(e,t,r),Xt=o):Yr(e,t,r);break;default:Yr(e,t,r)}}function ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zm),t.forEach(function(o){var u=qm.bind(null,e,o);r.has(o)||(r.add(o),o.then(u,u))})}}function $n(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Bt=x.stateNode,er=!1;break e;case 3:Bt=x.stateNode.containerInfo,er=!0;break e;case 4:Bt=x.stateNode.containerInfo,er=!0;break e}x=x.return}if(Bt===null)throw Error(J(160));Xh(f,g,u),Bt=null,er=!1;var w=u.alternate;w!==null&&(w.return=null),u.return=null}catch(m){mt(u,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qh(t,e),t=t.sibling}function Qh(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),gr(e),o&4){try{go(3,e,e.return),vl(3,e)}catch(R){mt(e,e.return,R)}try{go(5,e,e.return)}catch(R){mt(e,e.return,R)}}break;case 1:$n(t,e),gr(e),o&512&&r!==null&&gs(r,r.return);break;case 5:if($n(t,e),gr(e),o&512&&r!==null&&gs(r,r.return),e.flags&32){var u=e.stateNode;try{wo(u,"")}catch(R){mt(e,e.return,R)}}if(o&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=r!==null?r.memoizedProps:f,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&md(u,f),Hu(x,g);var m=Hu(x,f);for(g=0;g<w.length;g+=2){var v=w[g],S=w[g+1];v==="style"?Ed(u,S):v==="dangerouslySetInnerHTML"?yd(u,S):v==="children"?wo(u,S):jc(u,v,S,m)}switch(x){case"input":Bu(u,f);break;case"textarea":xd(u,f);break;case"select":var I=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var k=f.value;k!=null?xs(u,!!f.multiple,k,!1):I!==!!f.multiple&&(f.defaultValue!=null?xs(u,!!f.multiple,f.defaultValue,!0):xs(u,!!f.multiple,f.multiple?[]:"",!1))}u[No]=f}catch(R){mt(e,e.return,R)}}break;case 6:if($n(t,e),gr(e),o&4){if(e.stateNode===null)throw Error(J(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(R){mt(e,e.return,R)}}break;case 3:if($n(t,e),gr(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(R){mt(e,e.return,R)}break;case 4:$n(t,e),gr(e);break;case 13:$n(t,e),gr(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(w1=wt())),o&4&&ef(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Xt=(m=Xt)||v,$n(t,e),Xt=m):$n(t,e),gr(e),o&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(le=e,v=e.child;v!==null;){for(S=le=v;le!==null;){switch(I=le,k=I.child,I.tag){case 0:case 11:case 14:case 15:go(4,I,I.return);break;case 1:gs(I,I.return);var H=I.stateNode;if(typeof H.componentWillUnmount=="function"){o=I,r=I.return;try{t=o,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(R){mt(o,r,R)}}break;case 5:gs(I,I.return);break;case 22:if(I.memoizedState!==null){nf(S);continue}}k!==null?(k.return=I,le=k):nf(S)}v=v.sibling}e:for(v=null,S=e;;){if(S.tag===5){if(v===null){v=S;try{u=S.stateNode,m?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=S.stateNode,w=S.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=Cd("display",g))}catch(R){mt(e,e.return,R)}}}else if(S.tag===6){if(v===null)try{S.stateNode.nodeValue=m?"":S.memoizedProps}catch(R){mt(e,e.return,R)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;v===S&&(v=null),S=S.return}v===S&&(v=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:$n(t,e),gr(e),o&4&&ef(e);break;case 21:break;default:$n(t,e),gr(e)}}function gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yh(r)){var o=r;break e}r=r.return}throw Error(J(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(wo(u,""),o.flags&=-33);var f=J0(e);wc(e,f,u);break;case 3:case 4:var g=o.stateNode.containerInfo,x=J0(e);xc(e,x,g);break;default:throw Error(J(161))}}catch(w){mt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vm(e,t,r){le=e,Zh(e)}function Zh(e,t,r){for(var o=(e.mode&1)!==0;le!==null;){var u=le,f=u.child;if(u.tag===22&&o){var g=u.memoizedState!==null||ha;if(!g){var x=u.alternate,w=x!==null&&x.memoizedState!==null||Xt;x=ha;var m=Xt;if(ha=g,(Xt=w)&&!m)for(le=u;le!==null;)g=le,w=g.child,g.tag===22&&g.memoizedState!==null?rf(u):w!==null?(w.return=g,le=w):rf(u);for(;f!==null;)le=f,Zh(f),f=f.sibling;le=u,ha=x,Xt=m}tf(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,le=f):tf(e)}}function tf(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||vl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Xt)if(r===null)o.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Jn(t.type,r.memoizedProps);o.componentDidUpdate(u,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&j0(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}j0(t,g,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var S=v.dehydrated;S!==null&&vo(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Xt||t.flags&512&&mc(t)}catch(I){mt(t,t.return,I)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function nf(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function rf(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vl(4,t)}catch(w){mt(t,r,w)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(w){mt(t,u,w)}}var f=t.return;try{mc(t)}catch(w){mt(t,f,w)}break;case 5:var g=t.return;try{mc(t)}catch(w){mt(t,g,w)}}}catch(w){mt(t,t.return,w)}if(t===e){le=null;break}var x=t.sibling;if(x!==null){x.return=t.return,le=x;break}le=t.return}}var Wm=Math.ceil,Ja=Fr.ReactCurrentDispatcher,m1=Fr.ReactCurrentOwner,Hn=Fr.ReactCurrentBatchConfig,Pe=0,Rt=null,Ct=null,jt=0,vn=0,ps=gi(0),Tt=0,Do=null,Fi=0,Al=0,x1=0,po=null,ln=null,w1=0,Ms=1/0,Tr=null,el=!1,yc=null,ai=null,ga=!1,ei=null,tl=0,mo=0,Cc=null,Ma=-1,Oa=0;function Jt(){return Pe&6?wt():Ma!==-1?Ma:Ma=wt()}function li(e){return e.mode&1?Pe&2&&jt!==0?jt&-jt:Nm.transition!==null?(Oa===0&&(Oa=Dd()),Oa):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function or(e,t,r,o){if(50<mo)throw mo=0,Cc=null,Error(J(185));Bo(e,r,o),(!(Pe&2)||e!==Rt)&&(e===Rt&&(!(Pe&2)&&(Al|=r),Tt===4&&$r(e,jt)),dn(e,o),r===1&&Pe===0&&!(t.mode&1)&&(Ms=wt()+500,yl&&pi()))}function dn(e,t){var r=e.callbackNode;Np(e,t);var o=Fa(e,e===Rt?jt:0);if(o===0)r!==null&&d0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&d0(r),t===1)e.tag===0?Tm(sf.bind(null,e)):sh(sf.bind(null,e)),vm(function(){!(Pe&6)&&pi()}),r=null;else{switch(Ld(o)){case 1:r=Wc;break;case 4:r=Od;break;case 16:r=Ba;break;case 536870912:r=Rd;break;default:r=Ba}r=rg(r,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kh(e,t){if(Ma=-1,Oa=0,Pe&6)throw Error(J(327));var r=e.callbackNode;if(vs()&&e.callbackNode!==r)return null;var o=Fa(e,e===Rt?jt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=nl(e,o);else{t=o;var u=Pe;Pe|=2;var f=$h();(Rt!==e||jt!==t)&&(Tr=null,Ms=wt()+500,Di(e,t));do try{Xm();break}catch(x){qh(e,x)}while(!0);r1(),Ja.current=f,Pe=u,Ct!==null?t=0:(Rt=null,jt=0,t=Tt)}if(t!==0){if(t===2&&(u=Xu(e),u!==0&&(o=u,t=Ec(e,u))),t===1)throw r=Do,Di(e,0),$r(e,o),dn(e,wt()),r;if(t===6)$r(e,o);else{if(u=e.current.alternate,!(o&30)&&!Gm(u)&&(t=nl(e,o),t===2&&(f=Xu(e),f!==0&&(o=f,t=Ec(e,f))),t===1))throw r=Do,Di(e,0),$r(e,o),dn(e,wt()),r;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(J(345));case 2:_i(e,ln,Tr);break;case 3:if($r(e,o),(o&130023424)===o&&(t=w1+500-wt(),10<t)){if(Fa(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){Jt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=tc(_i.bind(null,e,ln,Tr),t);break}_i(e,ln,Tr);break;case 4:if($r(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var g=31-sr(o);f=1<<g,g=t[g],g>u&&(u=g),o&=~f}if(o=u,o=wt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Wm(o/1960))-o,10<o){e.timeoutHandle=tc(_i.bind(null,e,ln,Tr),o);break}_i(e,ln,Tr);break;case 5:_i(e,ln,Tr);break;default:throw Error(J(329))}}}return dn(e,wt()),e.callbackNode===r?Kh.bind(null,e):null}function Ec(e,t){var r=po;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=nl(e,t),e!==2&&(t=ln,ln=r,t!==null&&vc(t)),e}function vc(e){ln===null?ln=e:ln.push.apply(ln,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var u=r[o],f=u.getSnapshot;u=u.value;try{if(!ar(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~x1,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sr(t),o=1<<r;e[r]=-1,t&=~o}}function sf(e){if(Pe&6)throw Error(J(327));vs();var t=Fa(e,0);if(!(t&1))return dn(e,wt()),null;var r=nl(e,t);if(e.tag!==0&&r===2){var o=Xu(e);o!==0&&(t=o,r=Ec(e,o))}if(r===1)throw r=Do,Di(e,0),$r(e,t),dn(e,wt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,ln,Tr),dn(e,wt()),null}function y1(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Ms=wt()+500,yl&&pi())}}function ji(e){ei!==null&&ei.tag===0&&!(Pe&6)&&vs();var t=Pe;Pe|=1;var r=Hn.transition,o=Ve;try{if(Hn.transition=null,Ve=1,e)return e()}finally{Ve=o,Hn.transition=r,Pe=t,!(Pe&6)&&pi()}}function C1(){vn=ps.current,tt(ps)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Em(r)),Ct!==null)for(r=Ct.return;r!==null;){var o=r;switch(e1(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Va();break;case 3:bs(),tt(cn),tt(Qt),u1();break;case 5:l1(o);break;case 4:bs();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:i1(o.type._context);break;case 22:case 23:C1()}r=r.return}if(Rt=e,Ct=e=ui(e.current,null),jt=vn=t,Tt=0,Do=null,x1=Al=Fi=0,ln=po=null,Oi!==null){for(t=0;t<Oi.length;t++)if(r=Oi[t],o=r.interleaved,o!==null){r.interleaved=null;var u=o.next,f=r.pending;if(f!==null){var g=f.next;f.next=u,o.next=g}r.pending=o}Oi=null}return e}function qh(e,t){do{var r=Ct;try{if(r1(),Na.current=$a,qa){for(var o=ct.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}qa=!1}if(Bi=0,Mt=It=ct=null,ho=!1,Mo=0,m1.current=null,r===null||r.return===null){Tt=1,Do=t,Ct=null;break}e:{var f=e,g=r.return,x=r,w=t;if(t=jt,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var m=w,v=x,S=v.tag;if(!(v.mode&1)&&(S===0||S===11||S===15)){var I=v.alternate;I?(v.updateQueue=I.updateQueue,v.memoizedState=I.memoizedState,v.lanes=I.lanes):(v.updateQueue=null,v.memoizedState=null)}var k=G0(g);if(k!==null){k.flags&=-257,Y0(k,g,x,f,t),k.mode&1&&W0(f,m,t),t=k,w=m;var H=t.updateQueue;if(H===null){var R=new Set;R.add(w),t.updateQueue=R}else H.add(w);break e}else{if(!(t&1)){W0(f,m,t),E1();break e}w=Error(J(426))}}else if(st&&x.mode&1){var B=G0(g);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Y0(B,g,x,f,t),t1(_s(w,x));break e}}f=w=_s(w,x),Tt!==4&&(Tt=2),po===null?po=[f]:po.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var N=Lh(f,w,t);F0(f,N);break e;case 1:x=w;var T=f.type,O=f.stateNode;if(!(f.flags&128)&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ai===null||!ai.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var P=kh(f,x,t);F0(f,P);break e}}f=f.return}while(f!==null)}eg(r)}catch(Q){t=Q,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function $h(){var e=Ja.current;return Ja.current=$a,e===null?$a:e}function E1(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||!(Fi&268435455)&&!(Al&268435455)||$r(Rt,jt)}function nl(e,t){var r=Pe;Pe|=2;var o=$h();(Rt!==e||jt!==t)&&(Tr=null,Di(e,t));do try{Ym();break}catch(u){qh(e,u)}while(!0);if(r1(),Pe=r,Ja.current=o,Ct!==null)throw Error(J(261));return Rt=null,jt=0,Tt}function Ym(){for(;Ct!==null;)Jh(Ct)}function Xm(){for(;Ct!==null&&!wp();)Jh(Ct)}function Jh(e){var t=ng(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?eg(e):Ct=t,m1.current=null}function eg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Um(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,Ct=null;return}}else if(r=jm(r,t,vn),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Tt===0&&(Tt=5)}function _i(e,t,r){var o=Ve,u=Hn.transition;try{Hn.transition=null,Ve=1,Qm(e,t,r,o)}finally{Hn.transition=u,Ve=o}return null}function Qm(e,t,r,o){do vs();while(ei!==null);if(Pe&6)throw Error(J(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(bp(e,f),e===Rt&&(Ct=Rt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ga||(ga=!0,rg(Ba,function(){return vs(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=Hn.transition,Hn.transition=null;var g=Ve;Ve=1;var x=Pe;Pe|=4,m1.current=null,Hm(e,r),Qh(r,e),gm(Ju),ja=!!$u,Ju=$u=null,e.current=r,Vm(r),yp(),Pe=x,Ve=g,Hn.transition=f}else e.current=r;if(ga&&(ga=!1,ei=e,tl=u),f=e.pendingLanes,f===0&&(ai=null),vp(r.stateNode),dn(e,wt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],o(u.value,{componentStack:u.stack,digest:u.digest});if(el)throw el=!1,e=yc,yc=null,e;return tl&1&&e.tag!==0&&vs(),f=e.pendingLanes,f&1?e===Cc?mo++:(mo=0,Cc=e):mo=0,pi(),null}function vs(){if(ei!==null){var e=Ld(tl),t=Hn.transition,r=Ve;try{if(Hn.transition=null,Ve=16>e?16:e,ei===null)var o=!1;else{if(e=ei,ei=null,tl=0,Pe&6)throw Error(J(331));var u=Pe;for(Pe|=4,le=e.current;le!==null;){var f=le,g=f.child;if(le.flags&16){var x=f.deletions;if(x!==null){for(var w=0;w<x.length;w++){var m=x[w];for(le=m;le!==null;){var v=le;switch(v.tag){case 0:case 11:case 15:go(8,v,f)}var S=v.child;if(S!==null)S.return=v,le=S;else for(;le!==null;){v=le;var I=v.sibling,k=v.return;if(Gh(v),v===m){le=null;break}if(I!==null){I.return=k,le=I;break}le=k}}}var H=f.alternate;if(H!==null){var R=H.child;if(R!==null){H.child=null;do{var B=R.sibling;R.sibling=null,R=B}while(R!==null)}}le=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,le=g;else e:for(;le!==null;){if(f=le,f.flags&2048)switch(f.tag){case 0:case 11:case 15:go(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,le=N;break e}le=f.return}}var T=e.current;for(le=T;le!==null;){g=le;var O=g.child;if(g.subtreeFlags&2064&&O!==null)O.return=g,le=O;else e:for(g=T;le!==null;){if(x=le,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:vl(9,x)}}catch(Q){mt(x,x.return,Q)}if(x===g){le=null;break e}var P=x.sibling;if(P!==null){P.return=x.return,le=P;break e}le=x.return}}if(Pe=u,pi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(gl,e)}catch{}o=!0}return o}finally{Ve=r,Hn.transition=t}}return!1}function of(e,t,r){t=_s(r,t),t=Lh(e,t,1),e=oi(e,t,1),t=Jt(),e!==null&&(Bo(e,1,t),dn(e,t))}function mt(e,t,r){if(e.tag===3)of(e,e,r);else for(;t!==null;){if(t.tag===3){of(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ai===null||!ai.has(o))){e=_s(r,e),e=kh(t,e,1),t=oi(t,e,1),e=Jt(),t!==null&&(Bo(t,1,e),dn(t,e));break}}t=t.return}}function Zm(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(jt&r)===r&&(Tt===4||Tt===3&&(jt&130023424)===jt&&500>wt()-w1?Di(e,0):x1|=r),dn(e,t)}function tg(e,t){t===0&&(e.mode&1?(t=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):t=1);var r=Jt();e=kr(e,t),e!==null&&(Bo(e,t,r),dn(e,r))}function Km(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tg(e,r)}function qm(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(J(314))}o!==null&&o.delete(t),tg(e,r)}var ng;ng=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return un=!1,Fm(e,t,r);un=!!(e.flags&131072)}else un=!1,st&&t.flags&1048576&&oh(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;_a(e,t),e=t.pendingProps;var u=Is(t,Qt.current);Es(t,r),u=f1(null,t,o,e,u,r);var f=d1();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(o)?(f=!0,Wa(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,o1(t),u.updater=El,t.stateNode=u,u._reactInternals=t,lc(t,o,e,r),t=fc(null,t,o,!0,f,r)):(t.tag=0,st&&f&&Jc(t),$t(null,t,u,r),t=t.child),t;case 16:o=t.elementType;e:{switch(_a(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=Jm(o),e=Jn(o,e),u){case 0:t=cc(null,t,o,e,r);break e;case 1:t=Z0(null,t,o,e,r);break e;case 11:t=X0(null,t,o,e,r);break e;case 14:t=Q0(null,t,o,Jn(o.type,e),r);break e}throw Error(J(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Jn(o,u),cc(e,t,o,u,r);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Jn(o,u),Z0(e,t,o,u,r);case 3:e:{if(jh(t),e===null)throw Error(J(387));o=t.pendingProps,f=t.memoizedState,u=f.element,dh(e,t),Za(t,o,null,r);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=_s(Error(J(423)),t),t=K0(e,t,o,r,u);break e}else if(o!==u){u=_s(Error(J(424)),t),t=K0(e,t,o,r,u);break e}else for(Sn=si(t.stateNode.containerInfo.firstChild),In=t,st=!0,nr=null,r=ch(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),o===u){t=Pr(e,t,r);break e}$t(e,t,o,r)}t=t.child}return t;case 5:return hh(t),e===null&&sc(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,ec(o,u)?g=null:f!==null&&ec(o,f)&&(t.flags|=32),Fh(e,t),$t(e,t,g,r),t.child;case 6:return e===null&&sc(t),null;case 13:return Uh(e,t,r);case 4:return a1(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ns(t,null,o,r):$t(e,t,o,r),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Jn(o,u),X0(e,t,o,u,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,f=t.memoizedProps,g=u.value,Ke(Xa,o._currentValue),o._currentValue=g,f!==null)if(ar(f.value,g)){if(f.children===u.children&&!cn.current){t=Pr(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var w=x.firstContext;w!==null;){if(w.context===o){if(f.tag===1){w=Or(-1,r&-r),w.tag=2;var m=f.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?w.next=w:(w.next=v.next,v.next=w),m.pending=w}}f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),oc(f.return,r,t),x.lanes|=r;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(J(341));g.lanes|=r,x=g.alternate,x!==null&&(x.lanes|=r),oc(g,r,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}$t(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,Es(t,r),u=Vn(u),o=o(u),t.flags|=1,$t(e,t,o,r),t.child;case 14:return o=t.type,u=Jn(o,t.pendingProps),u=Jn(o.type,u),Q0(e,t,o,u,r);case 15:return Ph(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Jn(o,u),_a(e,t),t.tag=1,fn(o)?(e=!0,Wa(t)):e=!1,Es(t,r),Dh(t,o,u),lc(t,o,u,r),fc(null,t,o,!0,e,r);case 19:return zh(e,t,r);case 22:return Bh(e,t,r)}throw Error(J(156,t.tag))};function rg(e,t){return Md(e,t)}function $m(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,o){return new $m(e,t,r,o)}function v1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return v1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zc)return 11;if(e===Hc)return 14}return 2}function ui(e,t){var r=e.alternate;return r===null?(r=zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,t,r,o,u,f){var g=2;if(o=e,typeof e=="function")v1(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ss:return Li(r.children,u,f,t);case Uc:g=8,u|=8;break;case Ru:return e=zn(12,r,t,u|2),e.elementType=Ru,e.lanes=f,e;case Du:return e=zn(13,r,t,u),e.elementType=Du,e.lanes=f,e;case Lu:return e=zn(19,r,t,u),e.elementType=Lu,e.lanes=f,e;case hd:return Sl(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fd:g=10;break e;case dd:g=9;break e;case zc:g=11;break e;case Hc:g=14;break e;case Zr:g=16,o=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=zn(g,r,t,u),t.elementType=e,t.type=o,t.lanes=f,t}function Li(e,t,r,o){return e=zn(7,e,o,t),e.lanes=r,e}function Sl(e,t,r,o){return e=zn(22,e,o,t),e.elementType=hd,e.lanes=r,e.stateNode={isHidden:!1},e}function Au(e,t,r){return e=zn(6,e,null,t),e.lanes=r,e}function Su(e,t,r){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ex(e,t,r,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function A1(e,t,r,o,u,f,g,x,w){return e=new ex(e,t,r,x,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=zn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},o1(f),e}function tx(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function ig(e){if(!e)return di;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(fn(r))return ih(e,r,t)}return t}function sg(e,t,r,o,u,f,g,x,w){return e=A1(r,o,!0,e,u,f,g,x,w),e.context=ig(null),r=e.current,o=Jt(),u=li(r),f=Or(o,u),f.callback=t??null,oi(r,f,u),e.current.lanes=u,Bo(e,u,o),dn(e,o),e}function Il(e,t,r,o){var u=t.current,f=Jt(),g=li(u);return r=ig(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=oi(u,t,g),e!==null&&(or(e,u,g,f),Ta(e,u,g)),g}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function S1(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function nx(){return null}var og=typeof reportError=="function"?reportError:function(e){console.error(e)};function I1(e){this._internalRoot=e}Tl.prototype.render=I1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Il(e,t,null,null)};Tl.prototype.unmount=I1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){Il(null,e,null,null)}),t[Lr]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qr.length&&t!==0&&t<qr[r].priority;r++);qr.splice(r,0,e),r===0&&jd(e)}};function T1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lf(){}function rx(e,t,r,o,u){if(u){if(typeof o=="function"){var f=o;o=function(){var m=rl(g);f.call(m)}}var g=sg(t,o,e,0,null,!1,!1,"",lf);return e._reactRootContainer=g,e[Lr]=g.current,Io(e.nodeType===8?e.parentNode:e),ji(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var x=o;o=function(){var m=rl(w);x.call(m)}}var w=A1(e,0,!1,null,null,!1,!1,"",lf);return e._reactRootContainer=w,e[Lr]=w.current,Io(e.nodeType===8?e.parentNode:e),ji(function(){Il(t,w,r,o)}),w}function bl(e,t,r,o,u){var f=r._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var x=u;u=function(){var w=rl(g);x.call(w)}}Il(t,g,e,u)}else g=rx(r,t,e,u,o);return rl(g)}kd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=so(t.pendingLanes);r!==0&&(Gc(t,r|1),dn(t,wt()),!(Pe&6)&&(Ms=wt()+500,pi()))}break;case 13:ji(function(){var o=kr(e,1);if(o!==null){var u=Jt();or(o,e,1,u)}}),S1(e,1)}};Yc=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var r=Jt();or(t,e,134217728,r)}S1(e,134217728)}};Pd=function(e){if(e.tag===13){var t=li(e),r=kr(e,t);if(r!==null){var o=Jt();or(r,e,t,o)}S1(e,t)}};Bd=function(){return Ve};Fd=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};Wu=function(e,t,r){switch(t){case"input":if(Bu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var u=wl(o);if(!u)throw Error(J(90));pd(o),Bu(o,u)}}}break;case"textarea":xd(e,r);break;case"select":t=r.value,t!=null&&xs(e,!!r.multiple,t,!1)}};Sd=y1;Id=ji;var ix={usingClientEntryPoint:!1,Events:[jo,us,wl,vd,Ad,y1]},to={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sx={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bd(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{gl=pa.inject(sx),Cr=pa}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;Nn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T1(t))throw Error(J(200));return tx(e,t,null,r)};Nn.createRoot=function(e,t){if(!T1(e))throw Error(J(299));var r=!1,o="",u=og;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=A1(e,1,!1,null,null,r,!1,o,u),e[Lr]=t.current,Io(e.nodeType===8?e.parentNode:e),new I1(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=bd(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return ji(e)};Nn.hydrate=function(e,t,r){if(!Nl(t))throw Error(J(200));return bl(null,e,t,!0,r)};Nn.hydrateRoot=function(e,t,r){if(!T1(e))throw Error(J(405));var o=r!=null&&r.hydratedSources||null,u=!1,f="",g=og;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=sg(t,null,e,1,r??null,u,!1,f,g),e[Lr]=t.current,Io(e),o)for(e=0;e<o.length;e++)r=o[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Tl(t)};Nn.render=function(e,t,r){if(!Nl(t))throw Error(J(200));return bl(null,e,t,!1,r)};Nn.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(J(40));return e._reactRootContainer?(ji(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};Nn.unstable_batchedUpdates=y1;Nn.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!Nl(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return bl(e,t,r,!1,o)};Nn.version="18.3.1-next-f1338f8080-20240426";function ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ag)}catch(e){console.error(e)}}ag(),ad.exports=Nn;var lg=ad.exports;const ox=Rc(lg);var ug,uf=lg;ug=uf.createRoot,uf.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Lo.apply(this,arguments)}var ti;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ti||(ti={}));const cf="popstate";function ax(e){e===void 0&&(e={});function t(o,u){let{pathname:f,search:g,hash:x}=o.location;return Ac("",{pathname:f,search:g,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){return typeof u=="string"?u:il(u)}return ux(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lx(){return Math.random().toString(36).substr(2,8)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function Ac(e,t,r,o){return r===void 0&&(r=null),Lo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:r,key:t&&t.key||o||lx()})}function il(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function ux(e,t,r,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:f=!1}=o,g=u.history,x=ti.Pop,w=null,m=v();m==null&&(m=0,g.replaceState(Lo({},g.state,{idx:m}),""));function v(){return(g.state||{idx:null}).idx}function S(){x=ti.Pop;let B=v(),N=B==null?null:B-m;m=B,w&&w({action:x,location:R.location,delta:N})}function I(B,N){x=ti.Push;let T=Ac(R.location,B,N);m=v()+1;let O=ff(T,m),P=R.createHref(T);try{g.pushState(O,"",P)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(P)}f&&w&&w({action:x,location:R.location,delta:1})}function k(B,N){x=ti.Replace;let T=Ac(R.location,B,N);m=v();let O=ff(T,m),P=R.createHref(T);g.replaceState(O,"",P),f&&w&&w({action:x,location:R.location,delta:0})}function H(B){let N=u.location.origin!=="null"?u.location.origin:u.location.href,T=typeof B=="string"?B:il(B);return T=T.replace(/ $/,"%20"),yt(N,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,N)}let R={get action(){return x},get location(){return e(u,g)},listen(B){if(w)throw new Error("A history only accepts one active listener");return u.addEventListener(cf,S),w=B,()=>{u.removeEventListener(cf,S),w=null}},createHref(B){return t(u,B)},createURL:H,encodeLocation(B){let N=H(B);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:I,replace:k,go(B){return g.go(B)}};return R}var df;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(df||(df={}));function cx(e,t,r){return r===void 0&&(r="/"),fx(e,t,r,!1)}function fx(e,t,r,o){let u=typeof t=="string"?Ls(t):t,f=N1(u.pathname||"/",r);if(f==null)return null;let g=fg(e);dx(g);let x=null;for(let w=0;x==null&&w<g.length;++w){let m=Ax(f);x=Ex(g[w],m,o)}return x}function fg(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let u=(f,g,x)=>{let w={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};w.relativePath.startsWith("/")&&(yt(w.relativePath.startsWith(o),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(o.length));let m=ci([o,w.relativePath]),v=r.concat(w);f.children&&f.children.length>0&&(yt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),fg(f.children,t,v,m)),!(f.path==null&&!f.index)&&t.push({path:m,score:yx(m,f.index),routesMeta:v})};return e.forEach((f,g)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))u(f,g);else for(let w of dg(f.path))u(f,g,w)}),t}function dg(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,u=r.endsWith("?"),f=r.replace(/\?$/,"");if(o.length===0)return u?[f,""]:[f];let g=dg(o.join("/")),x=[];return x.push(...g.map(w=>w===""?f:[f,w].join("/"))),u&&x.push(...g),x.map(w=>e.startsWith("/")&&w===""?"/":w)}function dx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Cx(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const hx=/^:[\w-]+$/,gx=3,px=2,mx=1,xx=10,wx=-2,hf=e=>e==="*";function yx(e,t){let r=e.split("/"),o=r.length;return r.some(hf)&&(o+=wx),t&&(o+=px),r.filter(u=>!hf(u)).reduce((u,f)=>u+(hx.test(f)?gx:f===""?mx:xx),o)}function Cx(e,t){return e.length===t.length&&e.slice(0,-1).every((o,u)=>o===t[u])?e[e.length-1]-t[t.length-1]:0}function Ex(e,t,r){let{routesMeta:o}=e,u={},f="/",g=[];for(let x=0;x<o.length;++x){let w=o[x],m=x===o.length-1,v=f==="/"?t:t.slice(f.length)||"/",S=gf({path:w.relativePath,caseSensitive:w.caseSensitive,end:m},v),I=w.route;if(!S&&m&&r&&!o[o.length-1].route.index&&(S=gf({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},v)),!S)return null;Object.assign(u,S.params),g.push({params:u,pathname:ci([f,S.pathname]),pathnameBase:Nx(ci([f,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(f=ci([f,S.pathnameBase]))}return g}function gf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=vx(e.path,e.caseSensitive,e.end),u=t.match(r);if(!u)return null;let f=u[0],g=f.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:o.reduce((m,v,S)=>{let{paramName:I,isOptional:k}=v;if(I==="*"){let R=x[S]||"";g=f.slice(0,f.length-R.length).replace(/(.)\/+$/,"$1")}const H=x[S];return k&&!H?m[I]=void 0:m[I]=(H||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:g,pattern:e}}function vx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,w)=>(o.push({paramName:x,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),o]}function Ax(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function N1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function Sx(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:u=""}=typeof e=="string"?Ls(e):e;return{pathname:r?r.startsWith("/")?r:Ix(r,t):t,search:bx(o),hash:_x(u)}}function Ix(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Iu(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function b1(e,t){let r=Tx(e);return t?r.map((o,u)=>u===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function _1(e,t,r,o){o===void 0&&(o=!1);let u;typeof e=="string"?u=Ls(e):(u=Lo({},e),yt(!u.pathname||!u.pathname.includes("?"),Iu("?","pathname","search",u)),yt(!u.pathname||!u.pathname.includes("#"),Iu("#","pathname","hash",u)),yt(!u.search||!u.search.includes("#"),Iu("#","search","hash",u)));let f=e===""||u.pathname==="",g=f?"/":u.pathname,x;if(g==null)x=r;else{let S=t.length-1;if(!o&&g.startsWith("..")){let I=g.split("/");for(;I[0]==="..";)I.shift(),S-=1;u.pathname=I.join("/")}x=S>=0?t[S]:"/"}let w=Sx(u,x),m=g&&g!=="/"&&g.endsWith("/"),v=(f||g===".")&&r.endsWith("/");return!w.pathname.endsWith("/")&&(m||v)&&(w.pathname+="/"),w}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),Nx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_x=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hg=["post","put","patch","delete"];new Set(hg);const Ox=["get",...hg];new Set(Ox);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ko.apply(this,arguments)}const M1=G.createContext(null),Rx=G.createContext(null),mi=G.createContext(null),_l=G.createContext(null),vr=G.createContext({outlet:null,matches:[],isDataRoute:!1}),gg=G.createContext(null);function Dx(e,t){let{relative:r}=t===void 0?{}:t;ks()||yt(!1);let{basename:o,navigator:u}=G.useContext(mi),{hash:f,pathname:g,search:x}=xg(e,{relative:r}),w=g;return o!=="/"&&(w=g==="/"?o:ci([o,g])),u.createHref({pathname:w,search:x,hash:f})}function ks(){return G.useContext(_l)!=null}function xi(){return ks()||yt(!1),G.useContext(_l).location}function pg(e){G.useContext(mi).static||G.useLayoutEffect(e)}function Hi(){let{isDataRoute:e}=G.useContext(vr);return e?Qx():Lx()}function Lx(){ks()||yt(!1);let e=G.useContext(M1),{basename:t,future:r,navigator:o}=G.useContext(mi),{matches:u}=G.useContext(vr),{pathname:f}=xi(),g=JSON.stringify(b1(u,r.v7_relativeSplatPath)),x=G.useRef(!1);return pg(()=>{x.current=!0}),G.useCallback(function(m,v){if(v===void 0&&(v={}),!x.current)return;if(typeof m=="number"){o.go(m);return}let S=_1(m,JSON.parse(g),f,v.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:ci([t,S.pathname])),(v.replace?o.replace:o.push)(S,v.state,v)},[t,o,g,f,e])}const kx=G.createContext(null);function Px(e){let t=G.useContext(vr).outlet;return t&&G.createElement(kx.Provider,{value:e},t)}function mg(){let{matches:e}=G.useContext(vr),t=e[e.length-1];return t?t.params:{}}function xg(e,t){let{relative:r}=t===void 0?{}:t,{future:o}=G.useContext(mi),{matches:u}=G.useContext(vr),{pathname:f}=xi(),g=JSON.stringify(b1(u,o.v7_relativeSplatPath));return G.useMemo(()=>_1(e,JSON.parse(g),f,r==="path"),[e,g,f,r])}function Bx(e,t){return Fx(e,t)}function Fx(e,t,r,o){ks()||yt(!1);let{navigator:u}=G.useContext(mi),{matches:f}=G.useContext(vr),g=f[f.length-1],x=g?g.params:{};g&&g.pathname;let w=g?g.pathnameBase:"/";g&&g.route;let m=xi(),v;if(t){var S;let B=typeof t=="string"?Ls(t):t;w==="/"||(S=B.pathname)!=null&&S.startsWith(w)||yt(!1),v=B}else v=m;let I=v.pathname||"/",k=I;if(w!=="/"){let B=w.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let H=cx(e,{pathname:k}),R=Vx(H&&H.map(B=>Object.assign({},B,{params:Object.assign({},x,B.params),pathname:ci([w,u.encodeLocation?u.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:ci([w,u.encodeLocation?u.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),f,r,o);return t&&R?G.createElement(_l.Provider,{value:{location:ko({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ti.Pop}},R):R}function jx(){let e=Xx(),t=Mx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:u},r):null,null)}const Ux=G.createElement(jx,null);class zx extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(vr.Provider,{value:this.props.routeContext},G.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hx(e){let{routeContext:t,match:r,children:o}=e,u=G.useContext(M1);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(vr.Provider,{value:t},o)}function Vx(e,t,r,o){var u;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var f;if(!r)return null;if(r.errors)e=r.matches;else if((f=o)!=null&&f.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let g=e,x=(u=r)==null?void 0:u.errors;if(x!=null){let v=g.findIndex(S=>S.route.id&&(x==null?void 0:x[S.route.id])!==void 0);v>=0||yt(!1),g=g.slice(0,Math.min(g.length,v+1))}let w=!1,m=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<g.length;v++){let S=g[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=v),S.route.id){let{loaderData:I,errors:k}=r,H=S.route.loader&&I[S.route.id]===void 0&&(!k||k[S.route.id]===void 0);if(S.route.lazy||H){w=!0,m>=0?g=g.slice(0,m+1):g=[g[0]];break}}}return g.reduceRight((v,S,I)=>{let k,H=!1,R=null,B=null;r&&(k=x&&S.route.id?x[S.route.id]:void 0,R=S.route.errorElement||Ux,w&&(m<0&&I===0?(H=!0,B=null):m===I&&(H=!0,B=S.route.hydrateFallbackElement||null)));let N=t.concat(g.slice(0,I+1)),T=()=>{let O;return k?O=R:H?O=B:S.route.Component?O=G.createElement(S.route.Component,null):S.route.element?O=S.route.element:O=v,G.createElement(Hx,{match:S,routeContext:{outlet:v,matches:N,isDataRoute:r!=null},children:O})};return r&&(S.route.ErrorBoundary||S.route.errorElement||I===0)?G.createElement(zx,{location:r.location,revalidation:r.revalidation,component:R,error:k,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}var wg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wg||{}),sl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sl||{});function Wx(e){let t=G.useContext(M1);return t||yt(!1),t}function Gx(e){let t=G.useContext(Rx);return t||yt(!1),t}function Yx(e){let t=G.useContext(vr);return t||yt(!1),t}function yg(e){let t=Yx(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function Xx(){var e;let t=G.useContext(gg),r=Gx(sl.UseRouteError),o=yg(sl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function Qx(){let{router:e}=Wx(wg.UseNavigateStable),t=yg(sl.UseNavigateStable),r=G.useRef(!1);return pg(()=>{r.current=!0}),G.useCallback(function(u,f){f===void 0&&(f={}),r.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,ko({fromRouteId:t},f)))},[e,t])}function Zx(e){let{to:t,replace:r,state:o,relative:u}=e;ks()||yt(!1);let{future:f,static:g}=G.useContext(mi),{matches:x}=G.useContext(vr),{pathname:w}=xi(),m=Hi(),v=_1(t,b1(x,f.v7_relativeSplatPath),w,u==="path"),S=JSON.stringify(v);return G.useEffect(()=>m(JSON.parse(S),{replace:r,state:o,relative:u}),[m,S,u,r,o]),null}function Kx(e){return Px(e.context)}function Yt(e){yt(!1)}function qx(e){let{basename:t="/",children:r=null,location:o,navigationType:u=ti.Pop,navigator:f,static:g=!1,future:x}=e;ks()&&yt(!1);let w=t.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:w,navigator:f,static:g,future:ko({v7_relativeSplatPath:!1},x)}),[w,x,f,g]);typeof o=="string"&&(o=Ls(o));let{pathname:v="/",search:S="",hash:I="",state:k=null,key:H="default"}=o,R=G.useMemo(()=>{let B=N1(v,w);return B==null?null:{location:{pathname:B,search:S,hash:I,state:k,key:H},navigationType:u}},[w,v,S,I,k,H,u]);return R==null?null:G.createElement(mi.Provider,{value:m},G.createElement(_l.Provider,{children:r,value:R}))}function $x(e){let{children:t,location:r}=e;return Bx(Sc(t),r)}new Promise(()=>{});function Sc(e,t){t===void 0&&(t=[]);let r=[];return G.Children.forEach(e,(o,u)=>{if(!G.isValidElement(o))return;let f=[...t,u];if(o.type===G.Fragment){r.push.apply(r,Sc(o.props.children,f));return}o.type!==Yt&&yt(!1),!o.props.index||!o.props.children||yt(!1);let g={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Sc(o.props.children,f)),r.push(g)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ic.apply(this,arguments)}function Jx(e,t){if(e==null)return{};var r={},o=Object.keys(e),u,f;for(f=0;f<o.length;f++)u=o[f],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tw(e,t){return e.button===0&&(!t||t==="_self")&&!ew(e)}const nw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rw="6";try{window.__reactRouterVersion=rw}catch{}const iw="startTransition",pf=Z2[iw];function sw(e){let{basename:t,children:r,future:o,window:u}=e,f=G.useRef();f.current==null&&(f.current=ax({window:u,v5Compat:!0}));let g=f.current,[x,w]=G.useState({action:g.action,location:g.location}),{v7_startTransition:m}=o||{},v=G.useCallback(S=>{m&&pf?pf(()=>w(S)):w(S)},[w,m]);return G.useLayoutEffect(()=>g.listen(v),[g,v]),G.createElement(qx,{basename:t,children:r,location:x.location,navigationType:x.action,navigator:g,future:o})}const ow=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ps=G.forwardRef(function(t,r){let{onClick:o,relative:u,reloadDocument:f,replace:g,state:x,target:w,to:m,preventScrollReset:v,viewTransition:S}=t,I=Jx(t,nw),{basename:k}=G.useContext(mi),H,R=!1;if(typeof m=="string"&&aw.test(m)&&(H=m,ow))try{let O=new URL(window.location.href),P=m.startsWith("//")?new URL(O.protocol+m):new URL(m),Q=N1(P.pathname,k);P.origin===O.origin&&Q!=null?m=Q+P.search+P.hash:R=!0}catch{}let B=Dx(m,{relative:u}),N=lw(m,{replace:g,state:x,target:w,preventScrollReset:v,relative:u,viewTransition:S});function T(O){o&&o(O),O.defaultPrevented||N(O)}return G.createElement("a",Ic({},I,{href:H||B,onClick:R||f?o:T,ref:r,target:w}))});var mf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mf||(mf={}));var xf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xf||(xf={}));function lw(e,t){let{target:r,replace:o,state:u,preventScrollReset:f,relative:g,viewTransition:x}=t===void 0?{}:t,w=Hi(),m=xi(),v=xg(e,{relative:g});return G.useCallback(S=>{if(tw(S,r)){S.preventDefault();let I=o!==void 0?o:il(m)===il(v);w(e,{replace:I,state:u,preventScrollReset:f,relative:g,viewTransition:x})}},[m,w,v,o,u,r,e,f,g,x])}const rr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};let uw=0;function Cg(e,t){const r=`atom${++uw}`,o={toString(){return(rr?"production":void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof e=="function"?o.read=e:(o.init=e,o.read=cw,o.write=fw),o}function cw(e){return e(this)}function fw(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}const wf=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Tu=e=>"init"in e,Nu=e=>!!e.write,ol=new WeakMap,Tc=e=>{var t;return Nc(e)&&!((t=ol.get(e))!=null&&t[1])},dw=(e,t)=>{const r=ol.get(e);if(r)r[1]=!0,r[0].forEach(o=>o(t));else if((rr?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},hw=e=>{if(ol.has(e))return;const t=[new Set,!1];ol.set(e,t);const r=()=>{t[1]=!0};e.then(r,r),e.onCancel=o=>{t[0].add(o)}},Nc=e=>typeof(e==null?void 0:e.then)=="function",yf=e=>"v"in e||"e"in e,ma=e=>{if("e"in e)throw e.e;if((rr?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Eg=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},Cf=(e,t,r,o,u)=>{var f;if((rr?"production":void 0)!=="production"&&o===t)throw new Error("[Bug] atom cannot depend on itself");r.d.set(o,u.n),Tc(r.v)&&Eg(t,r.v,u),(f=u.m)==null||f.t.add(t),e&&gw(e,o,t)},rs=()=>[new Map,new Map,new Set],bu=(e,t,r)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,r)},gw=(e,t,r)=>{const o=e[0].get(t);o&&o.add(r)},pw=(e,t)=>e[0].get(t),Ef=(e,t)=>{e[2].add(t)},Ti=e=>{for(;e[1].size||e[2].size;){e[0].clear();const t=new Set(e[1].values());e[1].clear();const r=new Set(e[2]);e[2].clear(),t.forEach(o=>{var u;return(u=o.m)==null?void 0:u.l.forEach(f=>f())}),r.forEach(o=>o())}},vg=e=>{let t;(rr?"production":void 0)!=="production"&&(t=new Set);const r=(R,B,N)=>{const T="v"in B,O=B.v,P=Tc(B.v)?B.v:null;if(Nc(N)){hw(N);for(const Q of B.d.keys())Eg(R,N,e(Q,B));B.v=N,delete B.e}else B.v=N,delete B.e;(!T||!Object.is(O,B.v))&&(++B.n,P&&dw(P,N))},o=(R,B,N,T)=>{var O;if(yf(N)&&(N.m&&!(T!=null&&T.has(B))||Array.from(N.d).every(([z,se])=>o(R,z,e(z,N),T).n===se)))return N;N.d.clear();let P=!0;const Q=z=>{if(wf(B,z)){const ge=e(z,N);if(!yf(ge))if(Tu(z))r(z,ge,z.init);else throw new Error("no atom init");return ma(ge)}const se=o(R,z,e(z,N),T);if(P)Cf(R,B,N,z,se);else{const ge=rs();Cf(ge,B,N,z,se),m(ge,B,N),Ti(ge)}return ma(se)};let X,F;const Z={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(rr?"production":void 0)!=="production"&&!Nu(B)&&console.warn("setSelf function cannot be used with read-only atom"),!F&&Nu(B)&&(F=(...z)=>{if((rr?"production":void 0)!=="production"&&P&&console.warn("setSelf function cannot be called in sync"),!P)return w(B,...z)}),F}};try{const z=B.read(Q,Z);if(r(B,N,z),Nc(z)){(O=z.onCancel)==null||O.call(z,()=>X==null?void 0:X.abort());const se=()=>{if(N.m){const ge=rs();m(ge,B,N),Ti(ge)}};z.then(se,se)}return N}catch(z){return delete N.v,N.e=z,++N.n,N}finally{P=!1}},u=R=>ma(o(void 0,R,e(R))),f=(R,B,N)=>{var T,O;const P=new Map;for(const Q of((T=N.m)==null?void 0:T.t)||[])P.set(Q,e(Q,N));for(const Q of N.p)P.set(Q,e(Q,N));return(O=pw(R,B))==null||O.forEach(Q=>{P.set(Q,e(Q,N))}),P},g=(R,B,N)=>{const T=[],O=new Set,P=(X,F)=>{if(!O.has(X)){O.add(X);for(const[Z,z]of f(R,X,F))X!==Z&&P(Z,z);T.push([X,F,F.n])}};P(B,N);const Q=new Set([B]);for(let X=T.length-1;X>=0;--X){const[F,Z,z]=T[X];let se=!1;for(const ge of Z.d.keys())if(ge!==F&&Q.has(ge)){se=!0;break}se&&(o(R,F,Z,O),m(R,F,Z),z!==Z.n&&(bu(R,F,Z),Q.add(F))),O.delete(F)}},x=(R,B,N,...T)=>{const O=X=>ma(o(R,X,e(X,N))),P=(X,...F)=>{const Z=e(X,N);let z;if(wf(B,X)){if(!Tu(X))throw new Error("atom not writable");const se="v"in Z,ge=Z.v,ce=F[0];r(X,Z,ce),m(R,X,Z),(!se||!Object.is(ge,Z.v))&&(bu(R,X,Z),g(R,X,Z))}else z=x(R,X,Z,...F);return Ti(R),z};return B.write(O,P,...T)},w=(R,...B)=>{const N=rs(),T=x(N,R,e(R),...B);return Ti(N),T},m=(R,B,N)=>{if(N.m&&!Tc(N.v)){for(const T of N.d.keys())N.m.d.has(T)||(v(R,T,e(T,N)).t.add(B),N.m.d.add(T));for(const T of N.m.d||[])if(!N.d.has(T)){N.m.d.delete(T);const O=S(R,T,e(T,N));O==null||O.t.delete(B)}}},v=(R,B,N)=>{if(!N.m){o(R,B,N);for(const T of N.d.keys())v(R,T,e(T,N)).t.add(B);if(N.m={l:new Set,d:new Set(N.d.keys()),t:new Set},(rr?"production":void 0)!=="production"&&t.add(B),Nu(B)&&B.onMount){const T=N.m,{onMount:O}=B;Ef(R,()=>{const P=O((...Q)=>x(R,B,N,...Q));P&&(T.u=P)})}}return N.m},S=(R,B,N)=>{if(N.m&&!N.m.l.size&&!Array.from(N.m.t).some(T=>{var O;return(O=e(T,N).m)==null?void 0:O.d.has(B)})){const T=N.m.u;T&&Ef(R,T),delete N.m,(rr?"production":void 0)!=="production"&&t.delete(B);for(const O of N.d.keys()){const P=S(R,O,e(O,N));P==null||P.t.delete(B)}return}return N.m},H={get:u,set:w,sub:(R,B)=>{const N=rs(),T=e(R),O=v(N,R,T);Ti(N);const P=O.l;return P.add(B),()=>{P.delete(B);const Q=rs();S(Q,R,T),Ti(Q)}},unstable_derive:R=>vg(...R(e))};return(rr?"production":void 0)!=="production"&&Object.assign(H,{dev4_get_internal_weak_map:()=>({get:B=>{const N=e(B);if(N.n!==0)return N}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:B=>{const N=rs();for(const[T,O]of B)if(Tu(T)){const P=e(T),Q="v"in P,X=P.v;r(T,P,O),m(N,T,P),(!Q||!Object.is(X,P.v))&&(bu(N,T,P),g(N,T,P))}Ti(N)}}),H},mw=()=>{const e=new WeakMap;return vg(r=>{let o=e.get(r);return o||(o={d:new Map,p:new Set,n:0},e.set(r,o)),o})};let no;const xw=()=>(no||(no=mw(),(rr?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=no),globalThis.__JOTAI_DEFAULT_STORE__!==no&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),no),Ag={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ww=G.createContext(void 0),Sg=e=>G.useContext(ww)||xw(),Ig=e=>typeof(e==null?void 0:e.then)=="function",yw=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},Cw=re.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(yw(e),e)}),_u=new WeakMap,Ew=e=>{let t=_u.get(e);return t||(t=new Promise((r,o)=>{let u=e;const f=w=>m=>{u===w&&r(m)},g=w=>m=>{u===w&&o(m)},x=w=>{"onCancel"in w&&typeof w.onCancel=="function"&&w.onCancel(m=>{if((Ag?"production":void 0)!=="production"&&m===w)throw new Error("[Bug] p is not updated even after cancelation");Ig(m)?(_u.set(m,t),u=m,m.then(f(m),g(m)),x(m)):r(m)})};e.then(f(e),g(e)),x(e)}),_u.set(e,t)),t};function vw(e,t){const r=Sg(),[[o,u,f],g]=G.useReducer(m=>{const v=r.get(e);return Object.is(m[0],v)&&m[1]===r&&m[2]===e?m:[v,r,e]},void 0,()=>[r.get(e),r,e]);let x=o;if((u!==r||f!==e)&&(g(),x=r.get(e)),G.useEffect(()=>{const m=r.sub(e,()=>{g()});return g(),m},[r,e,void 0]),G.useDebugValue(x),Ig(x)){const m=Ew(x);return Cw(m)}return x}function Aw(e,t){const r=Sg();return G.useCallback((...u)=>{if((Ag?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...u)},[r,e])}function Et(e,t){return[vw(e),Aw(e)]}const Bs=Cg({}),As=({name:e,to:t,icons:r})=>b.jsxs("li",{className:"hover:bg-blue-400 p-3 rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3",children:[r,b.jsx(Ps,{to:t,children:e})]});var Tg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vf=re.createContext&&re.createContext(Tg),Sw=["attr","size","title"];function Iw(e,t){if(e==null)return{};var r=Tw(e,t),o,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(u=0;u<f.length;u++)o=f[u],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Tw(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},al.apply(this,arguments)}function Af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(r),!0).forEach(function(o){Nw(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Af(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Nw(e,t,r){return t=bw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bw(e){var t=_w(e,"string");return typeof t=="symbol"?t:t+""}function _w(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(e){return e&&e.map((t,r)=>re.createElement(t.tag,ll({key:r},t.attr),Ng(t.child)))}function Ml(e){return t=>re.createElement(Mw,al({attr:ll({},e.attr)},t),Ng(e.child))}function Mw(e){var t=r=>{var{attr:o,size:u,title:f}=e,g=Iw(e,Sw),x=u||r.size||"1em",w;return r.className&&(w=r.className),e.className&&(w=(w?w+" ":"")+e.className),re.createElement("svg",al({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,g,{className:w,style:ll(ll({color:e.color||r.color},r.style),e.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),f&&re.createElement("title",null,f),e.children)};return vf!==void 0?re.createElement(vf.Consumer,null,r=>t(r)):t(Tg)}function Ow(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6v18zm2 0h6c1.1 0 2-.9 2-2v-7h-8v9zm8-11V5c0-1.1-.9-2-2-2h-6v7h8z"},child:[]}]})(e)}function Rw(e){return Ml({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.6367 1.6367C.7322 1.6367 0 2.369 0 3.2734v17.4532c0 .9045.7322 1.6367 1.6367 1.6367h20.7266c.9045 0 1.6367-.7322 1.6367-1.6367V3.2734c0-.9045-.7322-1.6367-1.6367-1.6367H1.6367zm.545 2.1817h19.6367v16.3632h-2.7266v-1.0898h-4.9102v1.0898h-12V3.8184zM12 8.1816c-.9046 0-1.6367.7322-1.6367 1.6368 0 .9045.7321 1.6367 1.6367 1.6367.9046 0 1.6367-.7322 1.6367-1.6367 0-.9046-.7321-1.6368-1.6367-1.6368zm-4.3633 1.9102c-.6773 0-1.2285.5493-1.2285 1.2266 0 .6772.5512 1.2265 1.2285 1.2265.6773 0 1.2266-.5493 1.2266-1.2265 0-.6773-.5493-1.2266-1.2266-1.2266zm8.7266 0c-.6773 0-1.2266.5493-1.2266 1.2266 0 .6772.5493 1.2265 1.2266 1.2265.6773 0 1.2285-.5493 1.2285-1.2265 0-.6773-.5512-1.2266-1.2285-1.2266zM12 12.5449c-1.179 0-2.4128.4012-3.1484 1.0059-.384-.1198-.8043-.1875-1.2149-.1875-1.3136 0-2.7285.695-2.7285 1.5586v.8965h14.1836v-.8965c0-.8637-1.4149-1.5586-2.7285-1.5586-.4106 0-.831.0677-1.2149.1875-.7356-.6047-1.9694-1.0059-3.1484-1.0059Z"},child:[]}]})(e)}function Dw(e){return Ml({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function Lw(e){return Ml({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}const kw=()=>b.jsxs("ul",{className:"",children:[b.jsx(As,{name:"Dashboard",icons:b.jsx(Ow,{className:"text-2xl"}),to:"/dashboard"}),b.jsx(As,{name:"Classes",icons:b.jsx(Rw,{className:"text-2xl"}),to:"/dashboard/classes"}),b.jsx(As,{name:"Attendance",icons:b.jsx(Dw,{className:"text-2xl"}),to:"/dashboard/attendance"})]});var Pw=e=>{switch(e){case"success":return jw;case"info":return zw;case"warning":return Uw;case"error":return Hw;default:return null}},Bw=Array(12).fill(0),Fw=({visible:e})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},re.createElement("div",{className:"sonner-spinner"},Bw.map((t,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jw=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Uw=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zw=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hw=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Vw=()=>{let[e,t]=re.useState(document.hidden);return re.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},bc=1,Ww=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...o}=e,u=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bc++,f=this.toasts.find(x=>x.id===u),g=e.dismissible===void 0?!0:e.dismissible;return f?this.toasts=this.toasts.map(x=>x.id===u?(this.publish({...x,...e,id:u,title:r}),{...x,...e,id:u,dismissible:g,title:r}):x):this.addToast({title:r,...o,dismissible:g,id:u}),u},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let o=e instanceof Promise?e:e(),u=r!==void 0;return o.then(async f=>{if(Yw(f)&&!f.ok){u=!1;let g=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description;this.create({id:r,type:"error",message:g,description:x})}else if(t.success!==void 0){u=!1;let g=typeof t.success=="function"?await t.success(f):t.success,x=typeof t.description=="function"?await t.description(f):t.description;this.create({id:r,type:"success",message:g,description:x})}}).catch(async f=>{if(t.error!==void 0){u=!1;let g=typeof t.error=="function"?await t.error(f):t.error,x=typeof t.description=="function"?await t.description(f):t.description;this.create({id:r,type:"error",message:g,description:x})}}).finally(()=>{var f;u&&(this.dismiss(r),r=void 0),(f=t.finally)==null||f.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||bc++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},En=new Ww,Gw=(e,t)=>{let r=(t==null?void 0:t.id)||bc++;return En.addToast({title:e,...t,id:r}),r},Yw=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Xw=Gw,Qw=()=>En.toasts,Qe=Object.assign(Xw,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:Qw});function Zw(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}Zw(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xa(e){return e.label!==void 0}var Kw=3,qw="32px",$w=4e3,Jw=356,e3=14,t3=20,n3=200;function r3(...e){return e.filter(Boolean).join(" ")}var i3=e=>{var t,r,o,u,f,g,x,w,m,v;let{invert:S,toast:I,unstyled:k,interacting:H,setHeights:R,visibleToasts:B,heights:N,index:T,toasts:O,expanded:P,removeToast:Q,defaultRichColors:X,closeButton:F,style:Z,cancelButtonStyle:z,actionButtonStyle:se,className:ge="",descriptionClassName:ce="",duration:Ie,position:qe,gap:Y,loadingIcon:Be,expandByDefault:ye,classNames:q,icons:fe,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:xe,cn:de}=e,[_e,De]=re.useState(!1),[Zt,ie]=re.useState(!1),[On,nt]=re.useState(!1),[Gn,Yn]=re.useState(!1),[zt,jr]=re.useState(0),[Le,Ar]=re.useState(0),mn=re.useRef(null),Rn=re.useRef(null),vt=T===0,We=T+1<=B,ve=I.type,Xn=I.dismissible!==!1,ue=I.className||"",Wi=I.descriptionClassName||"",yi=re.useMemo(()=>N.findIndex(Ee=>Ee.toastId===I.id)||0,[N,I.id]),Qn=re.useMemo(()=>{var Ee;return(Ee=I.closeButton)!=null?Ee:F},[I.closeButton,F]),Gi=re.useMemo(()=>I.duration||Ie||$w,[I.duration,Ie]),Kt=re.useRef(0),Sr=re.useRef(0),Zn=re.useRef(0),dt=re.useRef(null),[Fs,Yi]=qe.split("-"),Ho=re.useMemo(()=>N.reduce((Ee,Ue,ze)=>ze>=yi?Ee:Ee+Ue.height,0),[N,yi]),ot=Vw(),ne=I.invert||S,at=ve==="loading";Sr.current=re.useMemo(()=>yi*Y+Ho,[yi,Ho]),re.useEffect(()=>{De(!0)},[]),re.useLayoutEffect(()=>{if(!_e)return;let Ee=Rn.current,Ue=Ee.style.height;Ee.style.height="auto";let ze=Ee.getBoundingClientRect().height;Ee.style.height=Ue,Ar(ze),R(Ae=>Ae.find(Nt=>Nt.toastId===I.id)?Ae.map(Nt=>Nt.toastId===I.id?{...Nt,height:ze}:Nt):[{toastId:I.id,height:ze,position:I.position},...Ae])},[_e,I.title,I.description,R,I.id]);let Me=re.useCallback(()=>{ie(!0),jr(Sr.current),R(Ee=>Ee.filter(Ue=>Ue.toastId!==I.id)),setTimeout(()=>{Q(I)},n3)},[I,Q,R,Sr]);re.useEffect(()=>{if(I.promise&&ve==="loading"||I.duration===1/0||I.type==="loading")return;let Ee,Ue=Gi;return P||H||xe&&ot?(()=>{if(Zn.current<Kt.current){let ze=new Date().getTime()-Kt.current;Ue=Ue-ze}Zn.current=new Date().getTime()})():Ue!==1/0&&(Kt.current=new Date().getTime(),Ee=setTimeout(()=>{var ze;(ze=I.onAutoClose)==null||ze.call(I,I),Me()},Ue)),()=>clearTimeout(Ee)},[P,H,ye,I,Gi,Me,I.promise,ve,xe,ot]),re.useEffect(()=>{let Ee=Rn.current;if(Ee){let Ue=Ee.getBoundingClientRect().height;return Ar(Ue),R(ze=>[{toastId:I.id,height:Ue,position:I.position},...ze]),()=>R(ze=>ze.filter(Ae=>Ae.toastId!==I.id))}},[R,I.id]),re.useEffect(()=>{I.delete&&Me()},[Me,I.delete]);function rt(){return fe!=null&&fe.loading?re.createElement("div",{className:"sonner-loader","data-visible":ve==="loading"},fe.loading):Be?re.createElement("div",{className:"sonner-loader","data-visible":ve==="loading"},Be):re.createElement(Fw,{visible:ve==="loading"})}return re.createElement("li",{"aria-live":I.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:de(ge,ue,q==null?void 0:q.toast,(t=I==null?void 0:I.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[ve],(r=I==null?void 0:I.classNames)==null?void 0:r[ve]),"data-sonner-toast":"","data-rich-colors":(o=I.richColors)!=null?o:X,"data-styled":!(I.jsx||I.unstyled||k),"data-mounted":_e,"data-promise":!!I.promise,"data-removed":Zt,"data-visible":We,"data-y-position":Fs,"data-x-position":Yi,"data-index":T,"data-front":vt,"data-swiping":On,"data-dismissible":Xn,"data-type":ve,"data-invert":ne,"data-swipe-out":Gn,"data-expanded":!!(P||ye&&_e),style:{"--index":T,"--toasts-before":T,"--z-index":O.length-T,"--offset":`${Zt?zt:Sr.current}px`,"--initial-height":ye?"auto":`${Le}px`,...Z,...I.style},onPointerDown:Ee=>{at||!Xn||(mn.current=new Date,jr(Sr.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(nt(!0),dt.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ue,ze,Ae;if(Gn||!Xn)return;dt.current=null;let Nt=Number(((Ee=Rn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ci=new Date().getTime()-((Ue=mn.current)==null?void 0:Ue.getTime()),Vo=Math.abs(Nt)/Ci;if(Math.abs(Nt)>=t3||Vo>.11){jr(Sr.current),(ze=I.onDismiss)==null||ze.call(I,I),Me(),Yn(!0);return}(Ae=Rn.current)==null||Ae.style.setProperty("--swipe-amount","0px"),nt(!1)},onPointerMove:Ee=>{var Ue;if(!dt.current||!Xn)return;let ze=Ee.clientY-dt.current.y,Ae=Ee.clientX-dt.current.x,Nt=(Fs==="top"?Math.min:Math.max)(0,ze),Ci=Ee.pointerType==="touch"?10:2;Math.abs(Nt)>Ci?(Ue=Rn.current)==null||Ue.style.setProperty("--swipe-amount",`${ze}px`):Math.abs(Ae)>Ci&&(dt.current=null)}},Qn&&!I.jsx?re.createElement("button",{"aria-label":me,"data-disabled":at,"data-close-button":!0,onClick:at||!Xn?()=>{}:()=>{var Ee;Me(),(Ee=I.onDismiss)==null||Ee.call(I,I)},className:de(q==null?void 0:q.closeButton,(u=I==null?void 0:I.classNames)==null?void 0:u.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,I.jsx||re.isValidElement(I.title)?I.jsx||I.title:re.createElement(re.Fragment,null,ve||I.icon||I.promise?re.createElement("div",{"data-icon":"",className:de(q==null?void 0:q.icon,(f=I==null?void 0:I.classNames)==null?void 0:f.icon)},I.promise||I.type==="loading"&&!I.icon?I.icon||rt():null,I.type!=="loading"?I.icon||(fe==null?void 0:fe[ve])||Pw(ve):null):null,re.createElement("div",{"data-content":"",className:de(q==null?void 0:q.content,(g=I==null?void 0:I.classNames)==null?void 0:g.content)},re.createElement("div",{"data-title":"",className:de(q==null?void 0:q.title,(x=I==null?void 0:I.classNames)==null?void 0:x.title)},I.title),I.description?re.createElement("div",{"data-description":"",className:de(ce,Wi,q==null?void 0:q.description,(w=I==null?void 0:I.classNames)==null?void 0:w.description)},I.description):null),re.isValidElement(I.cancel)?I.cancel:I.cancel&&xa(I.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:I.cancelButtonStyle||z,onClick:Ee=>{var Ue,ze;xa(I.cancel)&&Xn&&((ze=(Ue=I.cancel).onClick)==null||ze.call(Ue,Ee),Me())},className:de(q==null?void 0:q.cancelButton,(m=I==null?void 0:I.classNames)==null?void 0:m.cancelButton)},I.cancel.label):null,re.isValidElement(I.action)?I.action:I.action&&xa(I.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:I.actionButtonStyle||se,onClick:Ee=>{var Ue,ze;xa(I.action)&&(Ee.defaultPrevented||((ze=(Ue=I.action).onClick)==null||ze.call(Ue,Ee),Me()))},className:de(q==null?void 0:q.actionButton,(v=I==null?void 0:I.classNames)==null?void 0:v.actionButton)},I.action.label):null))};function Sf(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Ol=e=>{let{invert:t,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:u,closeButton:f,className:g,offset:x,theme:w="light",richColors:m,duration:v,style:S,visibleToasts:I=Kw,toastOptions:k,dir:H=Sf(),gap:R=e3,loadingIcon:B,icons:N,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:O,cn:P=r3}=e,[Q,X]=re.useState([]),F=re.useMemo(()=>Array.from(new Set([r].concat(Q.filter(xe=>xe.position).map(xe=>xe.position)))),[Q,r]),[Z,z]=re.useState([]),[se,ge]=re.useState(!1),[ce,Ie]=re.useState(!1),[qe,Y]=re.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Be=re.useRef(null),ye=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=re.useRef(null),fe=re.useRef(!1),me=re.useCallback(xe=>{var de;(de=Q.find(_e=>_e.id===xe.id))!=null&&de.delete||En.dismiss(xe.id),X(_e=>_e.filter(({id:De})=>De!==xe.id))},[Q]);return re.useEffect(()=>En.subscribe(xe=>{if(xe.dismiss){X(de=>de.map(_e=>_e.id===xe.id?{..._e,delete:!0}:_e));return}setTimeout(()=>{ox.flushSync(()=>{X(de=>{let _e=de.findIndex(De=>De.id===xe.id);return _e!==-1?[...de.slice(0,_e),{...de[_e],...xe},...de.slice(_e+1)]:[xe,...de]})})})}),[]),re.useEffect(()=>{if(w!=="system"){Y(w);return}w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:xe})=>{Y(xe?"dark":"light")})},[w]),re.useEffect(()=>{Q.length<=1&&ge(!1)},[Q]),re.useEffect(()=>{let xe=de=>{var _e,De;o.every(Zt=>de[Zt]||de.code===Zt)&&(ge(!0),(_e=Be.current)==null||_e.focus()),de.code==="Escape"&&(document.activeElement===Be.current||(De=Be.current)!=null&&De.contains(document.activeElement))&&ge(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[o]),re.useEffect(()=>{if(Be.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,fe.current=!1)}},[Be.current]),Q.length?re.createElement("section",{"aria-label":`${T} ${ye}`,tabIndex:-1},F.map((xe,de)=>{var _e;let[De,Zt]=xe.split("-");return re.createElement("ol",{key:xe,dir:H==="auto"?Sf():H,tabIndex:-1,ref:Be,className:g,"data-sonner-toaster":!0,"data-theme":qe,"data-y-position":De,"data-x-position":Zt,style:{"--front-toast-height":`${((_e=Z[0])==null?void 0:_e.height)||0}px`,"--offset":typeof x=="number"?`${x}px`:x||qw,"--width":`${Jw}px`,"--gap":`${R}px`,...S},onBlur:ie=>{fe.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(fe.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,q.current=ie.relatedTarget)},onMouseEnter:()=>ge(!0),onMouseMove:()=>ge(!0),onMouseLeave:()=>{ce||ge(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||Ie(!0)},onPointerUp:()=>Ie(!1)},Q.filter(ie=>!ie.position&&de===0||ie.position===xe).map((ie,On)=>{var nt,Gn;return re.createElement(i3,{key:ie.id,icons:N,index:On,toast:ie,defaultRichColors:m,duration:(nt=k==null?void 0:k.duration)!=null?nt:v,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:t,visibleToasts:I,closeButton:(Gn=k==null?void 0:k.closeButton)!=null?Gn:f,interacting:ce,position:xe,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:me,toasts:Q.filter(Yn=>Yn.position==ie.position),heights:Z.filter(Yn=>Yn.position==ie.position),setHeights:z,expandByDefault:u,gap:R,loadingIcon:B,expanded:se,pauseWhenPageIsHidden:O,cn:P})}))})):null};const Vi=({page:e,children:t})=>{const[r,o]=Et(Bs),[u,f]=G.useState(!1),g=()=>{o({}),localStorage.removeItem("token"),window.location.href="/"};return b.jsxs("div",{className:"flex min-h-[100vh]",children:[b.jsx(Ol,{position:"top-right",richColors:!0}),b.jsxs("nav",{className:"w-64 bg-gradient-to-b from-blue-600 to-blue-800 text-white p-6 shadow-lg",children:[b.jsx("h1",{className:"text-center text-4xl font-bold mb-8 tracking-wide",children:"AMS"}),b.jsx(kw,{})]}),b.jsxs("main",{className:"w-full bg-gray-200",children:[b.jsxs("div",{className:"w-full p-5 bg-white flex justify-between items-center",children:[b.jsx("h1",{className:"text-gray-700 text-2xl font-bold",children:e}),b.jsxs("div",{className:"relative mr-3",children:[b.jsxs("button",{className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",onClick:()=>f(!u),children:[b.jsxs("span",{className:"text-2",children:["Hello, ",r.username]}),b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),b.jsxs("ul",{className:`absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 ${u?"block":"hidden"}`,children:[b.jsx("li",{children:b.jsx(Ps,{to:"/dashboard/profile",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"})}),b.jsx("li",{children:b.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})})]})]})]}),b.jsx("div",{children:t})]})]})},hn=({type:e="primary",name:t,onClick:r})=>{const o=()=>{switch(e){case"primary":return"bg-blue-600 hover:bg-blue-700";case"second":return"bg-gray-600 hover:bg-gray-700";case"delete":return"bg-red-600 hover:bg-red-700";case"success":return"bg-green-600 hover:bg-green-700";default:return"bg-blue-600 hover:bg-blue-700"}};return b.jsx("button",{onClick:r,type:"submit",className:`mt-3 px-4 py-2 ${o()} text-white rounded-lg font-semibold transition-colors duration-200 shadow-md hover:shadow-lg w-full`,children:t})},O1=({data:e,attendance:t=!1})=>{const r=Hi(),o=f=>{r(`/dashboard/class/${f.id}`,{state:{d:f}})},u=f=>{r(`/dashboard/attendance/${f.id}`,{state:{d:f}})};return b.jsx("div",{className:"overflow-scroll max-h-[75vh]",children:b.jsxs("table",{className:"w-full mt-5 mb-5 bg-white rounded-lg",children:[b.jsx("thead",{className:"sticky top-0",children:b.jsxs("tr",{className:"bg-blue-600 text-white rounded-t-lg",children:[b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"ID"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Subject"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Strand"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Time In"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Action"})]})}),b.jsx("tbody",{children:e.map((f,g)=>b.jsxs("tr",{className:"border-b border-gray-200",children:[b.jsx("td",{className:"p-3",children:f.id}),b.jsx("td",{className:"p-3",children:f.subject}),b.jsx("td",{className:"p-3",children:f.strand}),b.jsx("td",{className:"p-3",children:f.timeIn}),b.jsx("td",{className:"p-3 w-32",children:t?b.jsx("button",{className:"text-yellow-500 hover:text-blue-700 mr-2",onClick:()=>u(f),children:"View"}):b.jsx("button",{className:"text-green-500 hover:text-blue-700 mr-2",onClick:()=>o(f),children:"Manage"})})]},g))})]})})},pn=Cg("https://ams-api-j13r.onrender.com"),bg=G.createContext(null),s3=({children:e})=>{const[t,r]=G.useState(()=>localStorage.getItem("token")),o=f=>{localStorage.setItem("token",f),r(f)},u=G.useMemo(()=>({token:t,setToken:o}),[t]);return b.jsx(bg.Provider,{value:u,children:e})},_n=()=>{const e=G.useContext(bg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return[e.token,e.setToken]},o3=()=>{Et(Bs);const[e,t]=G.useState([]),[r,o]=Et(pn),[u,f]=_n(),[g,x]=G.useState(0),w=async()=>{const m=await fetch(`${r}/class/current`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:u}});if(!m.ok){console.log("Error: "+JSON.stringify(m));return}const v=await m.json();t(v.slice(0,3)),x(v.length)};return G.useEffect(()=>{w()},[]),b.jsx(Vi,{page:"Dashboard",children:b.jsxs("div",{children:[b.jsx("div",{className:"m-5 w-96 pl-2 h-20 bg-blue-400 rounded-lg shadow-md",children:b.jsxs("div",{className:"flex w-full h-full py-2 px-4 bg-white rounded-lg justify-between",children:[b.jsxs("div",{className:"my-auto",children:[b.jsx("p",{className:"font-bold text-lg",children:"Classes"}),b.jsx("p",{className:"text-lg",children:g})]}),b.jsx(Lw,{className:"text-4xl text-blue-400 my-auto"})]})}),b.jsx("div",{className:"m-5 p-3 flex flex-col gap-2 bg-white rounded-lg",children:b.jsxs("div",{className:"w-full",children:[b.jsx("h2",{className:"m-3 text-xl font-bold",children:"Recent Classes"}),b.jsx(O1,{data:e})]})})]})})},Ot=({type:e,label:t,onChange:r,value:o=null})=>b.jsxs(b.Fragment,{children:[b.jsx("label",{htmlFor:"input",className:"block text-sm font-medium text-gray-700",children:t}),b.jsx("input",{id:"input",type:e,placeholder:`Enter ${t}`,value:o,onChange:u=>r(u.target.value),className:`w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 
        rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 
        focus:border-transparent transition duration-200 ease-in-out
        placeholder-gray-400 hover:border-gray-400 shadow-sm text-sm`})," "]}),a3=()=>{const e=Hi(),[t,r]=_n(),[o,u]=Et(pn),[f,g]=Et(Bs),[x,w]=G.useState(""),[m,v]=G.useState(""),S=()=>!(!x||x.length<3||!m||m.length<3),I=async k=>{if(k.preventDefault(),!S()){Qe.error("Invalid form");return}try{const H={email:x,password:m},R=await fetch(`${o}/user/login`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!R.ok){Qe.error("Login Failed");return}const B=await R.json();Qe.success("Login Successful"),g(B.user),r(B.token),B.user.type==="admin"?e("/admin/dashboard"):B.user.type==="teacher"&&e("/dashboard")}catch(H){console.error("Login failed:",H),Qe.error("Login Failed")}};return G.useEffect(()=>{t&&e("/dashboard")},[]),b.jsxs("div",{className:"h-screen flex flex-col justify-center items-center bg-gray-100",children:[b.jsx(Ol,{position:"top-right",richColors:!0}),b.jsxs("div",{className:"w-96 p-10 bg-white shadow-lg rounded-lg",children:[b.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login"}),b.jsxs("form",{onSubmit:I,className:"flex flex-col gap-2 my-5",children:[b.jsx(Ot,{type:"email",label:"Email",onChange:w}),b.jsx(Ot,{type:"password",label:"Password",onChange:v}),b.jsx(hn,{name:"Login",onClick:null})]}),b.jsxs("li",{className:"list-none text-center mt-4 text-gray-600",children:["Don't have an account?"," ",b.jsx(Ps,{to:"/signin",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign In"})]})]})]})},l3=()=>{const e=Hi(),[t,r]=_n(),[o,u]=Et(pn),[f,g]=G.useState(""),[x,w]=G.useState(""),[m,v]=G.useState(""),S=()=>!(!f||f.length<3||!m||m.length<3||!x||x.length<3),I=async k=>{if(k.preventDefault(),!S())return;const H={email:f,username:x,password:m};if(!(await fetch(`${o}/user/signup`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).ok){Qe.error("Signin Failed");return}Qe.success("Signin Successful"),e("/login")};return G.useEffect(()=>{t&&e("/dashboard")},[]),b.jsxs("div",{className:"h-screen flex flex-col justify-center items-center bg-gray-100",children:[b.jsx(Ol,{position:"top-right",richColors:!0}),b.jsxs("div",{className:"w-96 p-8 bg-white shadow-lg rounded-lg",children:[b.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Sign In"}),b.jsxs("form",{onSubmit:I,className:"flex flex-col gap-2 my-5",children:[b.jsx(Ot,{type:"text",label:"Username",onChange:w}),b.jsx(Ot,{type:"email",label:"Email",onChange:g}),b.jsx(Ot,{type:"password",label:"Password",onChange:v}),b.jsx(hn,{name:"Sign In",onClick:null})]}),b.jsxs("li",{className:"list-none text-center mt-4 text-gray-600",children:["Already have an account?"," ",b.jsx(Ps,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Login"})]})]})]})},If=({userType:e})=>{const[t,r]=_n(),[o,u]=Et(Bs),f=Hi(),[g,x]=Et(pn);return G.useEffect(()=>{(async()=>{if(t&&Object.keys(o).length===0)try{const m=await fetch(`${g}/user/verify`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:t}});if(!m.ok)throw new Error("Verification failed");const v=await m.json();u(v),v.type!==e&&f("/")}catch(m){console.error("Error verifying user:",m),r(null),localStorage.removeItem("token"),f("/login")}else o.type!==e&&f("/")})()},[t,o,e,g,f,u,r]),t?Object.keys(o).length===0?null:b.jsx(Kx,{}):b.jsx(Zx,{to:"/login"})},u3=()=>b.jsxs("ul",{className:"",children:[b.jsx(As,{name:"Dashboard",to:"/admin/dashboard"}),b.jsx(As,{name:"Students",to:"/admin/students"}),b.jsx(As,{name:"Teachers",to:null})]}),R1=({page:e,children:t})=>{const[r,o]=Et(Bs),[u,f]=G.useState(!1),g=()=>{o({}),localStorage.removeItem("token"),window.location.href="/"};return b.jsxs("div",{className:"flex min-h-[100vh]",children:[b.jsx(Ol,{position:"top-right",richColors:!0}),b.jsxs("nav",{className:"w-64 bg-gradient-to-b from-blue-600 to-blue-800 text-white p-6 shadow-lg",children:[b.jsx("h1",{className:"text-center text-4xl font-bold mb-8 tracking-wide",children:"AMS"}),b.jsx(u3,{})]}),b.jsxs("main",{className:"w-full bg-gray-200",children:[b.jsxs("div",{className:"w-full p-5 bg-white flex justify-between items-center",children:[b.jsx("h1",{className:"text-gray-700 text-2xl font-bold",children:e}),b.jsxs("div",{className:"relative mr-3",children:[b.jsxs("button",{className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",onClick:()=>f(!u),children:[b.jsxs("span",{className:"text-2",children:["Hello, ",r.username]}),b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),b.jsxs("ul",{className:`absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 ${u?"block":"hidden"}`,children:[b.jsx("li",{children:b.jsx(Ps,{to:"/admin/profile",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"})}),b.jsx("li",{children:b.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})})]})]})]}),b.jsx("div",{children:t})]})]})},c3=()=>b.jsx(R1,{page:"Dashboard",children:"Hello"}),f3=()=>{const[e,t]=Et(Bs),[r,o]=Et(pn),[u,f]=_n(),[g,x]=G.useState("N/A"),[w,m]=G.useState("N/A"),[v,S]=G.useState(e.username),[I,k]=G.useState(e.email),H=async R=>{R.preventDefault();const B={email:I,username:v,firstname:g,lastname:w},N=await fetch(`${r}/teacher/`,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",auth:u},body:JSON.stringify(B)}),T=await N.json();if(!N.ok){Qe.error(T.message);return}Qe.success(T.message)};return G.useEffect(()=>{fetch(`${r}/teacher/current`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:u}}).then(R=>R.json()).then(R=>{k(R.User.email),S(R.User.username),x(R.firstname),m(R.lastname)}).catch(R=>{console.error("Error fetching teacher data:")})},[r,u,t]),b.jsx(Vi,{page:"Profile",children:b.jsx("div",{className:"m-5 min-h-screen",children:b.jsxs("form",{className:"w-full max-w-lg p-8 space-y-4 bg-white rounded-lg shadow-md",onSubmit:H,children:[b.jsx(Ot,{label:"Username",type:"text",value:v,onChange:S}),b.jsx(Ot,{label:"Email",type:"email",value:I,onChange:k}),b.jsx(Ot,{label:"Firstname",type:"text",value:g,onChange:x}),b.jsx(Ot,{label:"Lastname",type:"text",value:w,onChange:m}),b.jsx("div",{className:"flex justify-end space-x-4 mt-6",children:b.jsx(hn,{name:"Update"})})]})})})},d3=({options:e,label:t,onChange:r,value:o=null})=>b.jsxs(b.Fragment,{children:[b.jsx("label",{htmlFor:"select",className:"block text-sm font-medium text-gray-700",children:t}),b.jsxs("select",{id:"select",value:o,onChange:u=>r(u.target.value),className:`w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 
        rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 
        focus:border-transparent transition duration-200 ease-in-out
        placeholder-gray-400 hover:border-gray-400 shadow-sm text-sm`,children:[b.jsxs("option",{value:"",children:["Select ",t]}),e.map(u=>b.jsx("option",{value:u,children:u},u))]})]}),h3=({toggle:e,update:t})=>{const[r,o]=G.useState(""),[u,f]=G.useState(""),[g,x]=G.useState(""),[w,m]=Et(pn),[v,S]=_n(),I=["STEM","HUMSS","ABM","GAS"],k=async H=>{if(H.preventDefault(),!r||!u||!g){Qe.error("Please fill in all fields");return}const R={subject:r,strand:u,timeIn:g},B=await fetch(`${w}/class`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:v},body:JSON.stringify(R)});if(!B.ok){const N=await B.json();Qe.error(N.message);return}await B.json(),Qe.success("Class created successfully"),e(),t()};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:b.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-8 w-96 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create New Class"}),b.jsx("button",{className:"text-gray-500 hover:text-gray-700",type:"button",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx(Ot,{type:"text",label:"Subject",onChange:o}),b.jsx(d3,{options:I,type:"text",label:"Strand",onChange:f}),b.jsx(Ot,{type:"text",label:"Time In",onChange:x}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx(hn,{name:"Create",onClick:k})})]})})},g3=()=>{const[e,t]=G.useState([]),[r,o]=Et(pn),[u,f]=_n(),[g,x]=G.useState(!1),w=async()=>{const m=await fetch(`${r}/class/current`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:u}});if(!m.ok){console.log("Error: "+JSON.stringify(m));return}const v=await m.json();t(v)};return G.useEffect(()=>{w()},[]),b.jsx(Vi,{page:"Classes",children:b.jsxs("div",{className:"m-5 p-3 bg-white rounded-lg",children:[b.jsx("div",{className:"w-[8rem]",children:b.jsx(hn,{name:"Create Class",onClick:()=>x(!g)})}),b.jsx(O1,{data:e}),g&&b.jsx(h3,{toggle:()=>x(!g),update:w})]})})},D1=({data:e,handleAdd:t,handleGenerate:r,handleRemove:o,add:u=!1})=>b.jsx("div",{className:"overflow-scroll max-h-[75vh]",children:b.jsxs("table",{className:"w-full mt-5 mb-5 bg-white rounded-lg",children:[b.jsx("thead",{className:"sticky top-0",children:b.jsxs("tr",{className:"bg-blue-600 text-white rounded-t-lg",children:[b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student Name"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student LRN"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student Strand"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Actions"})]})}),b.jsx("tbody",{children:e.map((f,g)=>b.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[b.jsx("td",{className:"p-3 border",children:`${f.firstname} ${f.lastname}`}),b.jsx("td",{className:"p-3 border",children:f.lrn}),b.jsx("td",{className:"p-3 border",children:f.strand}),b.jsx("td",{className:"p-3 border w-32",children:u?b.jsx(hn,{name:"Add",onClick:()=>t(f.id)}):b.jsxs("div",{className:"flex justify-between items-center gap-2",children:[b.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>o(f.id),children:"Remove"}),b.jsx("button",{className:"text-green-500 hover:text-green-700",onClick:()=>r(f),children:"Generate"})]})})]},g))})]})}),p3=({toggle:e,update:t,classId:r})=>{const[o,u]=Et(pn),[f,g]=G.useState([]),[x,w]=_n(),m=I=>{I.preventDefault();const k=I.target.value.toLowerCase();if(!k){v();return}const H=f.filter(R=>R.firstname.toLowerCase().includes(k)||R.lastname.toLowerCase().includes(k)||R.lrn.includes(k));g(H)},v=async()=>{const I=await fetch(`${o}/student`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}),k=await I.json();if(!I.ok){Qe.error(k.message);return}g(k)},S=async I=>{const k=await fetch(`${o}/class/${r}/add`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:x},body:JSON.stringify({studentID:I})}),H=await k.json();if(!k.ok){Qe.error(H.message);return}Qe.success(H.message),t()};return G.useEffect(()=>{v()},[]),b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:b.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-1/2 h-[90vh]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Student"}),b.jsx("button",{className:"text-gray-500 hover:text-gray-700",type:"button",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"w-full",children:b.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-4 mt-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:m})}),b.jsx(D1,{data:f,add:!0,handleAdd:S})]})})};var Rl={},_g={exports:{}},m3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x3=m3,w3=x3;function Mg(){}function Og(){}Og.resetWarningCache=Mg;var y3=function(){function e(o,u,f,g,x,w){if(w!==w3){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Og,resetWarningCache:Mg};return r.PropTypes=r,r};_g.exports=y3();var Rg=_g.exports,Dg={L:1,M:0,Q:3,H:2},Lg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},C3=Lg;function kg(e){this.mode=C3.MODE_8BIT_BYTE,this.data=e}kg.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var E3=kg,wa=Dg;function wr(e,t){this.totalCount=e,this.dataCount=t}wr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];wr.getRSBlocks=function(e,t){var r=wr.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=r.length/3,u=new Array,f=0;f<o;f++)for(var g=r[f*3+0],x=r[f*3+1],w=r[f*3+2],m=0;m<g;m++)u.push(new wr(x,w));return u};wr.getRsBlockTable=function(e,t){switch(t){case wa.L:return wr.RS_BLOCK_TABLE[(e-1)*4+0];case wa.M:return wr.RS_BLOCK_TABLE[(e-1)*4+1];case wa.Q:return wr.RS_BLOCK_TABLE[(e-1)*4+2];case wa.H:return wr.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var v3=wr;function Pg(){this.buffer=new Array,this.length=0}Pg.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var A3=Pg,ir={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ir.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ir.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ft=0;Ft<8;Ft++)ir.EXP_TABLE[Ft]=1<<Ft;for(var Ft=8;Ft<256;Ft++)ir.EXP_TABLE[Ft]=ir.EXP_TABLE[Ft-4]^ir.EXP_TABLE[Ft-5]^ir.EXP_TABLE[Ft-6]^ir.EXP_TABLE[Ft-8];for(var Ft=0;Ft<255;Ft++)ir.LOG_TABLE[ir.EXP_TABLE[Ft]]=Ft;var Bg=ir,Ni=Bg;function Da(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var o=0;o<e.length-r;o++)this.num[o]=e[o+r]}Da.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)t[r+o]^=Ni.gexp(Ni.glog(this.get(r))+Ni.glog(e.get(o)));return new Da(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ni.glog(this.get(0))-Ni.glog(e.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(var o=0;o<e.getLength();o++)r[o]^=Ni.gexp(Ni.glog(e.get(o))+t);return new Da(r,0).mod(e)}};var Fg=Da,Bn=Lg,Tf=Fg,S3=Bg,Xr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Pt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Pt.getBCHDigit(t)-Pt.getBCHDigit(Pt.G15)>=0;)t^=Pt.G15<<Pt.getBCHDigit(t)-Pt.getBCHDigit(Pt.G15);return(e<<10|t)^Pt.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Pt.getBCHDigit(t)-Pt.getBCHDigit(Pt.G18)>=0;)t^=Pt.G18<<Pt.getBCHDigit(t)-Pt.getBCHDigit(Pt.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Pt.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Xr.PATTERN000:return(t+r)%2==0;case Xr.PATTERN001:return t%2==0;case Xr.PATTERN010:return r%3==0;case Xr.PATTERN011:return(t+r)%3==0;case Xr.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Xr.PATTERN101:return t*r%2+t*r%3==0;case Xr.PATTERN110:return(t*r%2+t*r%3)%2==0;case Xr.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Tf([1],0),r=0;r<e;r++)t=t.multiply(new Tf([1,S3.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Bn.MODE_NUMBER:return 10;case Bn.MODE_ALPHA_NUM:return 9;case Bn.MODE_8BIT_BYTE:return 8;case Bn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Bn.MODE_NUMBER:return 12;case Bn.MODE_ALPHA_NUM:return 11;case Bn.MODE_8BIT_BYTE:return 16;case Bn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Bn.MODE_NUMBER:return 14;case Bn.MODE_ALPHA_NUM:return 13;case Bn.MODE_8BIT_BYTE:return 16;case Bn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,o=0;o<t;o++)for(var u=0;u<t;u++){for(var f=0,g=e.isDark(o,u),x=-1;x<=1;x++)if(!(o+x<0||t<=o+x))for(var w=-1;w<=1;w++)u+w<0||t<=u+w||x==0&&w==0||g==e.isDark(o+x,u+w)&&f++;f>5&&(r+=3+f-5)}for(var o=0;o<t-1;o++)for(var u=0;u<t-1;u++){var m=0;e.isDark(o,u)&&m++,e.isDark(o+1,u)&&m++,e.isDark(o,u+1)&&m++,e.isDark(o+1,u+1)&&m++,(m==0||m==4)&&(r+=3)}for(var o=0;o<t;o++)for(var u=0;u<t-6;u++)e.isDark(o,u)&&!e.isDark(o,u+1)&&e.isDark(o,u+2)&&e.isDark(o,u+3)&&e.isDark(o,u+4)&&!e.isDark(o,u+5)&&e.isDark(o,u+6)&&(r+=40);for(var u=0;u<t;u++)for(var o=0;o<t-6;o++)e.isDark(o,u)&&!e.isDark(o+1,u)&&e.isDark(o+2,u)&&e.isDark(o+3,u)&&e.isDark(o+4,u)&&!e.isDark(o+5,u)&&e.isDark(o+6,u)&&(r+=40);for(var v=0,u=0;u<t;u++)for(var o=0;o<t;o++)e.isDark(o,u)&&v++;var S=Math.abs(100*v/t/t-50)/5;return r+=S*10,r}},I3=Pt,T3=E3,jg=v3,Ug=A3,wi=I3,N3=Fg;function yr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Mn=yr.prototype;Mn.addData=function(e){var t=new T3(e);this.dataList.push(t),this.dataCache=null};Mn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Mn.getModuleCount=function(){return this.moduleCount};Mn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=jg.getRSBlocks(e,this.errorCorrectLevel),r=new Ug,o=0,u=0;u<t.length;u++)o+=t[u].dataCount;for(var u=0;u<this.dataList.length;u++){var f=this.dataList[u];r.put(f.mode,4),r.put(f.getLength(),wi.getLengthInBits(f.mode,e)),f.write(r)}if(r.getLengthInBits()<=o*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Mn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=yr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Mn.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(0<=r&&r<=6&&(o==0||o==6)||0<=o&&o<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[e+r][t+o]=!0:this.modules[e+r][t+o]=!1)};Mn.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=wi.getLostPoint(this);(r==0||e>o)&&(e=o,t=r)}return t};Mn.createMovieClip=function(e,t,r){var o=e.createEmptyMovieClip(t,r),u=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*u,x=0;x<this.modules[f].length;x++){var w=x*u,m=this.modules[f][x];m&&(o.beginFill(0,100),o.moveTo(w,g),o.lineTo(w+u,g),o.lineTo(w+u,g+u),o.lineTo(w,g+u),o.endFill())}return o};Mn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Mn.setupPositionAdjustPattern=function(){for(var e=wi.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var o=e[t],u=e[r];if(this.modules[o][u]==null)for(var f=-2;f<=2;f++)for(var g=-2;g<=2;g++)f==-2||f==2||g==-2||g==2||f==0&&g==0?this.modules[o+f][u+g]=!0:this.modules[o+f][u+g]=!1}};Mn.setupTypeNumber=function(e){for(var t=wi.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;r<18;r++){var o=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}};Mn.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,o=wi.getBCHTypeInfo(r),u=0;u<15;u++){var f=!e&&(o>>u&1)==1;u<6?this.modules[u][8]=f:u<8?this.modules[u+1][8]=f:this.modules[this.moduleCount-15+u][8]=f}for(var u=0;u<15;u++){var f=!e&&(o>>u&1)==1;u<8?this.modules[8][this.moduleCount-u-1]=f:u<9?this.modules[8][15-u-1+1]=f:this.modules[8][15-u-1]=f}this.modules[this.moduleCount-8][8]=!e};Mn.mapData=function(e,t){for(var r=-1,o=this.moduleCount-1,u=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var x=0;x<2;x++)if(this.modules[o][g-x]==null){var w=!1;f<e.length&&(w=(e[f]>>>u&1)==1);var m=wi.getMask(t,o,g-x);m&&(w=!w),this.modules[o][g-x]=w,u--,u==-1&&(f++,u=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}};yr.PAD0=236;yr.PAD1=17;yr.createData=function(e,t,r){for(var o=jg.getRSBlocks(e,t),u=new Ug,f=0;f<r.length;f++){var g=r[f];u.put(g.mode,4),u.put(g.getLength(),wi.getLengthInBits(g.mode,e)),g.write(u)}for(var x=0,f=0;f<o.length;f++)x+=o[f].dataCount;if(u.getLengthInBits()>x*8)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+x*8+")");for(u.getLengthInBits()+4<=x*8&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=x*8||(u.put(yr.PAD0,8),u.getLengthInBits()>=x*8));)u.put(yr.PAD1,8);return yr.createBytes(u,o)};yr.createBytes=function(e,t){for(var r=0,o=0,u=0,f=new Array(t.length),g=new Array(t.length),x=0;x<t.length;x++){var w=t[x].dataCount,m=t[x].totalCount-w;o=Math.max(o,w),u=Math.max(u,m),f[x]=new Array(w);for(var v=0;v<f[x].length;v++)f[x][v]=255&e.buffer[v+r];r+=w;var S=wi.getErrorCorrectPolynomial(m),I=new N3(f[x],S.getLength()-1),k=I.mod(S);g[x]=new Array(S.getLength()-1);for(var v=0;v<g[x].length;v++){var H=v+k.getLength()-g[x].length;g[x][v]=H>=0?k.get(H):0}}for(var R=0,v=0;v<t.length;v++)R+=t[v].totalCount;for(var B=new Array(R),N=0,v=0;v<o;v++)for(var x=0;x<t.length;x++)v<f[x].length&&(B[N++]=f[x][v]);for(var v=0;v<u;v++)for(var x=0;x<t.length;x++)v<g[x].length&&(B[N++]=g[x][v]);return B};var b3=yr,L1={};Object.defineProperty(L1,"__esModule",{value:!0});var _3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},M3=Rg,Fn=Hg(M3),zg=G,ya=Hg(zg);function Hg(e){return e&&e.__esModule?e:{default:e}}function O3(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}var R3={bgColor:Fn.default.oneOfType([Fn.default.object,Fn.default.string]).isRequired,bgD:Fn.default.string.isRequired,fgColor:Fn.default.oneOfType([Fn.default.object,Fn.default.string]).isRequired,fgD:Fn.default.string.isRequired,size:Fn.default.number.isRequired,title:Fn.default.string,viewBoxSize:Fn.default.number.isRequired,xmlns:Fn.default.string},k1=(0,zg.forwardRef)(function(e,t){var r=e.bgColor,o=e.bgD,u=e.fgD,f=e.fgColor,g=e.size,x=e.title,w=e.viewBoxSize,m=e.xmlns,v=m===void 0?"http://www.w3.org/2000/svg":m,S=O3(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ya.default.createElement("svg",_3({},S,{height:g,ref:t,viewBox:"0 0 "+w+" "+w,width:g,xmlns:v}),x?ya.default.createElement("title",null,x):null,ya.default.createElement("path",{d:o,fill:r}),ya.default.createElement("path",{d:u,fill:f}))});k1.displayName="QRCodeSvg";k1.propTypes=R3;L1.default=k1;Object.defineProperty(Rl,"__esModule",{value:!0});Rl.QRCode=void 0;var D3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},L3=Rg,Ir=zo(L3),k3=Dg,P3=zo(k3),B3=b3,F3=zo(B3),Vg=G,j3=zo(Vg),U3=L1,z3=zo(U3);function zo(e){return e&&e.__esModule?e:{default:e}}function H3(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}var V3={bgColor:Ir.default.oneOfType([Ir.default.object,Ir.default.string]),fgColor:Ir.default.oneOfType([Ir.default.object,Ir.default.string]),level:Ir.default.string,size:Ir.default.number,value:Ir.default.string.isRequired},Dl=(0,Vg.forwardRef)(function(e,t){var r=e.bgColor,o=r===void 0?"#FFFFFF":r,u=e.fgColor,f=u===void 0?"#000000":u,g=e.level,x=g===void 0?"L":g,w=e.size,m=w===void 0?256:w,v=e.value,S=H3(e,["bgColor","fgColor","level","size","value"]),I=new F3.default(-1,P3.default[x]);I.addData(v),I.make();var k=I.modules;return j3.default.createElement(z3.default,D3({},S,{bgColor:o,bgD:k.map(function(H,R){return H.map(function(B,N){return B?"":"M "+N+" "+R+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:f,fgD:k.map(function(H,R){return H.map(function(B,N){return B?"M "+N+" "+R+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:m,viewBoxSize:k.length}))});Rl.QRCode=Dl;Dl.displayName="QRCode";Dl.propTypes=V3;var W3=Rl.default=Dl;function G3(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),o=r.createElement("base"),u=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(u),t&&(o.href=t),u.href=e,u.href}const Y3=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Rr(e){const t=[];for(let r=0,o=e.length;r<o;r++)t.push(e[r]);return t}function ul(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function X3(e){const t=ul(e,"border-left-width"),r=ul(e,"border-right-width");return e.clientWidth+t+r}function Q3(e){const t=ul(e,"border-top-width"),r=ul(e,"border-bottom-width");return e.clientHeight+t+r}function Wg(e,t={}){const r=t.width||X3(e),o=t.height||Q3(e);return{width:r,height:o}}function Z3(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const wn=16384;function K3(e){(e.width>wn||e.height>wn)&&(e.width>wn&&e.height>wn?e.width>e.height?(e.height*=wn/e.width,e.width=wn):(e.width*=wn/e.height,e.height=wn):e.width>wn?(e.height*=wn/e.width,e.width=wn):(e.width*=wn/e.height,e.height=wn))}function cl(e){return new Promise((t,r)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=r,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function q3(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function $3(e,t,r){const o="http://www.w3.org/2000/svg",u=document.createElementNS(o,"svg"),f=document.createElementNS(o,"foreignObject");return u.setAttribute("width",`${t}`),u.setAttribute("height",`${r}`),u.setAttribute("viewBox",`0 0 ${t} ${r}`),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("externalResourcesRequired","true"),u.appendChild(f),f.appendChild(e),q3(u)}const gn=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||gn(r,t)};function J3(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function ey(e){return Rr(e).map(t=>{const r=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${r}${o?" !important":""};`}).join(" ")}function ty(e,t,r){const o=`.${e}:${t}`,u=r.cssText?J3(r):ey(r);return document.createTextNode(`${o}{${u}}`)}function Nf(e,t,r){const o=window.getComputedStyle(e,r),u=o.getPropertyValue("content");if(u===""||u==="none")return;const f=Y3();try{t.className=`${t.className} ${f}`}catch{return}const g=document.createElement("style");g.appendChild(ty(f,r,o)),t.appendChild(g)}function ny(e,t){Nf(e,t,":before"),Nf(e,t,":after")}const bf="application/font-woff",_f="image/jpeg",ry={woff:bf,woff2:bf,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:_f,jpeg:_f,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function iy(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function P1(e){const t=iy(e).toLowerCase();return ry[t]||""}function sy(e){return e.split(/,/)[1]}function _c(e){return e.search(/^(data:)/)!==-1}function oy(e,t){return`data:${t};base64,${e}`}async function Gg(e,t,r){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const u=await o.blob();return new Promise((f,g)=>{const x=new FileReader;x.onerror=g,x.onloadend=()=>{try{f(r({res:o,result:x.result}))}catch(w){g(w)}},x.readAsDataURL(u)})}const Mu={};function ay(e,t,r){let o=e.replace(/\?.*/,"");return r&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function B1(e,t,r){const o=ay(e,t,r.includeQueryParams);if(Mu[o]!=null)return Mu[o];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let u;try{const f=await Gg(e,r.fetchRequestInit,({res:g,result:x})=>(t||(t=g.headers.get("Content-Type")||""),sy(x)));u=oy(f,t)}catch(f){u=r.imagePlaceholder||"";let g=`Failed to fetch resource: ${e}`;f&&(g=typeof f=="string"?f:f.message),g&&console.warn(g)}return Mu[o]=u,u}async function ly(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):cl(t)}async function uy(e,t){if(e.currentSrc){const f=document.createElement("canvas"),g=f.getContext("2d");f.width=e.clientWidth,f.height=e.clientHeight,g==null||g.drawImage(e,0,0,f.width,f.height);const x=f.toDataURL();return cl(x)}const r=e.poster,o=P1(r),u=await B1(r,o,t);return cl(u)}async function cy(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Ll(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function fy(e,t){return gn(e,HTMLCanvasElement)?ly(e):gn(e,HTMLVideoElement)?uy(e,t):gn(e,HTMLIFrameElement)?cy(e):e.cloneNode(!1)}const dy=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function hy(e,t,r){var o,u;let f=[];return dy(e)&&e.assignedNodes?f=Rr(e.assignedNodes()):gn(e,HTMLIFrameElement)&&(!((o=e.contentDocument)===null||o===void 0)&&o.body)?f=Rr(e.contentDocument.body.childNodes):f=Rr(((u=e.shadowRoot)!==null&&u!==void 0?u:e).childNodes),f.length===0||gn(e,HTMLVideoElement)||await f.reduce((g,x)=>g.then(()=>Ll(x,r)).then(w=>{w&&t.appendChild(w)}),Promise.resolve()),t}function gy(e,t){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):Rr(o).forEach(u=>{let f=o.getPropertyValue(u);u==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),gn(e,HTMLIFrameElement)&&u==="display"&&f==="inline"&&(f="block"),u==="d"&&t.getAttribute("d")&&(f=`path(${t.getAttribute("d")})`),r.setProperty(u,f,o.getPropertyPriority(u))})}function py(e,t){gn(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),gn(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function my(e,t){if(gn(e,HTMLSelectElement)){const r=t,o=Array.from(r.children).find(u=>e.value===u.getAttribute("value"));o&&o.setAttribute("selected","")}}function xy(e,t){return gn(t,Element)&&(gy(e,t),ny(e,t),py(e,t),my(e,t)),t}async function wy(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const o={};for(let f=0;f<r.length;f++){const x=r[f].getAttribute("xlink:href");if(x){const w=e.querySelector(x),m=document.querySelector(x);!w&&m&&!o[x]&&(o[x]=await Ll(m,t,!0))}}const u=Object.values(o);if(u.length){const f="http://www.w3.org/1999/xhtml",g=document.createElementNS(f,"svg");g.setAttribute("xmlns",f),g.style.position="absolute",g.style.width="0",g.style.height="0",g.style.overflow="hidden",g.style.display="none";const x=document.createElementNS(f,"defs");g.appendChild(x);for(let w=0;w<u.length;w++)x.appendChild(u[w]);e.appendChild(g)}return e}async function Ll(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>fy(o,t)).then(o=>hy(e,o,t)).then(o=>xy(e,o)).then(o=>wy(o,t))}const Yg=/url\((['"]?)([^'"]+?)\1\)/g,yy=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Cy=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ey(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function vy(e){const t=[];return e.replace(Yg,(r,o,u)=>(t.push(u),r)),t.filter(r=>!_c(r))}async function Ay(e,t,r,o,u){try{const f=r?G3(t,r):t,g=P1(t);let x;return u||(x=await B1(f,g,o)),e.replace(Ey(t),`$1${x}$3`)}catch{}return e}function Sy(e,{preferredFontFormat:t}){return t?e.replace(Cy,r=>{for(;;){const[o,,u]=yy.exec(r)||[];if(!u)return"";if(u===t)return`src: ${o};`}}):e}function Xg(e){return e.search(Yg)!==-1}async function Qg(e,t,r){if(!Xg(e))return e;const o=Sy(e,r);return vy(o).reduce((f,g)=>f.then(x=>Ay(x,g,t,r)),Promise.resolve(o))}async function Ca(e,t,r){var o;const u=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(u){const f=await Qg(u,null,r);return t.style.setProperty(e,f,t.style.getPropertyPriority(e)),!0}return!1}async function Iy(e,t){await Ca("background",e,t)||await Ca("background-image",e,t),await Ca("mask",e,t)||await Ca("mask-image",e,t)}async function Ty(e,t){const r=gn(e,HTMLImageElement);if(!(r&&!_c(e.src))&&!(gn(e,SVGImageElement)&&!_c(e.href.baseVal)))return;const o=r?e.src:e.href.baseVal,u=await B1(o,P1(o),t);await new Promise((f,g)=>{e.onload=f,e.onerror=g;const x=e;x.decode&&(x.decode=f),x.loading==="lazy"&&(x.loading="eager"),r?(e.srcset="",e.src=u):e.href.baseVal=u})}async function Ny(e,t){const o=Rr(e.childNodes).map(u=>Zg(u,t));await Promise.all(o).then(()=>e)}async function Zg(e,t){gn(e,Element)&&(await Iy(e,t),await Ty(e,t),await Ny(e,t))}function by(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(u=>{r[u]=o[u]}),e}const Mf={};async function Of(e){let t=Mf[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},Mf[e]=t,t}async function Rf(e,t){let r=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,f=(r.match(/url\([^)]+\)/g)||[]).map(async g=>{let x=g.replace(o,"$1");return x.startsWith("https://")||(x=new URL(x,e.url).href),Gg(x,t.fetchRequestInit,({result:w})=>(r=r.replace(g,`url(${w})`),[g,w]))});return Promise.all(f).then(()=>r)}function Df(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(r,"");const u=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const w=u.exec(o);if(w===null)break;t.push(w[0])}o=o.replace(u,"");const f=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,g="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",x=new RegExp(g,"gi");for(;;){let w=f.exec(o);if(w===null){if(w=x.exec(o),w===null)break;f.lastIndex=x.lastIndex}else x.lastIndex=f.lastIndex;t.push(w[0])}return t}async function _y(e,t){const r=[],o=[];return e.forEach(u=>{if("cssRules"in u)try{Rr(u.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let x=g+1;const w=f.href,m=Of(w).then(v=>Rf(v,t)).then(v=>Df(v).forEach(S=>{try{u.insertRule(S,S.startsWith("@import")?x+=1:u.cssRules.length)}catch(I){console.error("Error inserting rule from remote css",{rule:S,error:I})}})).catch(v=>{console.error("Error loading remote css",v.toString())});o.push(m)}})}catch(f){const g=e.find(x=>x.href==null)||document.styleSheets[0];u.href!=null&&o.push(Of(u.href).then(x=>Rf(x,t)).then(x=>Df(x).forEach(w=>{g.insertRule(w,u.cssRules.length)})).catch(x=>{console.error("Error loading remote stylesheet",x)})),console.error("Error inlining remote css file",f)}}),Promise.all(o).then(()=>(e.forEach(u=>{if("cssRules"in u)try{Rr(u.cssRules||[]).forEach(f=>{r.push(f)})}catch(f){console.error(`Error while reading CSS rules from ${u.href}`,f)}}),r))}function My(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Xg(t.style.getPropertyValue("src")))}async function Oy(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Rr(e.ownerDocument.styleSheets),o=await _y(r,t);return My(o)}async function Ry(e,t){const r=await Oy(e,t);return(await Promise.all(r.map(u=>{const f=u.parentStyleSheet?u.parentStyleSheet.href:null;return Qg(u.cssText,f,t)}))).join(`
`)}async function Dy(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Ry(e,t);if(r){const o=document.createElement("style"),u=document.createTextNode(r);o.appendChild(u),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function Ly(e,t={}){const{width:r,height:o}=Wg(e,t),u=await Ll(e,t,!0);return await Dy(u,t),await Zg(u,t),by(u,t),await $3(u,r,o)}async function ky(e,t={}){const{width:r,height:o}=Wg(e,t),u=await Ly(e,t),f=await cl(u),g=document.createElement("canvas"),x=g.getContext("2d"),w=t.pixelRatio||Z3(),m=t.canvasWidth||r,v=t.canvasHeight||o;return g.width=m*w,g.height=v*w,t.skipAutoScale||K3(g),g.style.width=`${m}`,g.style.height=`${v}`,t.backgroundColor&&(x.fillStyle=t.backgroundColor,x.fillRect(0,0,g.width,g.height)),x.drawImage(f,0,0,g.width,g.height),g}async function Py(e,t={}){return(await ky(e,t)).toDataURL()}const By=({toggle:e,data:t})=>{const[r,o]=G.useState(JSON.stringify(t)),u=G.useRef(null),f=async()=>{Py(u.current).then(function(g){const x=document.createElement("a");x.href=g,x.download=t.lastname+".png",x.click()}).catch(function(g){console.error("Error generating QR code:",g)})};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Qr Code "}),b.jsx("button",{className:"text-gray-500 hover:text-gray-700",type:"button",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"flex items-center flex-col w-full",children:[b.jsx(W3,{value:r,ref:u}),b.jsx(hn,{name:"Download",onClick:f})]})]})})},Fy=()=>{const{id:e}=mg(),[t,r]=G.useState(""),[o,u]=Et(pn),[f,g]=_n(),x=xi(),[w,m]=G.useState([]),[v,S]=G.useState(!1),I=Hi(),[k,H]=G.useState(!1),[R,B]=G.useState(""),N=F=>{F.preventDefault();const Z=F.target.value.toLowerCase();if(!Z){X();return}const z=w.filter(se=>se.firstname.toLowerCase().includes(Z)||se.lastname.toLowerCase().includes(Z)||se.lrn.includes(Z));m(z)},T=()=>{H(!k)},O=async F=>{const Z=await fetch(`${o}/class/${e}`,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",auth:f},body:JSON.stringify({studentID:F})}),z=await Z.json();if(!Z.ok){Qe.error(z.message);return}Qe.success(z.message),X()},P=async(F,Z)=>{const z=await fetch(`${o}/attendance`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:f},body:JSON.stringify({classID:F})}),se=await z.json();if(!z.ok&&z.status!="403"){Qe.error(se.message);return}else z.status=="403"&&(Qe.success(se.message),I("/dashboard/attendance/now",{state:{id:e,className:t}}));Qe.success(se.message),I("/dashboard/attendance/now",{state:{id:e,className:t}})},Q=F=>{B(F),T()},X=async()=>{const F=await fetch(`${o}/class/${e}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:f}});if(!F.ok){console.log("Error: "+JSON.stringify(F));return}const Z=await F.json();m(Z.map(z=>z.Student))};return G.useEffect(()=>{X(),r(x.state.d.subject)},[]),b.jsxs(Vi,{page:`Class ${t}`,children:[b.jsxs("div",{className:"m-5 p-3 bg-white rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(hn,{name:"Add Student",onClick:()=>S(!v)}),b.jsx("input",{type:"text",placeholder:"Search...",className:"px-4 mt-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:N})]}),b.jsx("div",{children:b.jsx(hn,{name:"Attendance",onClick:()=>P(e)})})]}),b.jsx(D1,{data:w,add:!1,handleRemove:O,handleGenerate:Q}),v&&b.jsx(p3,{classId:e,toggle:()=>S(!v),update:X})]}),k&&b.jsx(By,{toggle:T,data:R})]})},jy=()=>b.jsx(R1,{page:"Profile",children:b.jsx("div",{className:"m-5 p-5 bg-white rounded-lg",children:"Admin Profile"})}),Uy=({toggle:e,update:t})=>{const[r,o]=G.useState(1),[u,f]=Et(pn),[g,x]=_n(),[w,m]=G.useState(""),[v,S]=G.useState(""),[I,k]=G.useState(""),[H,R]=G.useState(""),[B,N]=G.useState(""),[T,O]=G.useState(""),[P,Q]=G.useState(""),X=z=>{z.preventDefault(),o(2)},F=z=>{z.preventDefault(),o(1)},Z=async z=>{if(z.preventDefault(),w.trim()===""||v.trim()===""||I.trim()===""||H.trim()===""||B.trim()===""||T.trim()===""||P.trim()===""){Qe.error("Please fill in all fields");return}const se={lrn:I,strand:H,firstname:w,lastname:v,username:B,email:T,password:P},ge=await fetch(`${u}/student`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:g},body:JSON.stringify(se)}),ce=await ge.json();if(!ge.ok){Qe.error(ce.message);return}Qe.success(ce.message),e(),t()};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:b.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-8 w-96 space-y-1",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Students"}),b.jsx("button",{className:"text-gray-500 hover:text-gray-700",type:"button",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r===1?b.jsxs(b.Fragment,{children:[b.jsx(Ot,{type:"text",label:"First Name",value:w,onChange:m}),b.jsx(Ot,{type:"text",label:"Last Name",value:v,onChange:S}),b.jsx(Ot,{type:"text",label:"LRN",value:I,onChange:k}),b.jsx(Ot,{type:"text",label:"Strand",value:H,onChange:R}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx(hn,{name:"Next",onClick:X})})]}):b.jsxs(b.Fragment,{children:[b.jsx(Ot,{type:"text",label:"Username",value:B,onChange:N}),b.jsx(Ot,{type:"email",label:"Email",value:T,onChange:O}),b.jsx(Ot,{type:"text",label:"Password",value:P,onChange:Q}),b.jsxs("div",{className:"flex justify-between mt-6 gap-1",children:[b.jsx(hn,{name:"Back",onClick:F,type:"second"}),b.jsx(hn,{name:"Create",onClick:Z})]})]})]})})},zy=()=>{const[e,t]=G.useState([]),[r,o]=Et(pn),[u,f]=G.useState(!1),g=()=>{f(!u)},x=async()=>{const w=await fetch(`${r}/student`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});if(!w.ok){console.log("Error: "+JSON.stringify(w));return}const m=await w.json();console.log(m),t(m)};return G.useEffect(()=>{x()},[]),b.jsx(R1,{page:"Students",children:b.jsxs("div",{className:"p-5 m-5 bg-white rounded-lg",children:[b.jsx("div",{className:"flex items-center justify-between gap-2 mb-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(hn,{name:"Add Student",onClick:g}),b.jsx("input",{type:"text",placeholder:"Search...",className:"px-4 mt-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),b.jsx(D1,{data:e}),u&&b.jsx(Uy,{toggle:g,update:x})]})})},Hy=()=>{const[e,t]=_n(),[r,o]=Et(pn),[u,f]=G.useState([]),g=async()=>{const x=await fetch(`${r}/class/current`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:e}}),w=await x.json();if(!x.ok){Qe.error(w.message);return}f(w)};return G.useEffect(()=>{g()},[]),b.jsx(Vi,{page:"Attendance",children:b.jsx("div",{className:"m-5 p-5 bg-white rounded-lg",children:b.jsx(O1,{data:u,attendance:!0})})})},Kg=({data:e})=>(G.useState(e||[]),b.jsx("div",{className:"overflow-scroll max-h-[75vh]",children:b.jsxs("table",{className:"w-full mt-5 mb-5 bg-white rounded-lg",children:[b.jsx("thead",{className:"sticky top-0",children:b.jsxs("tr",{className:"bg-blue-600 text-white rounded-t-lg",children:[b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student Name"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student LRN"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Student Strand"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Date"}),b.jsx("th",{className:"p-3 text-left border-b-2 border-gray-200",children:"Status"})]})}),b.jsx("tbody",{children:e.map((t,r)=>b.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[b.jsx("td",{className:"p-3 ",children:`${t.Student.firstname} ${t.Student.lastname}`}),b.jsx("td",{className:"p-3 ",children:t.Student.lrn}),b.jsx("td",{className:"p-3 ",children:t.Student.strand}),b.jsx("td",{className:"p-3 ",children:t.date}),b.jsx("td",{className:"p-3  w-32",children:t.status==="Present"?b.jsx("span",{className:"bg-green-500 p-1 px-2 text-white mr-2 rounded-lg",children:"Present"}):b.jsx("span",{className:"bg-red-500 p-1 px-2 text-white mr-2 rounded-lg",children:"absent"})})]},r))})]})})),Vy=()=>{const[e,t]=_n(),[r,o]=Et(pn),u=xi(),[f,g]=G.useState([]),{id:x}=mg(),w=async()=>{const m=await fetch(`${r}/attendance/${x}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:e}}),v=await m.json();if(!m.ok){Qe.error(v.message);return}g(v)};return G.useEffect(()=>{w()},[]),b.jsx(Vi,{page:`Attendance ${u.state.d.subject}`,children:b.jsx("div",{className:"m-5 p-5 bg-white rounded-lg",children:b.jsx(Kg,{data:f})})})};var ae;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ae||(ae={}));var Lf=new Map([[ae.QR_CODE,"QR_CODE"],[ae.AZTEC,"AZTEC"],[ae.CODABAR,"CODABAR"],[ae.CODE_39,"CODE_39"],[ae.CODE_93,"CODE_93"],[ae.CODE_128,"CODE_128"],[ae.DATA_MATRIX,"DATA_MATRIX"],[ae.MAXICODE,"MAXICODE"],[ae.ITF,"ITF"],[ae.EAN_13,"EAN_13"],[ae.EAN_8,"EAN_8"],[ae.PDF_417,"PDF_417"],[ae.RSS_14,"RSS_14"],[ae.RSS_EXPANDED,"RSS_EXPANDED"],[ae.UPC_A,"UPC_A"],[ae.UPC_E,"UPC_E"],[ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),kf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(kf||(kf={}));function Wy(e){return Object.values(ae).includes(e)}var Br;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Br||(Br={}));var tr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Br.SCAN_TYPE_CAMERA,Br.SCAN_TYPE_FILE],e}(),qg=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Lf.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Lf.get(t))},e}(),Pf=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Mc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Mc||(Mc={}));var $g=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Mc.UNKWOWN_ERROR}},e}(),Jg=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function mr(e){return typeof e>"u"||e===null}function Gy(e,t,r){return e>r?r:e<t?t:e}var ms=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),He=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Bf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),e2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var o=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),g=Object.keys(t),x=0,w=g;x<w.length;x++){var m=w[x];if(f.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Oc={exports:{}};(function(e,t){(function(r,o){o(t)})(Xs,function(r){function o(C){return C==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,n){C.__proto__=n}||function(C,n){for(var i in n)n.hasOwnProperty(i)&&(C[i]=n[i])};function f(C,n){u(C,n);function i(){this.constructor=C}C.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function g(C,n){var i=Object.setPrototypeOf;i?i(C,n):C.__proto__=n}function x(C,n){n===void 0&&(n=C.constructor);var i=Error.captureStackTrace;i&&i(C,n)}var w=function(C){f(n,C);function n(i){var s=this.constructor,a=C.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),g(a,s.prototype),x(a),a}return n}(Error);class m extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class S extends m{}S.kind="IllegalArgumentException";class I{constructor(n){if(this.binarizer=n,n===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,a){const l=this.binarizer.getLuminanceSource().crop(n,i,s,a);return new I(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends m{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class H{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(n,i,s,a,l){for(;l--;)s[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class B extends m{}B.kind="IndexOutOfBoundsException";class N extends B{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}N.kind="ArrayIndexOutOfBoundsException";class T{static fill(n,i){for(let s=0,a=n.length;s<a;s++)n[s]=i}static fillWithin(n,i,s,a){T.rangeCheck(n.length,i,s);for(let l=i;l<s;l++)n[l]=a}static rangeCheck(n,i,s){if(i>s)throw new S("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new N(i);if(s>n)throw new N(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(l=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(l=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const a=s-i,l=new Int32Array(a);return R.arraycopy(n,i,l,0,a),l}static binarySearch(n,i,s){s===void 0&&(s=T.numberComparator);let a=0,l=n.length-1;for(;a<=l;){const c=l+a>>1,d=s(i,n[c]);if(d>0)a=c+1;else if(d<0)l=c-1;else return c}return-a-1}static numberComparator(n,i){return n-i}}class O{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=P.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=P.makeArray(n);R.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),l=s[a];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++a===c)return i;l=s[a]}const d=a*32+O.numberOfTrailingZeros(l);return d>i?i:d}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),l=~s[a];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++a===c)return i;l=~s[a]}const d=a*32+O.numberOfTrailingZeros(l);return d>i?i:d}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new S;if(i===n)return;i--;const s=Math.floor(n/32),a=Math.floor(i/32),l=this.bits;for(let c=s;c<=a;c++){const d=c>s?0:n&31,p=(2<<(c<a?31:i&31))-(1<<d);l[c]|=p}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new S;if(i===n)return!0;i--;const a=Math.floor(n/32),l=Math.floor(i/32),c=this.bits;for(let d=a;d<=l;d++){const h=d>a?0:n&31,y=(2<<(d<l?31:i&31))-(1<<h)&4294967295;if((c[d]&y)!==(s?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new S("Sizes don't match");const i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=n.bits[s]}toBytes(n,i,s,a){for(let l=0;l<a;l++){let c=0;for(let d=0;d<8;d++)this.get(n)&&(c|=1<<7-d),n++;i[s+l]=c}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let l=0;l<s;l++){let c=a[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,n[i-l]=c}if(this.size!==s*32){const l=s*32-this.size;let c=n[0]>>>l;for(let d=1;d<s;d++){const h=n[d];c|=h<<32-l,n[d-1]=c,c=h>>>l}n[s-1]=c}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof P))return!1;const i=n;return this.size===i.size&&T.equals(this.bits,i.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new P(this.size,this.bits.slice())}}var Q;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var X=Q;class F extends m{static getFormatInstance(){return new F}}F.kind="FormatException";var Z;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class z{constructor(n,i,s,...a){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,z.VALUE_IDENTIFIER_TO_ECI.set(n,this),z.NAME_TO_ECI.set(s,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const h=l[c];z.VALUES_TO_ECI.set(h,this)}for(const c of a)z.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new F("incorect value");const i=z.VALUES_TO_ECI.get(n);if(i===void 0)throw new F("incorect value");return i}static getCharacterSetECIByName(n){const i=z.NAME_TO_ECI.get(n);if(i===void 0)throw new F("incorect value");return i}equals(n){if(!(n instanceof z))return!1;const i=n;return this.getName()===i.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(Z.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(Z.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(Z.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(Z.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(Z.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(Z.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(Z.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(Z.Big5,28,"Big5"),z.GB18030=new z(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(Z.EUC_KR,30,"EUC_KR","EUC-KR");class se extends m{}se.kind="UnsupportedOperationException";class ge{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!ge.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof z?n:z.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(ge.isDecodeFallbackSupported(s)){let a="";for(let l=0,c=n.length;l<c;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(s.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new se(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(z.UTF8)||n.equals(z.ISO8859_1)||n.equals(z.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let l=0;l<s.length;l++)a.push(s[l].charCodeAt(0));return new Uint8Array(a)}}class ce{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return ge.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(X.CHARACTER_SET)!==void 0)return i.get(X.CHARACTER_SET).toString();const s=n.length;let a=!0,l=!0,c=!0,d=0,h=0,p=0,y=0,E=0,A=0,M=0,D=0,L=0,j=0,W=0;const ee=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let te=0;te<s&&(a||l||c);te++){const $=n[te]&255;c&&(d>0?$&128?d--:c=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?c=!1:y++):p++):h++):c=!1)),a&&($>127&&$<160?a=!1:$>159&&($<192||$===215||$===247)&&W++),l&&(E>0?$<64||$===127||$>252?l=!1:E--:$===128||$===160||$>239?l=!1:$>160&&$<224?(A++,D=0,M++,M>L&&(L=M)):$>127?(E++,M=0,D++,D>j&&(j=D)):(M=0,D=0))}return c&&d>0&&(c=!1),l&&E>0&&(l=!1),c&&(ee||h+p+y>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||L>=3||j>=3)?ce.SHIFT_JIS:a&&l?L===2&&A===2||W*10>=s?ce.SHIFT_JIS:ce.ISO88591:a?ce.ISO88591:l?ce.SHIFT_JIS:c?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function a(c,d,h,p,y,E){if(c==="%%")return"%";if(i[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let A=y?parseInt(y.substr(1)):void 0,M;switch(E){case"s":M=i[s];break;case"c":M=i[s][0];break;case"f":M=parseFloat(i[s]).toFixed(c);break;case"p":M=parseFloat(i[s]).toPrecision(c);break;case"e":M=parseFloat(i[s]).toExponential(c);break;case"x":M=parseInt(i[s]).toString(A||16);break;case"d":M=parseFloat(parseInt(i[s],A||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(A);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;M.length<D;)M=d!==void 0?M+L:L+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}static getBytes(n,i){return ge.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ce.SHIFT_JIS=z.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=z.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=z.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Ie{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let a=i;i<i+s;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class qe{constructor(n,i,s,a){if(this.width=n,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,a=new qe(s,i);for(let l=0;l<i;l++){const c=n[l];for(let d=0;d<s;d++)c[d]&&a.set(d,l)}return a}static parseFromString(n,i,s){if(n===null)throw new S("stringRepresentation cannot be null");const a=new Array(n.length);let l=0,c=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new S("row lengths do not match");c=l,h++}p++}else if(n.substring(p,p+i.length)===i)p+=i.length,a[l]=!0,l++;else if(n.substring(p,p+s.length)===s)p+=s.length,a[l]=!1,l++;else throw new S("illegal character encountered: "+n.substring(p));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new S("row lengths do not match");h++}const y=new qe(d,h);for(let E=0;E<l;E++)a[E]&&y.set(Math.floor(E%d),Math.floor(E/d));return y}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new S("input matrix dimensions do not match");const i=new P(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*s,h=n.getRow(l,i).getBitArray();for(let p=0;p<s;p++)a[d+p]^=h[p]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,a){if(i<0||n<0)throw new S("Left and top must be nonnegative");if(a<1||s<1)throw new S("Height and width must be at least 1");const l=n+s,c=i+a;if(c>this.height||l>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=i;p<c;p++){const y=p*d;for(let E=n;E<l;E++)h[y+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new P(this.width):i.clear();const s=this.rowSize,a=this.bits,l=n*s;for(let c=0;c<s;c++)i.setBulk(c*32,a[l+c]);return i}setRow(n,i){R.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new P(n),a=new P(n);for(let l=0,c=Math.floor((i+1)/2);l<c;l++)s=this.getRow(l,s),a=this.getRow(i-1-l,a),s.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,a=this.bits;let l=n,c=i,d=-1,h=-1;for(let p=0;p<i;p++)for(let y=0;y<s;y++){const E=a[p*s+y];if(E!==0){if(p<c&&(c=p),p>h&&(h=p),y*32<l){let A=0;for(;!(E<<31-A&4294967295);)A++;y*32+A<l&&(l=y*32+A)}if(y*32+31>d){let A=31;for(;!(E>>>A);)A--;y*32+A>d&&(d=y*32+A)}}}return d<l||h<c?null:Int32Array.from([l,c,d-l+1,h-c+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const a=s/n;let l=s%n*32;const c=i[s];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const a=Math.floor(s/n);let l=Math.floor(s%n)*32;const c=i[s];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof qe))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&T.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+T.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let a=new Ie;for(let l=0,c=this.height;l<c;l++){for(let d=0,h=this.width;d<h;d++)a.append(this.get(d,l)?n:i);a.append(s)}return a.toString()}clone(){return new qe(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends m{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class Be extends H{constructor(n){super(n),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new P(a):i.clear(),this.initArrays(a);const l=s.getRow(n,this.luminances),c=this.buckets;for(let h=0;h<a;h++)c[(l[h]&255)>>Be.LUMINANCE_SHIFT]++;const d=Be.estimateBlackPoint(c);if(a<3)for(let h=0;h<a;h++)(l[h]&255)<d&&i.set(h);else{let h=l[0]&255,p=l[1]&255;for(let y=1;y<a-1;y++){const E=l[y+1]&255;(p*4-h-E)/2<d&&i.set(y),h=p,p=E}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),a=new qe(i,s);this.initArrays(i);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),y=n.getRow(p,this.luminances),E=Math.floor(i*4/5);for(let A=Math.floor(i/5);A<E;A++){const M=y[A]&255;l[M>>Be.LUMINANCE_SHIFT]++}}const c=Be.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<s;h++){const p=h*i;for(let y=0;y<i;y++)(d[p+y]&255)<c&&a.set(y,h)}return a}createBinarizer(n){return new Be(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<Be.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,a=0,l=0;for(let y=0;y<i;y++)n[y]>l&&(a=y,l=n[y]),n[y]>s&&(s=n[y]);let c=0,d=0;for(let y=0;y<i;y++){const E=y-a,A=n[y]*E*E;A>d&&(c=y,d=A)}if(a>c){const y=a;a=c,c=y}if(c-a<=i/16)throw new Y;let h=c-1,p=-1;for(let y=c-1;y>a;y--){const E=y-a,A=E*E*(c-y)*(s-n[y]);A>p&&(h=y,p=A)}return h<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class ye extends Be{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=ye.MINIMUM_DIMENSION&&s>=ye.MINIMUM_DIMENSION){const a=n.getMatrix();let l=i>>ye.BLOCK_SIZE_POWER;i&ye.BLOCK_SIZE_MASK&&l++;let c=s>>ye.BLOCK_SIZE_POWER;s&ye.BLOCK_SIZE_MASK&&c++;const d=ye.calculateBlackPoints(a,l,c,i,s),h=new qe(i,s);ye.calculateThresholdForBlock(a,l,c,i,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ye(n)}static calculateThresholdForBlock(n,i,s,a,l,c,d){const h=l-ye.BLOCK_SIZE,p=a-ye.BLOCK_SIZE;for(let y=0;y<s;y++){let E=y<<ye.BLOCK_SIZE_POWER;E>h&&(E=h);const A=ye.cap(y,2,s-3);for(let M=0;M<i;M++){let D=M<<ye.BLOCK_SIZE_POWER;D>p&&(D=p);const L=ye.cap(M,2,i-3);let j=0;for(let ee=-2;ee<=2;ee++){const te=c[A+ee];j+=te[L-2]+te[L-1]+te[L]+te[L+1]+te[L+2]}const W=j/25;ye.thresholdBlock(n,D,E,W,a,d)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,a,l,c){for(let d=0,h=s*l+i;d<ye.BLOCK_SIZE;d++,h+=l)for(let p=0;p<ye.BLOCK_SIZE;p++)(n[h+p]&255)<=a&&c.set(i+p,s+d)}static calculateBlackPoints(n,i,s,a,l){const c=l-ye.BLOCK_SIZE,d=a-ye.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(i);let y=p<<ye.BLOCK_SIZE_POWER;y>c&&(y=c);for(let E=0;E<i;E++){let A=E<<ye.BLOCK_SIZE_POWER;A>d&&(A=d);let M=0,D=255,L=0;for(let W=0,ee=y*a+A;W<ye.BLOCK_SIZE;W++,ee+=a){for(let te=0;te<ye.BLOCK_SIZE;te++){const $=n[ee+te]&255;M+=$,$<D&&(D=$),$>L&&(L=$)}if(L-D>ye.MIN_DYNAMIC_RANGE)for(W++,ee+=a;W<ye.BLOCK_SIZE;W++,ee+=a)for(let te=0;te<ye.BLOCK_SIZE;te++)M+=n[ee+te]&255}let j=M>>ye.BLOCK_SIZE_POWER*2;if(L-D<=ye.MIN_DYNAMIC_RANGE&&(j=D/2,p>0&&E>0)){const W=(h[p-1][E]+2*h[p][E-1]+h[p-1][E-1])/4;D<W&&(j=W)}h[p][E]=j}}return h}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class q{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,a){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Ie;for(let s=0;s<this.height;s++){const a=this.getRow(s,n);for(let l=0;l<this.width;l++){const c=a[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class fe extends q{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),a=this.getWidth();for(let l=0;l<a;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(n[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,a){return new fe(this.delegate.crop(n,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class me extends q{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return me.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const a=new Uint8ClampedArray(i*s);for(let l=0,c=0,d=n.length;l<d;l+=4,c++){let h;if(n[l+3]===0)h=255;else{const y=n[l],E=n[l+1],A=n[l+2];h=306*y+601*E+117*A+512>>10}a[c]=h}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth(),a=n*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,a){return super.crop(n,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),a=n*me.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*c),h=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*c);return i.width=d,i.height=h,s.translate(d/2,h/2),s.rotate(a),s.drawImage(this.canvas,l/-2,c/-2),this.buffer=me.makeBufferFromCanvasImageData(i),this}invert(){return new fe(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Xs||self||window||void 0)&&(globalThis||Xs||self||window||void 0).__awaiter||function(C,n,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(y){try{p(s.next(y))}catch(E){c(E)}}function h(y){try{p(s.throw(y))}catch(E){c(E)}}function p(y){y.done?l(y.value):a(y.value).then(d,h)}p((s=s.apply(C,n||[])).next())})};class _e{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;const l=s.deviceId||s.id,c=s.label||`Video device ${i.length+1}`,d=s.groupId,h={deviceId:l,label:c,kind:a,groupId:d};i.push(h)}return i})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new xe(i.deviceId,i.label))})}findDeviceById(n){return de(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return de(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return de(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return de(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return de(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,i,s)})}decodeFromConstraints(n,i,s){return de(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(n,i,s){return de(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return de(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new v(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new v("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=n,a}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const a=(l,c)=>{if(this._stopAsyncDecode){c(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=i&&d instanceof Y,y=(d instanceof k||d instanceof F)&&s;if(h||y)return setTimeout(a,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>a(l,c))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);const l=a instanceof k||a instanceof F,c=a instanceof Y;(l||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new me(i),a=new ye(s);return new I(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(n,i,s=i==null?0:8*i.length,a,l,c=R.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=l,this.timestamp=c,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=l,this.resultMetadata=null,c==null?this.timestamp=R.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);R.arraycopy(i,0,s,0,i.length),R.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Zt;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Zt||(Zt={}));var ie=Zt,On;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(On||(On={}));var nt=On;class Gn{constructor(n,i,s,a,l=-1,c=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Yn{exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class zt{constructor(n,i){if(i.length===0)throw new S;this.field=n;const s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),R.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let c=0,d=i.length;c!==d;c++){const h=i[c];s=Yn.addOrSubtract(s,h)}return s}s=i[0];const a=i.length,l=this.field;for(let c=1;c<a;c++)s=Yn.addOrSubtract(l.multiply(n,s),i[c]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const c=i;i=s,s=c}let a=new Int32Array(s.length);const l=s.length-i.length;R.arraycopy(s,0,a,0,l);for(let c=l;c<s.length;c++)a[c]=Yn.addOrSubtract(i[c-l],s[c]);return new zt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,a=n.coefficients,l=a.length,c=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const p=i[h];for(let y=0;y<l;y++)c[h+y]=Yn.addOrSubtract(c[h+y],d.multiply(p,a[y]))}return new zt(d,c)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,a=new Int32Array(i),l=this.coefficients;for(let c=0;c<i;c++)a[c]=s.multiply(l[c],n);return new zt(s,a)}multiplyByMonomial(n,i){if(n<0)throw new S;if(i===0)return this.field.getZero();const s=this.coefficients,a=s.length,l=new Int32Array(a+n),c=this.field;for(let d=0;d<a;d++)l[d]=c.multiply(s[d],i);return new zt(c,l)}divide(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new S("Divide by 0");const i=this.field;let s=i.getZero(),a=this;const l=n.getCoefficient(n.getDegree()),c=i.inverse(l);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const d=a.getDegree()-n.getDegree(),h=i.multiply(a.getCoefficient(a.getDegree()),c),p=n.multiplyByMonomial(d,h),y=i.buildMonomial(d,h);s=s.addOrSubtract(y),a=a.addOrSubtract(p)}return[s,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const a=this.field.log(s);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class jr extends m{}jr.kind="ArithmeticException";class Le extends Yn{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const a=new Int32Array(i);let l=1;for(let d=0;d<i;d++)a[d]=l,l*=2,l>=i&&(l^=n,l&=i-1);this.expTable=a;const c=new Int32Array(i);for(let d=0;d<i-1;d++)c[a[d]]=d;this.logTable=c,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new S;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new zt(this,s)}inverse(n){if(n===0)throw new jr;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class Ar extends m{}Ar.kind="ReedSolomonException";class mn extends m{}mn.kind="IllegalStateException";class Rn{constructor(n){this.field=n}decode(n,i){const s=this.field,a=new zt(s,n),l=new Int32Array(i);let c=!0;for(let M=0;M<i;M++){const D=a.evaluateAt(s.exp(M+s.getGeneratorBase()));l[l.length-1-M]=D,D!==0&&(c=!1)}if(c)return;const d=new zt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(i,1),d,i),p=h[0],y=h[1],E=this.findErrorLocations(p),A=this.findErrorMagnitudes(y,E);for(let M=0;M<E.length;M++){const D=n.length-1-s.log(E[M]);if(D<0)throw new Ar("Bad error location");n[D]=Le.addOrSubtract(n[D],A[M])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const M=n;n=i,i=M}const a=this.field;let l=n,c=i,d=a.getZero(),h=a.getOne();for(;c.getDegree()>=(s/2|0);){let M=l,D=d;if(l=c,d=h,l.isZero())throw new Ar("r_{i-1} was zero");c=M;let L=a.getZero();const j=l.getCoefficient(l.getDegree()),W=a.inverse(j);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const ee=c.getDegree()-l.getDegree(),te=a.multiply(c.getCoefficient(c.getDegree()),W);L=L.addOrSubtract(a.buildMonomial(ee,te)),c=c.addOrSubtract(l.multiplyByMonomial(ee,te))}if(h=L.multiply(d).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new mn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new Ar("sigmaTilde(0) was zero");const y=a.inverse(p),E=h.multiplyScalar(y),A=c.multiplyScalar(y);return[E,A]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let a=0;const l=this.field;for(let c=1;c<l.getSize()&&a<i;c++)n.evaluateAt(c)===0&&(s[a]=l.inverse(c),a++);if(a!==i)throw new Ar("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,a=new Int32Array(s),l=this.field;for(let c=0;c<s;c++){const d=l.inverse(i[c]);let h=1;for(let p=0;p<s;p++)if(c!==p){const y=l.multiply(i[p],d),E=y&1?y&-2:y|1;h=l.multiply(h,E)}a[c]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(a[c]=l.multiply(a[c],d))}return a}}var vt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(vt||(vt={}));class We{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),a=this.correctBits(s),l=We.convertBoolArrayToByteArray(a),c=We.getEncodedData(a),d=new Gn(l,c,null,null);return d.setNumBits(a.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=vt.UPPER,a=vt.UPPER,l="",c=0;for(;c<i;)if(a===vt.BINARY){if(i-c<5)break;let d=We.readCode(n,c,5);if(c+=5,d===0){if(i-c<11)break;d=We.readCode(n,c,11)+31,c+=11}for(let h=0;h<d;h++){if(i-c<8){c=i;break}const p=We.readCode(n,c,8);l+=ce.castAsNonUtf8Char(p),c+=8}a=s}else{let d=a===vt.DIGIT?4:5;if(i-c<d)break;let h=We.readCode(n,c,d);c+=d;let p=We.getCharacter(a,h);p.startsWith("CTRL_")?(s=a,a=We.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=a)):(l+=p,a=s)}return l}static getTable(n){switch(n){case"L":return vt.LOWER;case"P":return vt.PUNCT;case"M":return vt.MIXED;case"D":return vt.DIGIT;case"B":return vt.BINARY;case"U":default:return vt.UPPER}}static getCharacter(n,i){switch(n){case vt.UPPER:return We.UPPER_TABLE[i];case vt.LOWER:return We.LOWER_TABLE[i];case vt.MIXED:return We.MIXED_TABLE[i];case vt.PUNCT:return We.PUNCT_TABLE[i];case vt.DIGIT:return We.DIGIT_TABLE[i];default:throw new mn("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=Le.AZTEC_DATA_10):(s=12,i=Le.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=n.length/s;if(l<a)throw new F;let c=n.length%s,d=new Int32Array(l);for(let A=0;A<l;A++,c+=s)d[A]=We.readCode(n,c,s);try{new Rn(i).decode(d,l-a)}catch(A){throw new F(A)}let h=(1<<s)-1,p=0;for(let A=0;A<a;A++){let M=d[A];if(M===0||M===h)throw new F;(M===1||M===h-1)&&p++}let y=new Array(a*s-p),E=0;for(let A=0;A<a;A++){let M=d[A];if(M===1||M===h-1)y.fill(M>1,E,E+s-1),E+=s-1;else for(let D=s-1;D>=0;--D)y[E++]=(M&1<<D)!==0}return y}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(i?11:14)+s*4,l=new Int32Array(a),c=new Array(this.totalBitsInLayer(s,i));if(i)for(let d=0;d<l.length;d++)l[d]=d;else{let d=a+1+2*O.truncDivision(O.truncDivision(a,2)-1,15),h=a/2,p=O.truncDivision(d,2);for(let y=0;y<h;y++){let E=y+O.truncDivision(y,15);l[h-y-1]=p-E-1,l[h+y]=p+E+1}}for(let d=0,h=0;d<s;d++){let p=(s-d)*4+(i?9:12),y=d*2,E=a-1-y;for(let A=0;A<p;A++){let M=A*2;for(let D=0;D<2;D++)c[h+M+D]=n.get(l[y+D],l[y+A]),c[h+2*p+M+D]=n.get(l[y+A],l[E-D]),c[h+4*p+M+D]=n.get(l[E-D],l[E-A]),c[h+6*p+M+D]=n.get(l[E-A],l[y+D])}h+=p*8}return c}static readCode(n,i,s){let a=0;for(let l=i;l<i+s;l++)a<<=1,n[l]&&(a|=1);return a}static readByte(n,i){let s=n.length-i;return s>=8?We.readCode(n,i,8):We.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=We.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ve{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,a){const l=n-s,c=i-a;return Math.sqrt(l*l+c*c)}static sum(n){let i=0;for(let s=0,a=n.length;s!==a;s++){const l=n[s];i+=l}return i}}class Xn{static floatToIntBits(n){return n}}Xn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof ue){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Xn.floatToIntBits(this.x)+Xn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let l,c,d;if(s>=i&&s>=a?(c=n[0],l=n[1],d=n[2]):a>=s&&a>=i?(c=n[1],l=n[0],d=n[2]):(c=n[2],l=n[0],d=n[1]),this.crossProductZ(l,c,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=c,n[2]=d}static distance(n,i){return ve.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const a=i.x,l=i.y;return(s.x-a)*(n.y-l)-(s.y-l)*(n.x-a)}}class Wi{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class yi extends Wi{constructor(n,i,s,a,l){super(n,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qn{constructor(n,i,s,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=Qn.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const l=i/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,a=this.downInit,l=!1,c=!0,d=!1,h=!1,p=!1,y=!1,E=!1;const A=this.width,M=this.height;for(;c;){c=!1;let D=!0;for(;(D||!h)&&i<A;)D=this.containsBlackPoint(s,a,i,!1),D?(i++,c=!0,h=!0):h||i++;if(i>=A){l=!0;break}let L=!0;for(;(L||!p)&&a<M;)L=this.containsBlackPoint(n,i,a,!0),L?(a++,c=!0,p=!0):p||a++;if(a>=M){l=!0;break}let j=!0;for(;(j||!y)&&n>=0;)j=this.containsBlackPoint(s,a,n,!1),j?(n--,c=!0,y=!0):y||n--;if(n<0){l=!0;break}let W=!0;for(;(W||!E)&&s>=0;)W=this.containsBlackPoint(n,i,s,!0),W?(s--,c=!0,E=!0):E||s--;if(s<0){l=!0;break}c&&(d=!0)}if(!l&&d){const D=i-n;let L=null;for(let te=1;L===null&&te<D;te++)L=this.getBlackPointOnSegment(n,a-te,n+te,a);if(L==null)throw new Y;let j=null;for(let te=1;j===null&&te<D;te++)j=this.getBlackPointOnSegment(n,s+te,n+te,s);if(j==null)throw new Y;let W=null;for(let te=1;W===null&&te<D;te++)W=this.getBlackPointOnSegment(i,s+te,i-te,s);if(W==null)throw new Y;let ee=null;for(let te=1;ee===null&&te<D;te++)ee=this.getBlackPointOnSegment(i,a-te,i-te,a);if(ee==null)throw new Y;return this.centerEdges(ee,L,W,j)}else throw new Y}getBlackPointOnSegment(n,i,s,a){const l=ve.round(ve.distance(n,i,s,a)),c=(s-n)/l,d=(a-i)/l,h=this.image;for(let p=0;p<l;p++){const y=ve.round(n+p*c),E=ve.round(i+p*d);if(h.get(y,E))return new ue(y,E)}return null}centerEdges(n,i,s,a){const l=n.getX(),c=n.getY(),d=i.getX(),h=i.getY(),p=s.getX(),y=s.getY(),E=a.getX(),A=a.getY(),M=Qn.CORR;return l<this.width/2?[new ue(E-M,A+M),new ue(d+M,h+M),new ue(p-M,y-M),new ue(l+M,c-M)]:[new ue(E+M,A+M),new ue(d+M,h-M),new ue(p-M,y+M),new ue(l-M,c-M)]}containsBlackPoint(n,i,s,a){const l=this.image;if(a){for(let c=n;c<=i;c++)if(l.get(c,s))return!0}else for(let c=n;c<=i;c++)if(l.get(s,c))return!0;return!1}}Qn.INIT_SIZE=10,Qn.CORR=1;class Gi{static checkAndNudgePoints(n,i){const s=n.getWidth(),a=n.getHeight();let l=!0;for(let c=0;c<i.length&&l;c+=2){const d=Math.floor(i[c]),h=Math.floor(i[c+1]);if(d<-1||d>s||h<-1||h>a)throw new Y;l=!1,d===-1?(i[c]=0,l=!0):d===s&&(i[c]=s-1,l=!0),h===-1?(i[c+1]=0,l=!0):h===a&&(i[c+1]=a-1,l=!0)}l=!0;for(let c=i.length-2;c>=0&&l;c-=2){const d=Math.floor(i[c]),h=Math.floor(i[c+1]);if(d<-1||d>s||h<-1||h>a)throw new Y;l=!1,d===-1?(i[c]=0,l=!0):d===s&&(i[c]=s-1,l=!0),h===-1?(i[c+1]=0,l=!0):h===a&&(i[c+1]=a-1,l=!0)}}}class Kt{constructor(n,i,s,a,l,c,d,h,p){this.a11=n,this.a21=i,this.a31=s,this.a12=a,this.a22=l,this.a32=c,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,i,s,a,l,c,d,h,p,y,E,A,M,D,L,j){const W=Kt.quadrilateralToSquare(n,i,s,a,l,c,d,h);return Kt.squareToQuadrilateral(p,y,E,A,M,D,L,j).times(W)}transformPoints(n){const i=n.length,s=this.a11,a=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,E=this.a33;for(let A=0;A<i;A+=2){const M=n[A],D=n[A+1],L=l*M+h*D+E;n[A]=(s*M+c*D+p)/L,n[A+1]=(a*M+d*D+y)/L}}transformPointsWithValues(n,i){const s=this.a11,a=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,E=this.a33,A=n.length;for(let M=0;M<A;M++){const D=n[M],L=i[M],j=l*D+h*L+E;n[M]=(s*D+c*L+p)/j,i[M]=(a*D+d*L+y)/j}}static squareToQuadrilateral(n,i,s,a,l,c,d,h){const p=n-s+l-d,y=i-a+c-h;if(p===0&&y===0)return new Kt(s-n,l-s,n,a-i,c-a,i,0,0,1);{const E=s-l,A=d-l,M=a-c,D=h-c,L=E*D-A*M,j=(p*D-A*y)/L,W=(E*y-p*M)/L;return new Kt(s-n+j*s,d-n+W*d,n,a-i+j*a,h-i+W*h,i,j,W,1)}}static quadrilateralToSquare(n,i,s,a,l,c,d,h){return Kt.squareToQuadrilateral(n,i,s,a,l,c,d,h).buildAdjoint()}buildAdjoint(){return new Kt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Kt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Sr extends Gi{sampleGrid(n,i,s,a,l,c,d,h,p,y,E,A,M,D,L,j,W,ee,te){const $=Kt.quadrilateralToQuadrilateral(a,l,c,d,h,p,y,E,A,M,D,L,j,W,ee,te);return this.sampleGridWithTransform(n,i,s,$)}sampleGridWithTransform(n,i,s,a){if(i<=0||s<=0)throw new Y;const l=new qe(i,s),c=new Float32Array(2*i);for(let d=0;d<s;d++){const h=c.length,p=d+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=p;a.transformPoints(c),Gi.checkAndNudgePoints(n,c);try{for(let y=0;y<h;y+=2)n.get(Math.floor(c[y]),Math.floor(c[y+1]))&&l.set(y/2,d)}catch{throw new Y}}return l}}class Zn{static setGridSampler(n){Zn.gridSampler=n}static getInstance(){return Zn.gridSampler}}Zn.gridSampler=new Sr;class dt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Fs{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new yi(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Y;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let c=0;c<4;c++){let d=s[(this.shift+c)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,i){let s=0;n.forEach((a,l,c)=>{let d=(a>>i-2<<1)+(a&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(O.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Y}getCorrectedParameterData(n,i){let s,a;i?(s=7,a=2):(s=10,a=4);let l=s-a,c=new Int32Array(s);for(let h=s-1;h>=0;--h)c[h]=n&15,n>>=4;try{new Rn(Le.AZTEC_PARAM).decode(c,l)}catch{throw new Y}let d=0;for(let h=0;h<a;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(n){let i=n,s=n,a=n,l=n,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(i,c,1,-1),A=this.getFirstDifferent(s,c,1,1),M=this.getFirstDifferent(a,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(D,E)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(E,A,M,D))break}i=E,s=A,a=M,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let d=new ue(i.getX()+.5,i.getY()-.5),h=new ue(s.getX()+.5,s.getY()+.5),p=new ue(a.getX()-.5,a.getY()+.5),y=new ue(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,a;try{let d=new Qn(this.image).detect();n=d[0],i=d[1],s=d[2],a=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new dt(h+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new dt(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new dt(h-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new dt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=ve.round((n.getX()+a.getX()+i.getX()+s.getX())/4),c=ve.round((n.getY()+a.getY()+i.getY()+s.getY())/4);try{let d=new Qn(this.image,15,l,c).detect();n=d[0],i=d[1],s=d[2],a=d[3]}catch{n=this.getFirstDifferent(new dt(l+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new dt(l+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new dt(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new dt(l-7,c-7),!1,-1,-1).toResultPoint()}return l=ve.round((n.getX()+a.getX()+i.getX()+s.getX())/4),c=ve.round((n.getY()+a.getY()+i.getY()+s.getY())/4),new dt(l,c)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,a,l){let c=Zn.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return c.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(n,i,s){let a=0,l=this.distanceResultPoint(n,i),c=l/s,d=n.getX(),h=n.getY(),p=c*(i.getX()-n.getX())/l,y=c*(i.getY()-n.getY())/l;for(let E=0;E<s;E++)this.image.get(ve.round(d+E*p),ve.round(h+E*y))&&(a|=1<<s-E-1);return a}isWhiteOrBlackRectangle(n,i,s,a){let l=3;n=new dt(n.getX()-l,n.getY()+l),i=new dt(i.getX()-l,i.getY()-l),s=new dt(s.getX()+l,s.getY()-l),a=new dt(a.getX()+l,a.getY()+l);let c=this.getColor(a,n);if(c===0)return!1;let d=this.getColor(n,i);return d!==c||(d=this.getColor(i,s),d!==c)?!1:(d=this.getColor(s,a),d===c)}getColor(n,i){let s=this.distancePoint(n,i),a=(i.getX()-n.getX())/s,l=(i.getY()-n.getY())/s,c=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(s);for(let A=0;A<y;A++)d+=a,h+=l,this.image.get(ve.round(d),ve.round(h))!==p&&c++;let E=c/s;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(n,i,s,a){let l=n.getX()+s,c=n.getY()+a;for(;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=s,c+=a;for(l-=s,c-=a;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=s;for(l-=s;this.isValid(l,c)&&this.image.get(l,c)===i;)c+=a;return c-=a,new dt(l,c)}expandSquare(n,i,s){let a=s/(2*i),l=n[0].getX()-n[2].getX(),c=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new ue(d+a*l,h+a*c),y=new ue(d-a*l,h-a*c);l=n[1].getX()-n[3].getX(),c=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let E=new ue(d+a*l,h+a*c),A=new ue(d-a*l,h-a*c);return[p,E,y,A]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=ve.round(n.getX()),s=ve.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return ve.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return ve.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class Yi{decode(n,i=null){let s=null,a=new Fs(n.getBlackMatrix()),l=null,c=null;try{let y=a.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(i,l),c=new We().decode(y)}catch(y){s=y}if(c==null)try{let y=a.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(i,l),c=new We().decode(y)}catch(y){throw s??y}let d=new De(c.getText(),c.getRawBytes(),c.getNumBits(),l,ie.AZTEC,R.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(nt.BYTE_SEGMENTS,h);let p=c.getECLevel();return p!=null&&d.putMetadata(nt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(X.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,l,c)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class Ho extends _e{constructor(n=500){super(new Yi,n)}}class ot{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(X.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),c=this.doDecode(l,i),d=c.getResultMetadata();let h=270;d!==null&&d.get(nt.ORIENTATION)===!0&&(h=h+d.get(nt.ORIENTATION)%360),c.putMetadata(nt.ORIENTATION,h);const p=c.getResultPoints();if(p!==null){const y=l.getHeight();for(let E=0;E<p.length;E++)p[E]=new ue(y-p[E].getY()-1,p[E].getX())}return c}else throw new Y}}reset(){}doDecode(n,i){const s=n.getWidth(),a=n.getHeight();let l=new P(s);const c=i&&i.get(X.TRY_HARDER)===!0,d=Math.max(1,a>>(c?8:5));let h;c?h=a:h=15;const p=Math.trunc(a/2);for(let y=0;y<h;y++){const E=Math.trunc((y+1)/2),A=(y&1)===0,M=p+d*(A?E:-E);if(M<0||M>=a)break;try{l=n.getBlackRow(M,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),i&&i.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;i.forEach((j,W)=>L.set(W,j)),L.delete(X.NEED_RESULT_POINT_CALLBACK),i=L}try{const L=this.decodeRow(M,l,i);if(D===1){L.putMetadata(nt.ORIENTATION,180);const j=L.getResultPoints();j!==null&&(j[0]=new ue(s-j[0].getX()-1,j[0].getY()),j[1]=new ue(s-j[1].getX()-1,j[1].getY()))}return L}catch{}}}throw new Y}static recordPattern(n,i,s){const a=s.length;for(let p=0;p<a;p++)s[p]=0;const l=n.getSize();if(i>=l)throw new Y;let c=!n.get(i),d=0,h=i;for(;h<l;){if(n.get(h)!==c)s[d]++;else{if(++d===a)break;s[d]=1,c=!c}h++}if(!(d===a||d===a-1&&h===l))throw new Y}static recordPatternInReverse(n,i,s){let a=s.length,l=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new Y;ot.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const a=n.length;let l=0,c=0;for(let p=0;p<a;p++)l+=n[p],c+=i[p];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;s*=d;let h=0;for(let p=0;p<a;p++){const y=n[p],E=i[p]*d,A=y>E?y-E:E-y;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class ne extends ot{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),c=s,d=!1;const h=6;for(let p=s;p<i;p++)if(n.get(p)!==d)l[a]++;else{if(a===h-1){let y=ne.MAX_AVG_VARIANCE,E=-1;for(let A=ne.CODE_START_A;A<=ne.CODE_START_C;A++){const M=ot.patternMatchVariance(l,ne.CODE_PATTERNS[A],ne.MAX_INDIVIDUAL_VARIANCE);M<y&&(y=M,E=A)}if(E>=0&&n.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,E]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,d=!d}throw new Y}static decodeCode(n,i,s){ot.recordPattern(n,s,i);let a=ne.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<ne.CODE_PATTERNS.length;c++){const d=ne.CODE_PATTERNS[c],h=this.patternMatchVariance(i,d,ne.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,l=c)}if(l>=0)return l;throw new Y}decodeRow(n,i,s){const a=s&&s.get(X.ASSUME_GS1)===!0,l=ne.findStartPattern(i),c=l[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let p;switch(c){case ne.CODE_START_A:p=ne.CODE_CODE_A;break;case ne.CODE_START_B:p=ne.CODE_CODE_B;break;case ne.CODE_START_C:p=ne.CODE_CODE_C;break;default:throw new F}let y=!1,E=!1,A="",M=l[0],D=l[1];const L=Int32Array.from([0,0,0,0,0,0]);let j=0,W=0,ee=c,te=0,$=!0,Oe=!1,Se=!1;for(;!y;){const ts=E;switch(E=!1,j=W,W=ne.decodeCode(i,L,D),h[d++]=W,W!==ne.CODE_STOP&&($=!0),W!==ne.CODE_STOP&&(te++,ee+=te*W),M=D,D+=L.reduce((R2,D2)=>R2+D2,0),W){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new F}switch(p){case ne.CODE_CODE_A:if(W<64)Se===Oe?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),Se=!1;else if(W<96)Se===Oe?A+=String.fromCharCode(W-64):A+=String.fromCharCode(W+64),Se=!1;else switch(W!==ne.CODE_STOP&&($=!1),W){case ne.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!Oe&&Se?(Oe=!0,Se=!1):Oe&&Se?(Oe=!1,Se=!1):Se=!0;break;case ne.CODE_SHIFT:E=!0,p=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:p=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:p=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_B:if(W<96)Se===Oe?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),Se=!1;else switch(W!==ne.CODE_STOP&&($=!1),W){case ne.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!Oe&&Se?(Oe=!0,Se=!1):Oe&&Se?(Oe=!1,Se=!1):Se=!0;break;case ne.CODE_SHIFT:E=!0,p=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:p=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:p=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_C:if(W<100)W<10&&(A+="0"),A+=W;else switch(W!==ne.CODE_STOP&&($=!1),W){case ne.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_CODE_A:p=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:p=ne.CODE_CODE_B;break;case ne.CODE_STOP:y=!0;break}break}ts&&(p=p===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const on=D-M;if(D=i.getNextUnset(D),!i.isRange(D,Math.min(i.getSize(),D+(D-M)/2),!1))throw new Y;if(ee-=te*j,ee%103!==j)throw new k;const qn=A.length;if(qn===0)throw new Y;qn>0&&$&&(p===ne.CODE_CODE_C?A=A.substring(0,qn-2):A=A.substring(0,qn-1));const an=(l[1]+l[0])/2,Xe=M+on/2,kt=h.length,xn=new Uint8Array(kt);for(let ts=0;ts<kt;ts++)xn[ts]=h[ts];const es=[new ue(an,n),new ue(Xe,n)];return new De(A,xn,0,es,ie.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class at extends ot{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=at.findAsteriskPattern(i,a),c=i.getNextSet(l[1]),d=i.getSize(),h,p;do{at.recordPattern(i,c,a);let L=at.toNarrowWidePattern(a);if(L<0)throw new Y;h=at.patternToChar(L),this.decodeRowResult+=h,p=c;for(let j of a)c+=j;c=i.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let L of a)y+=L;let E=c-p-y;if(c!==d&&E*2<y)throw new Y;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,j=0;for(let W=0;W<L;W++)j+=at.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(L)!==at.ALPHABET_STRING.charAt(j%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new Y;let A;this.extendedMode?A=at.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let M=(l[1]+l[0])/2,D=p+y/2;return new De(A,null,0,[new ue(M,n),new ue(D,n)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),a=n.getNextSet(0),l=0,c=a,d=!1,h=i.length;for(let p=a;p<s;p++)if(n.get(p)!==d)i[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(i)===at.ASTERISK_ENCODING&&n.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,d=!d}throw new Y}static toNarrowWidePattern(n){let i=n.length,s=0,a;do{let l=2147483647;for(let h of n)h<l&&h>s&&(l=h);s=l,a=0;let c=0,d=0;for(let h=0;h<i;h++){let p=n[h];p>s&&(d|=1<<i-1-h,a++,c+=p)}if(a===3){for(let h=0;h<i&&a>0;h++){let p=n[h];if(p>s&&(a--,p*2>=c))return-1}return d}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<at.CHARACTER_ENCODINGS.length;i++)if(at.CHARACTER_ENCODINGS[i]===n)return at.ALPHABET_STRING.charAt(i);if(n===at.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(n){let i=n.length,s="";for(let a=0;a<i;a++){let l=n.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=n.charAt(a+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new F;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new F;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new F;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new F;break}s+=d,a++}else s+=l}return s}}at.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",at.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],at.ASTERISK_ENCODING=148;class Me extends ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let a=this.decodeStart(i),l=this.decodeEnd(i),c=new Ie;Me.decodeMiddle(i,a[1],l[0],c);let d=c.toString(),h=null;s!=null&&(h=s.get(X.ALLOWED_LENGTHS)),h==null&&(h=Me.DEFAULT_ALLOWED_LENGTHS);let p=d.length,y=!1,E=0;for(let D of h){if(p===D){y=!0;break}D>E&&(E=D)}if(!y&&p>E&&(y=!0),!y)throw new F;const A=[new ue(a[1],n),new ue(l[0],n)];return new De(d,null,0,A,ie.ITF,new Date().getTime())}static decodeMiddle(n,i,s,a){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);i<s;){ot.recordPattern(n,i,l);for(let p=0;p<5;p++){let y=2*p;c[p]=l[y],d[p]=l[y+1]}let h=Me.decodeDigit(c);a.append(h.toString()),h=this.decodeDigit(d),a.append(h.toString()),l.forEach(function(p){i+=p})}}decodeStart(n){let i=Me.skipWhiteSpace(n),s=Me.findGuardPattern(n,i,Me.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!n.get(a);a--)s--;if(s!==0)throw new Y}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new Y;return s}decodeEnd(n){n.reverse();try{let i=Me.skipWhiteSpace(n),s;try{s=Me.findGuardPattern(n,i,Me.END_PATTERN_REVERSED[0])}catch(l){l instanceof Y&&(s=Me.findGuardPattern(n,i,Me.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let a=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-a,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let a=s.length,l=new Int32Array(a),c=n.getSize(),d=!1,h=0,p=i;l.fill(0);for(let y=i;y<c;y++)if(n.get(y)!==d)l[h]++;else{if(h===a-1){if(ot.patternMatchVariance(l,s,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return[p,y];p+=l[0]+l[1],R.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new Y}static decodeDigit(n){let i=Me.MAX_AVG_VARIANCE,s=-1,a=Me.PATTERNS.length;for(let l=0;l<a;l++){let c=Me.PATTERNS[l],d=ot.patternMatchVariance(n,c,Me.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,s=l):d===i&&(s=-1)}if(s>=0)return s%10;throw new Y}}Me.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Me.MAX_AVG_VARIANCE=.38,Me.MAX_INDIVIDUAL_VARIANCE=.5,Me.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Me.START_PATTERN=Int32Array.from([1,1,1,1]),Me.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),s=rt.findGuardPattern(n,a,!1,this.START_END_PATTERN,l);let c=s[0];a=s[1];let d=c-(a-c);d>=0&&(i=n.isRange(d,c,!1))}return s}static checkChecksum(n){return rt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return rt.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}static decodeEnd(n,i){return rt.findGuardPattern(n,i,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,a){return this.findGuardPattern(n,i,s,a,new Int32Array(a.length))}static findGuardPattern(n,i,s,a,l){let c=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let d=0,h=i,p=a.length,y=s;for(let E=i;E<c;E++)if(n.get(E)!==y)l[d]++;else{if(d===p-1){if(ot.patternMatchVariance(l,a,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let M=0;M<d-1;M++)l[M]=A[M];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new Y}static decodeDigit(n,i,s,a){this.recordPattern(n,s,i);let l=this.MAX_AVG_VARIANCE,c=-1,d=a.length;for(let h=0;h<d;h++){let p=a[h],y=ot.patternMatchVariance(i,p,rt.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,c=h)}if(c>=0)return c;throw new Y}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ee{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),c=a.toString(),d=Ee.parseExtensionString(c),h=[new ue((s[0]+s[1])/2,n),new ue(l,n)],p=new De(c,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),c=i[1],d=0;for(let p=0;p<5&&c<l;p++){let y=rt.decodeDigit(n,a,c,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)c+=E;y>=10&&(d|=1<<4-p),p!==4&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==5)throw new Y;let h=this.determineCheckDigit(d);if(Ee.extensionChecksum(s.toString())!==h)throw new Y;return c}static extensionChecksum(n){let i=n.length,s=0;for(let a=i-2;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Y}static parseExtensionString(n){if(n.length!==5)return null;let i=Ee.parseExtension5String(n);return i==null?null:new Map([[nt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),a=(s/100).toString(),l=s%100,c=l<10?"0"+l:l.toString();return i+a+"."+c}}class Ue{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),c=a.toString(),d=Ue.parseExtensionString(c),h=[new ue((s[0]+s[1])/2,n),new ue(l,n)],p=new De(c,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),c=i[1],d=0;for(let h=0;h<2&&c<l;h++){let p=rt.decodeDigit(n,a,c,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let y of a)c+=y;p>=10&&(d|=1<<1-h),h!==1&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==2)throw new Y;if(parseInt(s.toString())%4!==d)throw new Y;return c}static parseExtensionString(n){return n.length!==2?null:new Map([[nt.ISSUE_NUMBER,parseInt(n)]])}}class ze{static decodeRow(n,i,s){let a=rt.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ee().decodeRow(n,i,a)}catch{return new Ue().decodeRow(n,i,a)}}}ze.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ae extends rt{constructor(){super(),this.decodeRowStringBuffer="",Ae.L_AND_G_PATTERNS=Ae.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Ae.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Ae.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let a=Ae.findStartGuardPattern(i),l=s==null?null:s.get(X.NEED_RESULT_POINT_CALLBACK);if(l!=null){const $=new ue((a[0]+a[1])/2,n);l.foundPossibleResultPoint($)}let c=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){const $=new ue(d,n);l.foundPossibleResultPoint($)}let p=this.decodeEnd(i,d);if(l!=null){const $=new ue((p[0]+p[1])/2,n);l.foundPossibleResultPoint($)}let y=p[1],E=y+(y-p[0]);if(E>=i.getSize()||!i.isRange(y,E,!1))throw new Y;let A=h.toString();if(A.length<8)throw new F;if(!Ae.checkChecksum(A))throw new k;let M=(a[1]+a[0])/2,D=(p[1]+p[0])/2,L=this.getBarcodeFormat(),j=[new ue(M,n),new ue(D,n)],W=new De(A,null,0,j,L,new Date().getTime()),ee=0;try{let $=ze.decodeRow(n,i,p[1]);W.putMetadata(nt.UPC_EAN_EXTENSION,$.getText()),W.putAllMetadata($.getResultMetadata()),W.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let te=s==null?null:s.get(X.ALLOWED_EAN_EXTENSIONS);if(te!=null){let $=!1;for(let Oe in te)if(ee.toString()===Oe){$=!0;break}if(!$)throw new Y}return W}decodeEnd(n,i){return Ae.findGuardPattern(n,i,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Ae.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return Ae.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}}class Nt extends Ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),c=i[1],d=0;for(let p=0;p<6&&c<l;p++){let y=Ae.decodeDigit(n,a,c,Ae.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)c+=E;y>=10&&(d|=1<<5-p)}s=Nt.determineFirstDigit(s,d),c=Ae.findGuardPattern(n,c,!0,Ae.MIDDLE_PATTERN,new Int32Array(Ae.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let y=Ae.decodeDigit(n,a,c,Ae.L_PATTERNS);s+=String.fromCharCode(48+y);for(let E of a)c+=E}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new Y}}Nt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ci extends Ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),c=i[1];for(let h=0;h<4&&c<l;h++){let p=Ae.decodeDigit(n,a,c,Ae.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)c+=y}c=Ae.findGuardPattern(n,c,!0,Ae.MIDDLE_PATTERN,new Int32Array(Ae.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let p=Ae.decodeDigit(n,a,c,Ae.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)c+=y}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ie.EAN_8}}class Vo extends Ae{constructor(){super(...arguments),this.ean13Reader=new Nt}getBarcodeFormat(){return ie.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new De(i.substring(1),null,null,n.getResultPoints(),ie.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new Y}reset(){this.ean13Reader.reset()}}class Kn extends Ae{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=n.getSize();let c=i[1],d=0;for(let p=0;p<6&&c<l;p++){const y=Kn.decodeDigit(n,a,c,Kn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)c+=E;y>=10&&(d|=1<<5-p)}let h=Kn.determineNumSysAndCheckDigit(s,d);return{rowOffset:c,resultString:h}}decodeEnd(n,i){return Kn.findGuardPatternWithoutCounters(n,i,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(n){return Ae.checkChecksum(Kn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let l=String.fromCharCode(48+s),c=String.fromCharCode(48+a);return l+n+c}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Ie;s.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kl extends ot{constructor(n){super();let i=n==null?null:n.get(X.POSSIBLE_FORMATS),s=[];o(i)?(s.push(new Nt),s.push(new Vo),s.push(new Ci),s.push(new Kn)):(i.indexOf(ie.EAN_13)>-1&&s.push(new Nt),i.indexOf(ie.UPC_A)>-1&&s.push(new Vo),i.indexOf(ie.EAN_8)>-1&&s.push(new Ci),i.indexOf(ie.UPC_E)>-1&&s.push(new Kn)),this.readers=s}decodeRow(n,i,s){for(let a of this.readers)try{const l=a.decodeRow(n,i,s),c=l.getBarcodeFormat()===ie.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(X.POSSIBLE_FORMATS),h=d==null||d.includes(ie.UPC_A);if(c&&h){const p=l.getRawBytes(),y=new De(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ie.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new Y}reset(){for(let n of this.readers)n.reset()}}class Ht extends ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(ot.patternMatchVariance(n,i[s],Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return s;throw new Y}static count(n){return ve.sum(new Int32Array(n))}static increment(n,i){let s=0,a=i[0];for(let l=1;l<n.length;l++)i[l]>a&&(a=i[l],s=l);n[s]++}static decrement(n,i){let s=0,a=i[0];for(let l=1;l<n.length;l++)i[l]<a&&(a=i[l],s=l);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],a=i/s;if(a>=Ht.MIN_FINDER_PATTERN_RATIO&&a<=Ht.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of n)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}Ht.MAX_AVG_VARIANCE=.2,Ht.MAX_INDIVIDUAL_VARIANCE=.45,Ht.MIN_FINDER_PATTERN_RATIO=9.5/12,Ht.MAX_FINDER_PATTERN_RATIO=12.5/14;class Xi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Xi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Wo{constructor(n,i,s,a,l){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ue(s,l)),this.resultPoints.push(new ue(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Wo))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class lr{constructor(){}static getRSSvalue(n,i,s){let a=0;for(let h of n)a+=h;let l=0,c=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,c|=1<<h;p<n[h];p++,c&=~(1<<h)){let y=lr.combins(a-p-1,d-h-2);if(s&&c===0&&a-p-(d-h-1)>=d-h-1&&(y-=lr.combins(a-p-(d-h),d-h-2)),d-h-1>1){let E=0;for(let A=a-p-(d-h-2);A>i;A--)E+=lr.combins(a-p-A-1,d-h-3);y-=E*(d-1-h)}else a-p>i&&y--;l+=y}a-=p}return l}static combins(n,i){let s,a;n-i>i?(a=i,s=n-i):(a=n-i,s=i);let l=1,c=1;for(let d=n;d>s;d--)l*=d,c<=a&&(l/=c,c++);for(;c<=a;)l/=c,c++;return l}}class i2{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new P(s),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&a.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],y=p.getLeftChar().getValue();for(let E=11;E>=0;--E)y&1<<E&&a.set(l),l++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&a.set(l),l++}}return a}}class Ei{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class nn extends Pl{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===nn.FNC1}}nn.FNC1="$";class vi extends Pl{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dn extends Pl{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new F;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dn.FNC1}isAnyFNC1(){return this.firstDigit===Dn.FNC1||this.secondDigit===Dn.FNC1}}Dn.FNC1=10;class oe{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Y;let i=n.substring(0,2);for(let l of oe.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(2,l[2],n):oe.processFixedAI(2,l[1],n);if(n.length<3)throw new Y;let s=n.substring(0,3);for(let l of oe.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(3,l[2],n):oe.processFixedAI(3,l[1],n);for(let l of oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,l[2],n):oe.processFixedAI(4,l[1],n);if(n.length<4)throw new Y;let a=n.substring(0,4);for(let l of oe.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,l[2],n):oe.processFixedAI(4,l[1],n);throw new Y}static processFixedAI(n,i,s){if(s.length<n)throw new Y;let a=s.substring(0,n);if(s.length<n+i)throw new Y;let l=s.substring(n,n+i),c=s.substring(n+i),d="("+a+")"+l,h=oe.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(n,i,s){let a=s.substring(0,n),l;s.length<n+i?l=s.length:l=n+i;let c=s.substring(n,l),d=s.substring(l),h="("+a+")"+c,p=oe.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}oe.VARIABLE_LENGTH=[],oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",oe.VARIABLE_LENGTH,20],["22",oe.VARIABLE_LENGTH,29],["30",oe.VARIABLE_LENGTH,8],["37",oe.VARIABLE_LENGTH,8],["90",oe.VARIABLE_LENGTH,30],["91",oe.VARIABLE_LENGTH,30],["92",oe.VARIABLE_LENGTH,30],["93",oe.VARIABLE_LENGTH,30],["94",oe.VARIABLE_LENGTH,30],["95",oe.VARIABLE_LENGTH,30],["96",oe.VARIABLE_LENGTH,30],["97",oe.VARIABLE_LENGTH,3],["98",oe.VARIABLE_LENGTH,30],["99",oe.VARIABLE_LENGTH,30]],oe.THREE_DIGIT_DATA_LENGTH=[["240",oe.VARIABLE_LENGTH,30],["241",oe.VARIABLE_LENGTH,30],["242",oe.VARIABLE_LENGTH,6],["250",oe.VARIABLE_LENGTH,30],["251",oe.VARIABLE_LENGTH,30],["253",oe.VARIABLE_LENGTH,17],["254",oe.VARIABLE_LENGTH,20],["400",oe.VARIABLE_LENGTH,30],["401",oe.VARIABLE_LENGTH,30],["402",17],["403",oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",oe.VARIABLE_LENGTH,20],["421",oe.VARIABLE_LENGTH,15],["422",3],["423",oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",oe.VARIABLE_LENGTH,15],["391",oe.VARIABLE_LENGTH,18],["392",oe.VARIABLE_LENGTH,15],["393",oe.VARIABLE_LENGTH,18],["703",oe.VARIABLE_LENGTH,30]],oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",oe.VARIABLE_LENGTH,20],["8003",oe.VARIABLE_LENGTH,30],["8004",oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",oe.VARIABLE_LENGTH,30],["8008",oe.VARIABLE_LENGTH,12],["8018",18],["8020",oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",oe.VARIABLE_LENGTH,70],["8200",oe.VARIABLE_LENGTH,70]];class Qi{constructor(n){this.buffer=new Ie,this.information=n}decodeAllCodes(n,i){let s=i,a=null;do{let l=this.decodeGeneralPurposeField(s,a),c=oe.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&n.append(c),l.isRemaining()?a=""+l.getRemainingValue():a=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new Dn(this.information.getSize(),Dn.FNC1,Dn.FNC1):new Dn(this.information.getSize(),l-1,Dn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,a=(i-8)%11;return new Dn(n+7,s,a)}extractNumericValueFromBitArray(n,i){return Qi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let a=0;for(let l=0;l<s;++l)n.get(i+l)&&(a|=1<<s-l-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new vi(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new vi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new vi(this.current.getPosition(),this.buffer.toString()):i=new vi(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Ei(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new vi(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new vi(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new vi(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ei(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new nn(n+5,nn.FNC1);if(i>=5&&i<15)return new nn(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new nn(n+7,""+(s+1));if(s>=90&&s<116)return new nn(n+7,""+(s+7));let a=this.extractNumericValueFromBitArray(n,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new F}return new nn(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new nn(n+5,nn.FNC1);if(i>=5&&i<15)return new nn(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new nn(n+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new mn("Decoding invalid alphanumeric value: "+s)}return new nn(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Bl{constructor(n){this.information=n,this.generalDecoder=new Qi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends Bl{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}rn.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let a=0;a<13;a++){let l=n.charAt(a+i).charCodeAt(0)-48;s+=a&1?l:3*l}s=10-s%10,s===10&&(s=0),n.append(s)}}rn.GTIN_SIZE=40;class Zi extends rn{constructor(n){super(n)}parseInformation(){let n=new Ie;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Zi.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Zi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Zi.HEADER_SIZE+44)}}Zi.HEADER_SIZE=4;class Go extends Bl{constructor(n){super(n)}parseInformation(){let n=new Ie;return this.getGeneralDecoder().decodeAllCodes(n,Go.HEADER_SIZE)}}Go.HEADER_SIZE=5;class Yo extends rn{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,a);let l=this.checkWeight(a),c=1e5;for(let d=0;d<5;++d)l/c===0&&n.append("0"),c/=10;n.append(l)}}class ur extends Yo{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=ur.HEADER_SIZE+Yo.GTIN_SIZE+ur.WEIGHT_SIZE)throw new Y;let n=new Ie;return this.encodeCompressedGtin(n,ur.HEADER_SIZE),this.encodeCompressedWeight(n,ur.HEADER_SIZE+Yo.GTIN_SIZE,ur.WEIGHT_SIZE),n.toString()}}ur.HEADER_SIZE=5,ur.WEIGHT_SIZE=15;class s2 extends ur{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class o2 extends ur{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class cr extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<cr.HEADER_SIZE+rn.GTIN_SIZE)throw new Y;let n=new Ie;this.encodeCompressedGtin(n,cr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(cr.HEADER_SIZE+rn.GTIN_SIZE,cr.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(cr.HEADER_SIZE+rn.GTIN_SIZE+cr.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}cr.HEADER_SIZE=8,cr.LAST_DIGIT_SIZE=2;class qt extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<qt.HEADER_SIZE+rn.GTIN_SIZE)throw new Y;let n=new Ie;this.encodeCompressedGtin(n,qt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+rn.GTIN_SIZE,qt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+rn.GTIN_SIZE+qt.LAST_DIGIT_SIZE,qt.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let a=this.getGeneralDecoder().decodeGeneralPurposeField(qt.HEADER_SIZE+rn.GTIN_SIZE+qt.LAST_DIGIT_SIZE+qt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}qt.HEADER_SIZE=8,qt.LAST_DIGIT_SIZE=2,qt.FIRST_THREE_DIGITS_SIZE=10;class it extends Yo{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE+it.DATE_SIZE)throw new Y;let n=new Ie;return this.encodeCompressedGtin(n,it.HEADER_SIZE),this.encodeCompressedWeight(n,it.HEADER_SIZE+it.GTIN_SIZE,it.WEIGHT_SIZE),this.encodeCompressedDate(n,it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,it.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=s%32;s/=32;let l=s%12+1;s/=12;let c=s;c/10==0&&n.append("0"),n.append(c),l/10==0&&n.append("0"),n.append(l),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}it.HEADER_SIZE=8,it.WEIGHT_SIZE=20,it.DATE_SIZE=16;function U1(C){try{if(C.get(1))return new Zi(C);if(!C.get(2))return new Go(C);switch(Qi.extractNumericValueFromBitArray(C,1,4)){case 4:return new s2(C);case 5:return new o2(C)}switch(Qi.extractNumericValueFromBitArray(C,1,5)){case 12:return new cr(C);case 13:return new qt(C)}switch(Qi.extractNumericValueFromBitArray(C,1,7)){case 56:return new it(C,"310","11");case 57:return new it(C,"320","11");case 58:return new it(C,"310","13");case 59:return new it(C,"320","13");case 60:return new it(C,"310","15");case 61:return new it(C,"320","15");case 62:return new it(C,"310","17");case 63:return new it(C,"320","17")}}catch(n){throw console.log(n),new mn("unknown decoder: "+C)}}class Ur{constructor(n,i,s,a){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Ur?Ur.equalsOrNull(n.leftchar,i.leftchar)&&Ur.equalsOrNull(n.rightchar,i.rightchar)&&Ur.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Ur.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fl{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Fl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((a,l)=>{i.forEach(c=>{a.getLeftChar().getValue()===c.getLeftChar().getValue()&&a.getRightChar().getValue()===c.getRightChar().getValue()&&a.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class K extends Ht{constructor(n){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(l){if(l instanceof Y){if(!this.pairs.length)throw new Y;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new Y}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let c of n)this.pairs.push(c.getPairs());if(this.pairs.push(a.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(a);try{return this.checkRows(l,s+1)}catch(c){this.verbose&&console.log(c)}}throw new Y}static isValidSequence(n){for(let i of K.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,a=!1,l=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>n){l=c.isEquivalent(this.pairs);break}a=c.isEquivalent(this.pairs),s++}l||a||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Fl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let a of s.getPairs())for(let l of n)if(Ur.equals(a,l))break}}static isPartialRow(n,i){for(let s of i){let a=!0;for(let l of n){let c=!1;for(let d of s.getPairs())if(l.equals(d)){c=!0;break}if(!c){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=i2.buildBitArray(n),a=U1(i).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),c=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new De(a,null,null,d,ie.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);a+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(a+=p.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,c=!0,d=-1;do this.findNextPair(n,i,d),l=this.parseFoundFinderPattern(n,s,a),l==null?d=K.getNextSecondBar(n,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(n,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Y;let p;try{p=this.decodeDataCharacter(n,l,a,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new Ur(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),c;s>=0?c=s:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<l&&(h=!n.get(c),!!h);)c++;let p=0,y=c;for(let E=c;E<l;E++)if(n.get(E)!=h)a[p]++;else{if(p==3){if(d&&K.reverseCounters(a),K.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=E;return}d&&K.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new Y}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let a=n[s];n[s]=n[i-s-1],n[i-s-1]=a}}parseFoundFinderPattern(n,i,s){let a,l,c;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=n.getNextUnset(this.startEnd[1]+1),a=c-this.startEnd[1];let d=this.getDecodeFinderCounters();R.arraycopy(d,0,d,1,d.length-1),d[0]=a;let h;try{h=this.parseFinderValue(d,K.FINDER_PATTERNS)}catch{return null}return new Wo(h,[l,c],l,c,i)}decodeDataCharacter(n,i,s,a){let l=this.getDataCharacterCounters();for(let Xe=0;Xe<l.length;Xe++)l[Xe]=0;if(a)K.recordPatternInReverse(n,i.getStartEnd()[0],l);else{K.recordPattern(n,i.getStartEnd()[1],l);for(let Xe=0,kt=l.length-1;Xe<kt;Xe++,kt--){let xn=l[Xe];l[Xe]=l[kt],l[kt]=xn}}let c=17,d=ve.sum(new Int32Array(l))/c,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Y;let p=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Xe=0;Xe<l.length;Xe++){let kt=1*l[Xe]/d,xn=kt+.5;if(xn<1){if(kt<.3)throw new Y;xn=1}else if(xn>8){if(kt>8.7)throw new Y;xn=8}let es=Xe/2;Xe&1?(y[es]=xn,A[es]=kt-xn):(p[es]=xn,E[es]=kt-xn)}this.adjustOddEvenCounts(c);let M=4*i.getValue()+(s?0:2)+(a?0:1)-1,D=0,L=0;for(let Xe=p.length-1;Xe>=0;Xe--){if(K.isNotA1left(i,s,a)){let kt=K.WEIGHTS[M][2*Xe];L+=p[Xe]*kt}D+=p[Xe]}let j=0;for(let Xe=y.length-1;Xe>=0;Xe--)if(K.isNotA1left(i,s,a)){let kt=K.WEIGHTS[M][2*Xe+1];j+=y[Xe]*kt}let W=L+j;if(D&1||D>13||D<4)throw new Y;let ee=(13-D)/2,te=K.SYMBOL_WIDEST[ee],$=9-te,Oe=lr.getRSSvalue(p,te,!0),Se=lr.getRSSvalue(y,$,!1),on=K.EVEN_TOTAL_SUBSET[ee],qn=K.GSUM[ee],an=Oe*on+Se+qn;return new Xi(an,W)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=ve.sum(new Int32Array(this.getOddCounts())),s=ve.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let h=i+s-n,p=(i&1)==1,y=(s&1)==0;if(h==1)if(p){if(y)throw new Y;l=!0}else{if(!y)throw new Y;d=!0}else if(h==-1)if(p){if(y)throw new Y;a=!0}else{if(!y)throw new Y;c=!0}else if(h==0){if(p){if(!y)throw new Y;i<s?(a=!0,d=!0):(l=!0,c=!0)}else if(y)throw new Y}else throw new Y;if(a){if(l)throw new Y;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new Y;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class a2 extends Xi{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends Ht{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const a=this.decodePair(i,!1,n,s);ht.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,n,s);ht.addOrTally(this.possibleRightPairs,l),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ht.checkChecksum(c,d))return ht.constructResult(c,d)}throw new Y}static addOrTally(n,i){if(i==null)return;let s=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),a=new String(s).toString(),l=new Ie;for(let p=13-a.length;p>0;p--)l.append("0");l.append(a);let c=0;for(let p=0;p<13;p++){let y=l.charAt(p).charCodeAt(0)-48;c+=p&1?y:3*y}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=n.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new De(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(n,i,s,a){try{let l=this.findFinderPattern(n,i),c=this.parseFoundFinderPattern(n,s,i,l),d=a==null?null:a.get(X.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;i&&(y=n.getSize()-1-y),d.foundPossibleResultPoint(new ue(y,s))}let h=this.decodeDataCharacter(n,c,!0),p=this.decodeDataCharacter(n,c,!1);return new a2(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(n,i,s){let a=this.getDataCharacterCounters();for(let j=0;j<a.length;j++)a[j]=0;if(s)ot.recordPatternInReverse(n,i.getStartEnd()[0],a);else{ot.recordPattern(n,i.getStartEnd()[1]+1,a);for(let j=0,W=a.length-1;j<W;j++,W--){let ee=a[j];a[j]=a[W],a[W]=ee}}let l=s?16:15,c=ve.sum(new Int32Array(a))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let j=0;j<a.length;j++){let W=a[j]/c,ee=Math.floor(W+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(j/2);j&1?(h[te]=ee,y[te]=W-ee):(d[te]=ee,p[te]=W-ee)}this.adjustOddEvenCounts(s,l);let E=0,A=0;for(let j=d.length-1;j>=0;j--)A*=9,A+=d[j],E+=d[j];let M=0,D=0;for(let j=h.length-1;j>=0;j--)M*=9,M+=h[j],D+=h[j];let L=A+3*M;if(s){if(E&1||E>12||E<4)throw new Y;let j=(12-E)/2,W=ht.OUTSIDE_ODD_WIDEST[j],ee=9-W,te=lr.getRSSvalue(d,W,!1),$=lr.getRSSvalue(h,ee,!0),Oe=ht.OUTSIDE_EVEN_TOTAL_SUBSET[j],Se=ht.OUTSIDE_GSUM[j];return new Xi(te*Oe+$+Se,L)}else{if(D&1||D>10||D<4)throw new Y;let j=(10-D)/2,W=ht.INSIDE_ODD_WIDEST[j],ee=9-W,te=lr.getRSSvalue(d,W,!0),$=lr.getRSSvalue(h,ee,!1),Oe=ht.INSIDE_ODD_TOTAL_SUBSET[j],Se=ht.INSIDE_GSUM[j];return new Xi($*Oe+te+Se,L)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=n.getSize(),l=!1,c=0;for(;c<a&&(l=!n.get(c),i!==l);)c++;let d=0,h=c;for(let p=c;p<a;p++)if(n.get(p)!==l)s[d]++;else{if(d===3){if(Ht.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new Y}parseFoundFinderPattern(n,i,s,a){let l=n.get(a[0]),c=a[0]-1;for(;c>=0&&l!==n.get(c);)c--;c++;const d=a[0]-c,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);R.arraycopy(h,0,p,1,h.length-1),p[0]=d;const y=this.parseFinderValue(p,ht.FINDER_PATTERNS);let E=c,A=a[1];return s&&(E=n.getSize()-1-E,A=n.getSize()-1-A),new Wo(y,[c,a[1]],E,A,i)}adjustOddEvenCounts(n,i){let s=ve.sum(new Int32Array(this.getOddCounts())),a=ve.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;n?(s>12?c=!0:s<4&&(l=!0),a>12?h=!0:a<4&&(d=!0)):(s>11?c=!0:s<5&&(l=!0),a>10?h=!0:a<4&&(d=!0));let p=s+a-i,y=(s&1)===(n?1:0),E=(a&1)===1;if(p===1)if(y){if(E)throw new Y;c=!0}else{if(!E)throw new Y;h=!0}else if(p===-1)if(y){if(E)throw new Y;l=!0}else{if(!E)throw new Y;d=!0}else if(p===0){if(y){if(!E)throw new Y;s<a?(l=!0,h=!0):(c=!0,d=!0)}else if(E)throw new Y}else throw new Y;if(l){if(c)throw new Y;Ht.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Ht.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new Y;Ht.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ht.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ki extends ot{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(X.POSSIBLE_FORMATS):null,a=n&&n.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ie.EAN_13)||s.includes(ie.UPC_A)||s.includes(ie.EAN_8)||s.includes(ie.UPC_E))&&this.readers.push(new kl(n)),s.includes(ie.CODE_39)&&this.readers.push(new at(a)),s.includes(ie.CODE_128)&&this.readers.push(new ne),s.includes(ie.ITF)&&this.readers.push(new Me),s.includes(ie.RSS_14)&&this.readers.push(new ht),s.includes(ie.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new kl(n)),this.readers.push(new at),this.readers.push(new kl(n)),this.readers.push(new ne),this.readers.push(new Me),this.readers.push(new ht),this.readers.push(new K(this.verbose)))}decodeRow(n,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,s)}catch{}throw new Y}reset(){this.readers.forEach(n=>n.reset())}}class l2 extends _e{constructor(n=500,i){super(new Ki(i),n,i)}}class je{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Fe{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(n,i,s,a,l,c){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),p=c.getECBlocks();for(let y of p)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new F;for(let s of Re.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Re(1,10,10,8,8,new je(5,new Fe(1,3))),new Re(2,12,12,10,10,new je(7,new Fe(1,5))),new Re(3,14,14,12,12,new je(10,new Fe(1,8))),new Re(4,16,16,14,14,new je(12,new Fe(1,12))),new Re(5,18,18,16,16,new je(14,new Fe(1,18))),new Re(6,20,20,18,18,new je(18,new Fe(1,22))),new Re(7,22,22,20,20,new je(20,new Fe(1,30))),new Re(8,24,24,22,22,new je(24,new Fe(1,36))),new Re(9,26,26,24,24,new je(28,new Fe(1,44))),new Re(10,32,32,14,14,new je(36,new Fe(1,62))),new Re(11,36,36,16,16,new je(42,new Fe(1,86))),new Re(12,40,40,18,18,new je(48,new Fe(1,114))),new Re(13,44,44,20,20,new je(56,new Fe(1,144))),new Re(14,48,48,22,22,new je(68,new Fe(1,174))),new Re(15,52,52,24,24,new je(42,new Fe(2,102))),new Re(16,64,64,14,14,new je(56,new Fe(2,140))),new Re(17,72,72,16,16,new je(36,new Fe(4,92))),new Re(18,80,80,18,18,new je(48,new Fe(4,114))),new Re(19,88,88,20,20,new je(56,new Fe(4,144))),new Re(20,96,96,22,22,new je(68,new Fe(4,174))),new Re(21,104,104,24,24,new je(56,new Fe(6,136))),new Re(22,120,120,18,18,new je(68,new Fe(6,175))),new Re(23,132,132,20,20,new je(62,new Fe(8,163))),new Re(24,144,144,22,22,new je(62,new Fe(8,156),new Fe(2,155))),new Re(25,8,18,6,16,new je(7,new Fe(1,5))),new Re(26,8,32,6,14,new je(11,new Fe(1,10))),new Re(27,12,26,10,24,new je(14,new Fe(1,16))),new Re(28,12,36,10,16,new je(18,new Fe(1,22))),new Re(29,16,36,14,16,new je(24,new Fe(1,32))),new Re(30,16,48,14,22,new je(28,new Fe(1,49)))]}}Re.VERSIONS=Re.buildVersions();class jl{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new F;this.version=jl.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new qe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return Re.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,a=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,y=!1;do if(s===l&&a===0&&!d)n[i++]=this.readCorner1(l,c)&255,s-=2,a+=2,d=!0;else if(s===l-2&&a===0&&c&3&&!h)n[i++]=this.readCorner2(l,c)&255,s-=2,a+=2,h=!0;else if(s===l+4&&a===2&&!(c&7)&&!p)n[i++]=this.readCorner3(l,c)&255,s-=2,a+=2,p=!0;else if(s===l-2&&a===0&&(c&7)===4&&!y)n[i++]=this.readCorner4(l,c)&255,s-=2,a+=2,y=!0;else{do s<l&&a>=0&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,l,c)&255),s-=2,a+=2;while(s>=0&&a<c);s+=1,a+=3;do s>=0&&a<c&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,l,c)&255),s+=2,a-=2;while(s<l&&a>=0);s+=3,a+=1}while(s<l||a<c);if(i!==this.version.getTotalCodewords())throw new F;return n}readModule(n,i,s,a){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,a){let l=0;return this.readModule(n-2,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n-2,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i,s,a)&&(l|=1),l<<=1,this.readModule(n,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n,i,s,a)&&(l|=1),l}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new S("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=i/a|0,d=s/l|0,h=c*a,p=d*l,y=new qe(p,h);for(let E=0;E<c;++E){const A=E*a;for(let M=0;M<d;++M){const D=M*l;for(let L=0;L<a;++L){const j=E*(a+2)+1+L,W=A+L;for(let ee=0;ee<l;++ee){const te=M*(l+2)+1+ee;if(n.get(te,j)){const $=D+ee;y.set($,W)}}}}}return y}}class Ul{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let a=0;const l=s.getECBlocks();for(let L of l)a+=L.getCount();const c=new Array(a);let d=0;for(let L of l)for(let j=0;j<L.getCount();j++){const W=L.getDataCodewords(),ee=s.getECCodewords()+W;c[d++]=new Ul(W,new Uint8Array(ee))}const p=c[0].codewords.length-s.getECCodewords(),y=p-1;let E=0;for(let L=0;L<y;L++)for(let j=0;j<d;j++)c[j].codewords[L]=n[E++];const A=i.getVersionNumber()===24,M=A?8:d;for(let L=0;L<M;L++)c[L].codewords[p-1]=n[E++];const D=c[0].codewords.length;for(let L=p;L<D;L++)for(let j=0;j<d;j++){const W=A?(j+8)%d:j,ee=A&&W>7?L-1:L;c[W].codewords[ee]=n[E++]}if(E!==n.length)throw new S;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new S(""+n);let i=0,s=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(s>0){const c=8-s,d=n<c?n:c,h=c-d,p=255>>8-d<<h;i=(l[a]&p)>>h,n-=d,s+=d,s===8&&(s=0,a++)}if(n>0){for(;n>=8;)i=i<<8|l[a]&255,a++,n-=8;if(n>0){const c=8-n,d=255>>c<<c;i=i<<n|(l[a]&d)>>c,s+=n}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var At;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(At||(At={}));class zr{static decode(n){const i=new zl(n),s=new Ie,a=new Ie,l=new Array;let c=At.ASCII_ENCODE;do if(c===At.ASCII_ENCODE)c=this.decodeAsciiSegment(i,s,a);else{switch(c){case At.C40_ENCODE:this.decodeC40Segment(i,s);break;case At.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case At.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case At.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case At.BASE256_ENCODE:this.decodeBase256Segment(i,s,l);break;default:throw new F}c=At.ASCII_ENCODE}while(c!==At.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new Gn(n,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,i,s){let a=!1;do{let l=n.readBits(8);if(l===0)throw new F;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),At.ASCII_ENCODE;if(l===129)return At.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&i.append("0"),i.append(""+c)}else switch(l){case 230:return At.C40_ENCODE;case 231:return At.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return At.ANSIX12_ENCODE;case 239:return At.TEXT_ENCODE;case 240:return At.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new F;break}}while(n.available()>0);return At.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const a=[];let l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new F;break;case 1:s?(i.append(String.fromCharCode(h+128)),s=!1):i.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:s?(i.append(String.fromCharCode(h+224)),s=!1):i.append(String.fromCharCode(h+96)),l=0;break;default:throw new F}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,a=[],l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new F;break;case 1:s?(i.append(String.fromCharCode(h+128)),s=!1):i.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p),l=0}else throw new F;break;default:throw new F}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),s);for(let l=0;l<3;l++){const c=s[l];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new F;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let a=(n<<8)+i-1,l=Math.floor(a/1600);s[0]=l,a-=l*1600,l=Math.floor(a/40),s[1]=l,s[2]=a-l*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let a=n.readBits(6);if(a===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let a=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),a++);let c;if(l===0?c=n.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(n.readBits(8),a++),c<0)throw new F;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(n.available()<8)throw new F;d[h]=this.unrandomize255State(n.readBits(8),a++)}s.push(d);try{i.append(ge.decode(d,ce.ISO88591))}catch(h){throw new mn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,i){const s=149*i%255+1,a=n-s;return a>=0?a:a+256}}zr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],zr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],zr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],zr.TEXT_SHIFT2_SET_CHARS=zr.C40_SHIFT2_SET_CHARS,zr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class u2{constructor(){this.rsDecoder=new Rn(Le.DATA_MATRIX_FIELD_256)}decode(n){const i=new jl(n),s=i.getVersion(),a=i.readCodewords(),l=Ul.getDataBlocks(a,s);let c=0;for(let p of l)c+=p.getNumDataCodewords();const d=new Uint8Array(c),h=l.length;for(let p=0;p<h;p++){const y=l[p],E=y.getCodewords(),A=y.getNumDataCodewords();this.correctErrors(E,A);for(let M=0;M<A;M++)d[M*h+p]=E[M]}return zr.decode(d)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new k}for(let a=0;a<i;a++)n[a]=s[a]}}class xt{constructor(n){this.image=n,this.rectangleDetector=new Qn(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Y;i=this.shiftToModuleCenter(i);const s=i[0],a=i[1],l=i[2],c=i[3];let d=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=xt.sampleGrid(this.image,s,a,l,c,d,h);return new Wi(p,[s,a,l,c])}static shiftPoint(n,i,s){let a=(i.getX()-n.getX())/(s+1),l=(i.getY()-n.getY())/(s+1);return new ue(n.getX()+a,n.getY()+l)}static moveAway(n,i,s){let a=n.getX(),l=n.getY();return a<i?a-=1:a+=1,l<s?l-=1:l+=1,new ue(a,l)}detectSolid1(n){let i=n[0],s=n[1],a=n[3],l=n[2],c=this.transitionsBetween(i,s),d=this.transitionsBetween(s,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,i),y=c,E=[l,i,s,a];return y>d&&(y=d,E[0]=i,E[1]=s,E[2]=a,E[3]=l),y>h&&(y=h,E[0]=s,E[1]=a,E[2]=l,E[3]=i),y>p&&(E[0]=a,E[1]=l,E[2]=i,E[3]=s),E}detectSolid2(n){let i=n[0],s=n[1],a=n[2],l=n[3],c=this.transitionsBetween(i,l),d=xt.shiftPoint(s,a,(c+1)*4),h=xt.shiftPoint(a,s,(c+1)*4),p=this.transitionsBetween(d,i),y=this.transitionsBetween(h,l);return p<y?(n[0]=i,n[1]=s,n[2]=a,n[3]=l):(n[0]=s,n[1]=a,n[2]=l,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],a=n[2],l=n[3],c=this.transitionsBetween(i,l),d=this.transitionsBetween(s,l),h=xt.shiftPoint(i,s,(d+1)*4),p=xt.shiftPoint(a,s,(c+1)*4);c=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let y=new ue(l.getX()+(a.getX()-s.getX())/(c+1),l.getY()+(a.getY()-s.getY())/(c+1)),E=new ue(l.getX()+(i.getX()-s.getX())/(d+1),l.getY()+(i.getY()-s.getY())/(d+1));if(!this.isValid(y))return this.isValid(E)?E:null;if(!this.isValid(E))return y;let A=this.transitionsBetween(h,y)+this.transitionsBetween(p,y),M=this.transitionsBetween(h,E)+this.transitionsBetween(p,E);return A>M?y:E}shiftToModuleCenter(n){let i=n[0],s=n[1],a=n[2],l=n[3],c=this.transitionsBetween(i,l)+1,d=this.transitionsBetween(a,l)+1,h=xt.shiftPoint(i,s,d*4),p=xt.shiftPoint(a,s,c*4);c=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let y=(i.getX()+s.getX()+a.getX()+l.getX())/4,E=(i.getY()+s.getY()+a.getY()+l.getY())/4;i=xt.moveAway(i,y,E),s=xt.moveAway(s,y,E),a=xt.moveAway(a,y,E),l=xt.moveAway(l,y,E);let A,M;return h=xt.shiftPoint(i,s,d*4),h=xt.shiftPoint(h,l,c*4),A=xt.shiftPoint(s,i,d*4),A=xt.shiftPoint(A,a,c*4),p=xt.shiftPoint(a,l,d*4),p=xt.shiftPoint(p,s,c*4),M=xt.shiftPoint(l,a,d*4),M=xt.shiftPoint(M,i,c*4),[h,A,p,M]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,a,l,c,d){return Zn.getInstance().sampleGrid(n,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),d=Math.abs(c-a)>Math.abs(l-s);if(d){let L=s;s=a,a=L,L=l,l=c,c=L}let h=Math.abs(l-s),p=Math.abs(c-a),y=-h/2,E=a<c?1:-1,A=s<l?1:-1,M=0,D=this.image.get(d?a:s,d?s:a);for(let L=s,j=a;L!==l;L+=A){let W=this.image.get(d?j:L,d?L:j);if(W!==D&&(M++,D=W),y+=p,y>0){if(j===c)break;j+=E,y-=h}}return M}}class Hr{constructor(){this.decoder=new u2}decode(n,i=null){let s,a;if(i!=null&&i.has(X.PURE_BARCODE)){const p=Hr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),a=Hr.NO_POINTS}else{const p=new xt(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),a=p.getPoints()}const l=s.getRawBytes(),c=new De(s.getText(),l,8*l.length,a,ie.DATA_MATRIX,R.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(nt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&c.putMetadata(nt.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new Y;const a=this.moduleSize(i,n);let l=i[1];const c=s[1];let d=i[0];const p=(s[0]-d+1)/a,y=(c-l+1)/a;if(p<=0||y<=0)throw new Y;const E=a/2;l+=E,d+=E;const A=new qe(p,y);for(let M=0;M<y;M++){const D=l+M*a;for(let L=0;L<p;L++)n.get(d+L*a,D)&&A.set(L,M)}return A}static moduleSize(n,i){const s=i.getWidth();let a=n[0];const l=n[1];for(;a<s&&i.get(a,l);)a++;if(a===s)throw new Y;const c=a-n[0];if(c===0)throw new Y;return c}}Hr.NO_POINTS=[];class c2 extends _e{constructor(n=500){super(new Hr,n)}}var qi;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(qi||(qi={}));class Ze{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,Ze.FOR_BITS.set(s,this),Ze.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ze.L;case"M":return Ze.M;case"Q":return Ze.Q;case"H":return Ze.H;default:throw new v(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ze))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Ze.FOR_BITS.size)throw new S;return Ze.FOR_BITS.get(n)}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.L=new Ze(qi.L,"L",1),Ze.M=new Ze(qi.M,"M",0),Ze.Q=new Ze(qi.Q,"Q",3),Ze.H=new Ze(qi.H,"H",2);class Vt{constructor(n){this.errorCorrectionLevel=Ze.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return O.bitCount(n^i)}static decodeFormatInformation(n,i){const s=Vt.doDecodeFormatInformation(n,i);return s!==null?s:Vt.doDecodeFormatInformation(n^Vt.FORMAT_INFO_MASK_QR,i^Vt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(const l of Vt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===n||c===i)return new Vt(l[1]);let d=Vt.numBitsDiffering(n,c);d<s&&(a=l[1],s=d),n!==i&&(d=Vt.numBitsDiffering(i,c),d<s&&(a=l[1],s=d))}return s<=3?new Vt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Vt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Vt.FORMAT_INFO_MASK_QR=21522,Vt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class he{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0;const l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const d of c)a+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new F;try{return this.getVersionForNumber((n-17)/4)}catch{throw new F}}static getVersionForNumber(n){if(n<1||n>40)throw new S;return he.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<he.VERSION_DECODE_INFO.length;a++){const l=he.VERSION_DECODE_INFO[a];if(l===n)return he.getVersionForNumber(a+7);const c=Vt.numBitsDiffering(n,l);c<i&&(s=a+7,i=c)}return i<=3?he.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new qe(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){const l=this.alignmentPatternCenters[a]-2;for(let c=0;c<s;c++)a===0&&(c===0||c===s-1)||a===s-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}he.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),he.VERSIONS=[new he(1,new Int32Array(0),new U(7,new _(1,19)),new U(10,new _(1,16)),new U(13,new _(1,13)),new U(17,new _(1,9))),new he(2,Int32Array.from([6,18]),new U(10,new _(1,34)),new U(16,new _(1,28)),new U(22,new _(1,22)),new U(28,new _(1,16))),new he(3,Int32Array.from([6,22]),new U(15,new _(1,55)),new U(26,new _(1,44)),new U(18,new _(2,17)),new U(22,new _(2,13))),new he(4,Int32Array.from([6,26]),new U(20,new _(1,80)),new U(18,new _(2,32)),new U(26,new _(2,24)),new U(16,new _(4,9))),new he(5,Int32Array.from([6,30]),new U(26,new _(1,108)),new U(24,new _(2,43)),new U(18,new _(2,15),new _(2,16)),new U(22,new _(2,11),new _(2,12))),new he(6,Int32Array.from([6,34]),new U(18,new _(2,68)),new U(16,new _(4,27)),new U(24,new _(4,19)),new U(28,new _(4,15))),new he(7,Int32Array.from([6,22,38]),new U(20,new _(2,78)),new U(18,new _(4,31)),new U(18,new _(2,14),new _(4,15)),new U(26,new _(4,13),new _(1,14))),new he(8,Int32Array.from([6,24,42]),new U(24,new _(2,97)),new U(22,new _(2,38),new _(2,39)),new U(22,new _(4,18),new _(2,19)),new U(26,new _(4,14),new _(2,15))),new he(9,Int32Array.from([6,26,46]),new U(30,new _(2,116)),new U(22,new _(3,36),new _(2,37)),new U(20,new _(4,16),new _(4,17)),new U(24,new _(4,12),new _(4,13))),new he(10,Int32Array.from([6,28,50]),new U(18,new _(2,68),new _(2,69)),new U(26,new _(4,43),new _(1,44)),new U(24,new _(6,19),new _(2,20)),new U(28,new _(6,15),new _(2,16))),new he(11,Int32Array.from([6,30,54]),new U(20,new _(4,81)),new U(30,new _(1,50),new _(4,51)),new U(28,new _(4,22),new _(4,23)),new U(24,new _(3,12),new _(8,13))),new he(12,Int32Array.from([6,32,58]),new U(24,new _(2,92),new _(2,93)),new U(22,new _(6,36),new _(2,37)),new U(26,new _(4,20),new _(6,21)),new U(28,new _(7,14),new _(4,15))),new he(13,Int32Array.from([6,34,62]),new U(26,new _(4,107)),new U(22,new _(8,37),new _(1,38)),new U(24,new _(8,20),new _(4,21)),new U(22,new _(12,11),new _(4,12))),new he(14,Int32Array.from([6,26,46,66]),new U(30,new _(3,115),new _(1,116)),new U(24,new _(4,40),new _(5,41)),new U(20,new _(11,16),new _(5,17)),new U(24,new _(11,12),new _(5,13))),new he(15,Int32Array.from([6,26,48,70]),new U(22,new _(5,87),new _(1,88)),new U(24,new _(5,41),new _(5,42)),new U(30,new _(5,24),new _(7,25)),new U(24,new _(11,12),new _(7,13))),new he(16,Int32Array.from([6,26,50,74]),new U(24,new _(5,98),new _(1,99)),new U(28,new _(7,45),new _(3,46)),new U(24,new _(15,19),new _(2,20)),new U(30,new _(3,15),new _(13,16))),new he(17,Int32Array.from([6,30,54,78]),new U(28,new _(1,107),new _(5,108)),new U(28,new _(10,46),new _(1,47)),new U(28,new _(1,22),new _(15,23)),new U(28,new _(2,14),new _(17,15))),new he(18,Int32Array.from([6,30,56,82]),new U(30,new _(5,120),new _(1,121)),new U(26,new _(9,43),new _(4,44)),new U(28,new _(17,22),new _(1,23)),new U(28,new _(2,14),new _(19,15))),new he(19,Int32Array.from([6,30,58,86]),new U(28,new _(3,113),new _(4,114)),new U(26,new _(3,44),new _(11,45)),new U(26,new _(17,21),new _(4,22)),new U(26,new _(9,13),new _(16,14))),new he(20,Int32Array.from([6,34,62,90]),new U(28,new _(3,107),new _(5,108)),new U(26,new _(3,41),new _(13,42)),new U(30,new _(15,24),new _(5,25)),new U(28,new _(15,15),new _(10,16))),new he(21,Int32Array.from([6,28,50,72,94]),new U(28,new _(4,116),new _(4,117)),new U(26,new _(17,42)),new U(28,new _(17,22),new _(6,23)),new U(30,new _(19,16),new _(6,17))),new he(22,Int32Array.from([6,26,50,74,98]),new U(28,new _(2,111),new _(7,112)),new U(28,new _(17,46)),new U(30,new _(7,24),new _(16,25)),new U(24,new _(34,13))),new he(23,Int32Array.from([6,30,54,78,102]),new U(30,new _(4,121),new _(5,122)),new U(28,new _(4,47),new _(14,48)),new U(30,new _(11,24),new _(14,25)),new U(30,new _(16,15),new _(14,16))),new he(24,Int32Array.from([6,28,54,80,106]),new U(30,new _(6,117),new _(4,118)),new U(28,new _(6,45),new _(14,46)),new U(30,new _(11,24),new _(16,25)),new U(30,new _(30,16),new _(2,17))),new he(25,Int32Array.from([6,32,58,84,110]),new U(26,new _(8,106),new _(4,107)),new U(28,new _(8,47),new _(13,48)),new U(30,new _(7,24),new _(22,25)),new U(30,new _(22,15),new _(13,16))),new he(26,Int32Array.from([6,30,58,86,114]),new U(28,new _(10,114),new _(2,115)),new U(28,new _(19,46),new _(4,47)),new U(28,new _(28,22),new _(6,23)),new U(30,new _(33,16),new _(4,17))),new he(27,Int32Array.from([6,34,62,90,118]),new U(30,new _(8,122),new _(4,123)),new U(28,new _(22,45),new _(3,46)),new U(30,new _(8,23),new _(26,24)),new U(30,new _(12,15),new _(28,16))),new he(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new _(3,117),new _(10,118)),new U(28,new _(3,45),new _(23,46)),new U(30,new _(4,24),new _(31,25)),new U(30,new _(11,15),new _(31,16))),new he(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new _(7,116),new _(7,117)),new U(28,new _(21,45),new _(7,46)),new U(30,new _(1,23),new _(37,24)),new U(30,new _(19,15),new _(26,16))),new he(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new _(5,115),new _(10,116)),new U(28,new _(19,47),new _(10,48)),new U(30,new _(15,24),new _(25,25)),new U(30,new _(23,15),new _(25,16))),new he(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new _(13,115),new _(3,116)),new U(28,new _(2,46),new _(29,47)),new U(30,new _(42,24),new _(1,25)),new U(30,new _(23,15),new _(28,16))),new he(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new _(17,115)),new U(28,new _(10,46),new _(23,47)),new U(30,new _(10,24),new _(35,25)),new U(30,new _(19,15),new _(35,16))),new he(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new _(17,115),new _(1,116)),new U(28,new _(14,46),new _(21,47)),new U(30,new _(29,24),new _(19,25)),new U(30,new _(11,15),new _(46,16))),new he(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new _(13,115),new _(6,116)),new U(28,new _(14,46),new _(23,47)),new U(30,new _(44,24),new _(7,25)),new U(30,new _(59,16),new _(1,17))),new he(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new _(12,121),new _(7,122)),new U(28,new _(12,47),new _(26,48)),new U(30,new _(39,24),new _(14,25)),new U(30,new _(22,15),new _(41,16))),new he(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new _(6,121),new _(14,122)),new U(28,new _(6,47),new _(34,48)),new U(30,new _(46,24),new _(10,25)),new U(30,new _(2,15),new _(64,16))),new he(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new _(17,122),new _(4,123)),new U(28,new _(29,46),new _(14,47)),new U(30,new _(49,24),new _(10,25)),new U(30,new _(24,15),new _(46,16))),new he(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new _(4,122),new _(18,123)),new U(28,new _(13,46),new _(32,47)),new U(30,new _(48,24),new _(14,25)),new U(30,new _(42,15),new _(32,16))),new he(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new _(20,117),new _(4,118)),new U(28,new _(40,47),new _(7,48)),new U(30,new _(43,24),new _(22,25)),new U(30,new _(10,15),new _(67,16))),new he(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new _(19,118),new _(6,119)),new U(28,new _(18,47),new _(31,48)),new U(30,new _(34,24),new _(34,25)),new U(30,new _(20,15),new _(61,16)))];var bt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(bt||(bt={}));class Ln{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&n.flip(a,s)}}Ln.values=new Map([[bt.DATA_MASK_000,new Ln(bt.DATA_MASK_000,(C,n)=>(C+n&1)===0)],[bt.DATA_MASK_001,new Ln(bt.DATA_MASK_001,(C,n)=>(C&1)===0)],[bt.DATA_MASK_010,new Ln(bt.DATA_MASK_010,(C,n)=>n%3===0)],[bt.DATA_MASK_011,new Ln(bt.DATA_MASK_011,(C,n)=>(C+n)%3===0)],[bt.DATA_MASK_100,new Ln(bt.DATA_MASK_100,(C,n)=>(Math.floor(C/2)+Math.floor(n/3)&1)===0)],[bt.DATA_MASK_101,new Ln(bt.DATA_MASK_101,(C,n)=>C*n%6===0)],[bt.DATA_MASK_110,new Ln(bt.DATA_MASK_110,(C,n)=>C*n%6<3)],[bt.DATA_MASK_111,new Ln(bt.DATA_MASK_111,(C,n)=>(C+n+C*n%3&1)===0)]]);class f2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new F;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const i=this.bitMatrix.getHeight();let s=0;const a=i-7;for(let l=i-1;l>=a;l--)s=this.copyBit(8,l,s);for(let l=i-8;l<i;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Vt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return he.getVersionForNumber(i);let s=0;const a=n-11;for(let c=5;c>=0;c--)for(let d=n-9;d>=a;d--)s=this.copyBit(d,c,s);let l=he.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;s=0;for(let c=5;c>=0;c--)for(let d=n-9;d>=a;d--)s=this.copyBit(c,d,s);if(l=he.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new F}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=Ln.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);const l=i.buildFunctionPattern();let c=!0;const d=new Uint8Array(i.getTotalCodewords());let h=0,p=0,y=0;for(let E=a-1;E>0;E-=2){E===6&&E--;for(let A=0;A<a;A++){const M=c?a-1-A:A;for(let D=0;D<2;D++)l.get(E-D,M)||(y++,p<<=1,this.bitMatrix.get(E-D,M)&&(p|=1),y===8&&(d[h++]=p,y=0,p=0))}c=!c}if(h!==i.getTotalCodewords())throw new F;return d}remask(){if(this.parsedFormatInfo===null)return;const n=Ln.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let a=i+1,l=n.getHeight();a<l;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class Hl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new S;const a=i.getECBlocksForLevel(s);let l=0;const c=a.getECBlocks();for(const D of c)l+=D.getCount();const d=new Array(l);let h=0;for(const D of c)for(let L=0;L<D.getCount();L++){const j=D.getDataCodewords(),W=a.getECCodewordsPerBlock()+j;d[h++]=new Hl(j,new Uint8Array(W))}const p=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==p;)y--;y++;const E=p-a.getECCodewordsPerBlock();let A=0;for(let D=0;D<E;D++)for(let L=0;L<h;L++)d[L].codewords[D]=n[A++];for(let D=y;D<h;D++)d[D].codewords[E]=n[A++];const M=d[0].codewords.length;for(let D=E;D<M;D++)for(let L=0;L<h;L++){const j=L<y?D:D+1;d[L].codewords[j]=n[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(kn||(kn={}));class pe{constructor(n,i,s,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,pe.FOR_BITS.set(a,this),pe.FOR_VALUE.set(n,this)}static forBits(n){const i=pe.FOR_BITS.get(n);if(i===void 0)throw new S;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof pe))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.TERMINATOR=new pe(kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pe.NUMERIC=new pe(kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pe.ALPHANUMERIC=new pe(kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pe.STRUCTURED_APPEND=new pe(kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pe.BYTE=new pe(kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pe.ECI=new pe(kn.ECI,"ECI",Int32Array.from([0,0,0]),7),pe.KANJI=new pe(kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pe.FNC1_FIRST_POSITION=new pe(kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pe.FNC1_SECOND_POSITION=new pe(kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pe.HANZI=new pe(kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class lt{static decode(n,i,s,a){const l=new zl(n);let c=new Ie;const d=new Array;let h=-1,p=-1;try{let y=null,E=!1,A;do{if(l.available()<4)A=pe.TERMINATOR;else{const M=l.readBits(4);A=pe.forBits(M)}switch(A){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:E=!0;break;case pe.STRUCTURED_APPEND:if(l.available()<16)throw new F;h=l.readBits(8),p=l.readBits(8);break;case pe.ECI:const M=lt.parseECIValue(l);if(y=z.getCharacterSetECIByValue(M),y===null)throw new F;break;case pe.HANZI:const D=l.readBits(4),L=l.readBits(A.getCharacterCountBits(i));D===lt.GB2312_SUBSET&&lt.decodeHanziSegment(l,c,L);break;default:const j=l.readBits(A.getCharacterCountBits(i));switch(A){case pe.NUMERIC:lt.decodeNumericSegment(l,c,j);break;case pe.ALPHANUMERIC:lt.decodeAlphanumericSegment(l,c,j,E);break;case pe.BYTE:lt.decodeByteSegment(l,c,j,y,d,a);break;case pe.KANJI:lt.decodeKanjiSegment(l,c,j);break;default:throw new F}break}}while(A!==pe.TERMINATOR)}catch{throw new F}return new Gn(n,c.toString(),d.length===0?null:d,s===null?null:s.toString(),h,p)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new F;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,a[l]=d>>8&255,a[l+1]=d&255,l+=2,s--}try{i.append(ge.decode(a,ce.GB2312))}catch(c){throw new F(c)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new F;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,a[l]=d>>8,a[l+1]=d,l+=2,s--}try{i.append(ge.decode(a,ce.SHIFT_JIS))}catch(c){throw new F(c)}}static decodeByteSegment(n,i,s,a,l,c){if(8*s>n.available())throw new F;const d=new Uint8Array(s);for(let p=0;p<s;p++)d[p]=n.readBits(8);let h;a===null?h=ce.guessEncoding(d,c):h=a.getName();try{i.append(ge.decode(d,h))}catch(p){throw new F(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=lt.ALPHANUMERIC_CHARS.length)throw new F;return lt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,a){const l=i.length();for(;s>1;){if(n.available()<11)throw new F;const c=n.readBits(11);i.append(lt.toAlphaNumericChar(Math.floor(c/45))),i.append(lt.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(n.available()<6)throw new F;i.append(lt.toAlphaNumericChar(n.readBits(6)))}if(a)for(let c=l;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new F;const a=n.readBits(10);if(a>=1e3)throw new F;i.append(lt.toAlphaNumericChar(Math.floor(a/100))),i.append(lt.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(lt.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(n.available()<7)throw new F;const a=n.readBits(7);if(a>=100)throw new F;i.append(lt.toAlphaNumericChar(Math.floor(a/10))),i.append(lt.toAlphaNumericChar(a%10))}else if(s===1){if(n.available()<4)throw new F;const a=n.readBits(4);if(a>=10)throw new F;i.append(lt.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new F}}lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",lt.GB2312_SUBSET=1;class z1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class d2{constructor(){this.rsDecoder=new Rn(Le.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(qe.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new f2(n);let a=null;try{return this.decodeBitMatrixParser(s,i)}catch(l){a=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,i);return l.setOther(new z1(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(n,i){const s=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),c=Hl.getDataBlocks(l,s,a);let d=0;for(const y of c)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const y of c){const E=y.getCodewords(),A=y.getNumDataCodewords();this.correctErrors(E,A);for(let M=0;M<A;M++)h[p++]=E[M]}return lt.decode(h,s,a,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new k}for(let a=0;a<i;a++)n[a]=s[a]}}class Vl extends ue{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=(this.getX()+i)/2,l=(this.getY()+n)/2,c=(this.estimatedModuleSize+s)/2;return new Vl(a,l,c)}}class Xo{constructor(n,i,s,a,l,c,d){this.image=n,this.startX=i,this.startY=s,this.width=a,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,a=n+s,l=this.startY+i/2,c=new Int32Array(3),d=this.image;for(let h=0;h<i;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=n;for(;y<a&&!d.get(y,p);)y++;let E=0;for(;y<a;){if(d.get(y,p))if(E===1)c[1]++;else if(E===2){if(this.foundPatternCross(c)){const A=this.handlePossibleCenter(c,p,y);if(A!==null)return A}c[0]=c[2],c[1]=1,c[2]=0,E=1}else c[++E]++;else E===1&&E++,c[E]++;y++}if(this.foundPatternCross(c)){const A=this.handlePossibleCenter(c,p,a);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=s)return!1;return!0}crossCheckVertical(n,i,s,a){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(i,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(i,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(i,h)&&d[1]<=s;)d[1]++,h++;if(h===c||d[1]>s)return NaN;for(;h<c&&!l.get(i,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(d)?Xo.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,s){const a=n[0]+n[1]+n[2],l=Xo.centerFromEnd(n,s),c=this.crossCheckVertical(i,l,2*n[1],a);if(!isNaN(c)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,c,l))return p.combineEstimate(c,l,d);const h=new Vl(l,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Wl extends ue{constructor(n,i,s,a){super(n,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=this.count+1,l=(this.count*this.getX()+i)/a,c=(this.count*this.getY()+n)/a,d=(this.count*this.estimatedModuleSize+s)/a;return new Wl(l,c,d,a)}}class h2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _t{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(X.TRY_HARDER)!==void 0,s=n!=null&&n.get(X.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),c=a.getWidth();let d=Math.floor(3*l/(4*_t.MAX_MODULES));(d<_t.MIN_SKIP||i)&&(d=_t.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let E=d-1;E<l&&!h;E+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let M=0;M<c;M++)if(a.get(M,E))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(_t.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,M,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>p[2]&&(E+=L-p[2]-d,M=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;_t.foundPatternCross(p)&&this.handlePossibleCenter(p,E,c,s)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return ue.orderBestPatterns(y),new h2(y)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let l=0;l<5;l++){const c=n[l];if(c===0)return!1;i+=c}if(i<7)return!1;const s=i/7,a=s/2;return Math.abs(s-n[0])<a&&Math.abs(s-n[1])<a&&Math.abs(3*s-n[2])<3*a&&Math.abs(s-n[3])<a&&Math.abs(s-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,a){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;n>=c&&i>=c&&d.get(i-c,n-c);)l[2]++,c++;if(n<c||i<c)return!1;for(;n>=c&&i>=c&&!d.get(i-c,n-c)&&l[1]<=s;)l[1]++,c++;if(n<c||i<c||l[1]>s)return!1;for(;n>=c&&i>=c&&d.get(i-c,n-c)&&l[0]<=s;)l[0]++,c++;if(l[0]>s)return!1;const h=d.getHeight(),p=d.getWidth();for(c=1;n+c<h&&i+c<p&&d.get(i+c,n+c);)l[2]++,c++;if(n+c>=h||i+c>=p)return!1;for(;n+c<h&&i+c<p&&!d.get(i+c,n+c)&&l[3]<s;)l[3]++,c++;if(n+c>=h||i+c>=p||l[3]>=s)return!1;for(;n+c<h&&i+c<p&&d.get(i+c,n+c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-a)<2*a&&_t.foundPatternCross(l)}crossCheckVertical(n,i,s,a){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(i,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(i,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(i,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(i,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(i,h)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(i,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=2*a?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,i,s,a){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,i);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,i)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,i)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(h,i);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,i)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(h,i)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=a?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,s,a){const l=n[0]+n[1]+n[2]+n[3]+n[4];let c=_t.centerFromEnd(n,s),d=this.crossCheckVertical(i,Math.floor(c),n[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),n[2],l),!isNaN(c)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),n[2],l)))){const h=l/7;let p=!1;const y=this.possibleCenters;for(let E=0,A=y.length;E<A;E++){const M=y[E];if(M.aboutEquals(h,d,c)){y[E]=M.combineEstimate(d,c,h),p=!0;break}}if(!p){const E=new Wl(c,d,h);y.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=_t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=_t.CENTER_QUORUM&&(n++,i+=c.getEstimatedModuleSize());if(n<3)return!1;const a=i/s;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-a);return l<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Y;const i=this.possibleCenters;let s;if(n>3){let a=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();a+=p,l+=p*p}s=a/n;let c=Math.sqrt(l/n-s*s);i.sort((h,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-s),E=Math.abs(h.getEstimatedModuleSize()-s);return y<E?-1:y>E?1:0});const d=Math.max(.2*s,c);for(let h=0;h<i.length&&i.length>3;h++){const p=i[h];Math.abs(p.getEstimatedModuleSize()-s)>d&&(i.splice(h,1),h--)}}if(i.length>3){let a=0;for(const l of i)a+=l.getEstimatedModuleSize();s=a/i.length,i.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return c.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}_t.CENTER_QUORUM=2,_t.MIN_SKIP=3,_t.MAX_MODULES=57;class js{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(X.NEED_RESULT_POINT_CALLBACK);const s=new _t(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),a=n.getBottomLeft(),l=this.calculateModuleSize(i,s,a);if(l<1)throw new Y("No pattern found in proccess finder.");const c=js.computeDimension(i,s,a,l),d=he.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const M=s.getX()-i.getX()+a.getX(),D=s.getY()-i.getY()+a.getY(),L=1-3/h,j=Math.floor(i.getX()+L*(M-i.getX())),W=Math.floor(i.getY()+L*(D-i.getY()));for(let ee=4;ee<=16;ee<<=1)try{p=this.findAlignmentInRegion(l,j,W,ee);break}catch(te){if(!(te instanceof Y))throw te}}const y=js.createTransform(i,s,a,p,c),E=js.sampleGrid(this.image,y,c);let A;return p===null?A=[a,i,s]:A=[a,i,s,p],new Wi(E,A)}static createTransform(n,i,s,a,l){const c=l-3.5;let d,h,p,y;return a!==null?(d=a.getX(),h=a.getY(),p=c-3,y=p):(d=i.getX()-n.getX()+s.getX(),h=i.getY()-n.getY()+s.getY(),p=c,y=c),Kt.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,y,3.5,c,n.getX(),n.getY(),i.getX(),i.getY(),d,h,s.getX(),s.getY())}static sampleGrid(n,i,s){return Zn.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,a){const l=ve.round(ue.distance(n,i)/a),c=ve.round(ue.distance(n,s)/a);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new Y("Dimensions could be not found.")}return d}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,a){let l=this.sizeOfBlackWhiteBlackRun(n,i,s,a),c=1,d=n-(s-n);d<0?(c=n/(n-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(i-(a-i)*c);return c=1,h<0?(c=i/(i-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*c),l+=this.sizeOfBlackWhiteBlackRun(n,i,d,h),l-1}sizeOfBlackWhiteBlackRun(n,i,s,a){const l=Math.abs(a-i)>Math.abs(s-n);if(l){let M=n;n=i,i=M,M=s,s=a,a=M}const c=Math.abs(s-n),d=Math.abs(a-i);let h=-c/2;const p=n<s?1:-1,y=i<a?1:-1;let E=0;const A=s+p;for(let M=n,D=i;M!==A;M+=p){const L=l?D:M,j=l?M:D;if(E===1===this.image.get(L,j)){if(E===2)return ve.distance(M,D,n,i);E++}if(h+=d,h>0){if(D===a)break;D+=y,h-=c}}return E===2?ve.distance(s+p,a,n,i):NaN}findAlignmentInRegion(n,i,s,a){const l=Math.floor(a*n),c=Math.max(0,i-l),d=Math.min(this.image.getWidth()-1,i+l);if(d-c<n*3)throw new Y("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-h<n*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Xo(this.image,c,h,d-c,p-h,n,this.resultPointCallback).find()}}class Vr{constructor(){this.decoder=new d2}getDecoder(){return this.decoder}decode(n,i){let s,a;if(i!=null&&i.get(X.PURE_BARCODE)!==void 0){const h=Vr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,i),a=Vr.NO_POINTS}else{const h=new js(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(h.getBits(),i),a=h.getPoints()}s.getOther()instanceof z1&&s.getOther().applyMirroredCorrection(a);const l=new De(s.getText(),s.getRawBytes(),void 0,a,ie.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(nt.BYTE_SEGMENTS,c);const d=s.getECLevel();return d!==null&&l.putMetadata(nt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(nt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(nt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new Y;const a=this.moduleSize(i,n);let l=i[1],c=s[1],d=i[0],h=s[0];if(d>=h||l>=c)throw new Y;if(c-l!==h-d&&(h=d+(c-l),h>=n.getWidth()))throw new Y;const p=Math.round((h-d+1)/a),y=Math.round((c-l+1)/a);if(p<=0||y<=0)throw new Y;if(y!==p)throw new Y;const E=Math.floor(a/2);l+=E,d+=E;const A=d+Math.floor((p-1)*a)-h;if(A>0){if(A>E)throw new Y;d-=A}const M=l+Math.floor((y-1)*a)-c;if(M>0){if(M>E)throw new Y;l-=M}const D=new qe(p,y);for(let L=0;L<y;L++){const j=l+Math.floor(L*a);for(let W=0;W<p;W++)n.get(d+Math.floor(W*a),j)&&D.set(W,L)}return D}static moduleSize(n,i){const s=i.getHeight(),a=i.getWidth();let l=n[0],c=n[1],d=!0,h=0;for(;l<a&&c<s;){if(d!==i.get(l,c)){if(++h===5)break;d=!d}l++,c++}if(l===a||c===s)throw new Y;return(l-n[0])/7}}Vr.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(n){return ve.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ce.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const a of n)i[s++]=a;return i}static getCodeword(n){const i=T.binarySearch(Ce.SYMBOL_TABLE,n&262143);return i<0?-1:(Ce.CODEWORD_TABLE[i]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class g2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Te{static detectMultiple(n,i,s){let a=n.getBlackMatrix(),l=Te.detect(s,a);return l.length||(a=a.clone(),a.rotate180(),l=Te.detect(s,a)),new g2(a,l)}static detect(n,i){const s=new Array;let a=0,l=0,c=!1;for(;a<i.getHeight();){const d=Te.findVertices(i,a,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const h of s)h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())));a+=Te.ROW_STEP;continue}if(c=!0,s.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return s}static findVertices(n,i,s){const a=n.getHeight(),l=n.getWidth(),c=new Array(8);return Te.copyToResult(c,Te.findRowsWithPattern(n,a,l,i,s,Te.START_PATTERN),Te.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Te.copyToResult(c,Te.findRowsWithPattern(n,a,l,i,s,Te.STOP_PATTERN),Te.INDEXES_STOP_PATTERN),c}static copyToResult(n,i,s){for(let a=0;a<s.length;a++)n[s[a]]=i[a]}static findRowsWithPattern(n,i,s,a,l,c){const d=new Array(4);let h=!1;const p=new Int32Array(c.length);for(;a<i;a+=Te.ROW_STEP){let E=Te.findGuardPattern(n,l,a,s,!1,c,p);if(E!=null){for(;a>0;){const A=Te.findGuardPattern(n,l,--a,s,!1,c,p);if(A!=null)E=A;else{a++;break}}d[0]=new ue(E[0],a),d[1]=new ue(E[1],a),h=!0;break}}let y=a+1;if(h){let E=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<i;y++){const M=Te.findGuardPattern(n,A[0],y,s,!1,c,p);if(M!=null&&Math.abs(A[0]-M[0])<Te.MAX_PATTERN_DRIFT&&Math.abs(A[1]-M[1])<Te.MAX_PATTERN_DRIFT)A=M,E=0;else{if(E>Te.SKIPPED_ROW_COUNT_MAX)break;E++}}y-=E+1,d[2]=new ue(A[0],y),d[3]=new ue(A[1],y)}return y-a<Te.BARCODE_MIN_HEIGHT&&T.fill(d,null),d}static findGuardPattern(n,i,s,a,l,c,d){T.fillWithin(d,0,d.length,0);let h=i,p=0;for(;n.get(h,s)&&h>0&&p++<Te.MAX_PIXEL_DRIFT;)h--;let y=h,E=0,A=c.length;for(let M=l;y<a;y++)if(n.get(y,s)!==M)d[E]++;else{if(E===A-1){if(Te.patternMatchVariance(d,c,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],R.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,M=!M}return E===A-1&&Te.patternMatchVariance(d,c,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(n,i,s){let a=n.length,l=0,c=0;for(let p=0;p<a;p++)l+=n[p],c+=i[p];if(l<c)return 1/0;let d=l/c;s*=d;let h=0;for(let p=0;p<a;p++){let y=n[p],E=i[p]*d,A=y>E?y-E:E-y;if(A>s)return 1/0;h+=A}return h/l}}Te.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Te.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Te.MAX_AVG_VARIANCE=.42,Te.MAX_INDIVIDUAL_VARIANCE=.8,Te.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Te.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Te.MAX_PIXEL_DRIFT=3,Te.MAX_PATTERN_DRIFT=5,Te.SKIPPED_ROW_COUNT_MAX=25,Te.ROW_STEP=5,Te.BARCODE_MIN_HEIGHT=10;class Dt{constructor(n,i){if(i.length===0)throw new S;this.field=n;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),R.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let c=i;i=s,s=c}let a=new Int32Array(s.length),l=s.length-i.length;R.arraycopy(s,0,a,0,l);for(let c=l;c<s.length;c++)a[c]=this.field.add(i[c-l],s[c]);return new Dt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Dt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Dt(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=n.coefficients,l=a.length,c=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=i[d];for(let p=0;p<l;p++)c[d+p]=this.field.add(c[d+p],this.field.multiply(h,a[p]))}return new Dt(this.field,c)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new Dt(this.field,i)}multiplyScalar(n){if(n===0)return new Dt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],n);return new Dt(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new S;if(i===0)return new Dt(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+n);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new Dt(this.field,a)}toString(){let n=new Ie;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class p2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}inverse(n){if(n===0)throw new jr;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Gl extends p2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let a=0;a<n;a++)this.expTable[a]=s,s=s*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Dt(this,new Int32Array([0])),this.one=new Dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new S;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new Dt(this,s)}}Gl.PDF417_GF=new Gl(Ce.NUMBER_OF_CODEWORDS,3);class H1{constructor(){this.field=Gl.PDF417_GF}decode(n,i,s){let a=new Dt(this.field,n),l=new Int32Array(i),c=!1;for(let D=i;D>0;D--){let L=a.evaluateAt(this.field.exp(D));l[i-D]=L,L!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(s!=null)for(const D of s){let L=this.field.exp(n.length-1-D),j=new Dt(this.field,new Int32Array([this.field.subtract(0,L),1]));d=d.multiply(j)}let h=new Dt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),y=p[0],E=p[1],A=this.findErrorLocations(y),M=this.findErrorMagnitudes(E,y,A);for(let D=0;D<A.length;D++){let L=n.length-1-this.field.log(A[D]);if(L<0)throw k.getChecksumInstance();n[L]=this.field.subtract(n[L],M[D])}return A.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let A=n;n=i,i=A}let a=n,l=i,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let A=a,M=c;if(a=l,c=d,a.isZero())throw k.getChecksumInstance();l=A;let D=this.field.getZero(),L=a.getCoefficient(a.getDegree()),j=this.field.inverse(L);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let W=l.getDegree()-a.getDegree(),ee=this.field.multiply(l.getCoefficient(l.getDegree()),j);D=D.add(this.field.buildMonomial(W,ee)),l=l.subtract(a.multiplyByMonomial(W,ee))}d=D.multiply(c).subtract(M).negative()}let h=d.getCoefficient(0);if(h===0)throw k.getChecksumInstance();let p=this.field.inverse(h),y=d.multiply(p),E=l.multiply(p);return[y,E]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)n.evaluateAt(l)===0&&(s[a]=this.field.inverse(l),a++);if(a!==i)throw k.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let a=i.getDegree(),l=new Int32Array(a);for(let p=1;p<=a;p++)l[a-p]=this.field.multiply(p,i.getCoefficient(p));let c=new Dt(this.field,l),d=s.length,h=new Int32Array(d);for(let p=0;p<d;p++){let y=this.field.inverse(s[p]),E=this.field.subtract(0,n.evaluateAt(y)),A=this.field.inverse(c.evaluateAt(y));h[p]=this.field.multiply(E,A)}return h}}class Ai{constructor(n,i,s,a,l){n instanceof Ai?this.constructor_2(n):this.constructor_1(n,i,s,a,l)}constructor_1(n,i,s,a,l){const c=i==null||s==null,d=a==null||l==null;if(c&&d)throw new Y;c?(i=new ue(0,a.getY()),s=new ue(0,l.getY())):d&&(a=new ue(n.getWidth()-1,i.getY()),l=new ue(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new Ai(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let a=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(n>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let y=new ue(h.getX(),p);s?a=y:c=y}if(i>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new ue(h.getX(),p);s?l=y:d=y}return new Ai(this.image,a,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class m2{constructor(n,i,s,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Us{constructor(){this.buffer=""}static form(n,i){let s=-1;function a(c,d,h,p,y,E){if(c==="%%")return"%";if(i[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let A=y?parseInt(y.substr(1)):void 0,M;switch(E){case"s":M=i[s];break;case"c":M=i[s][0];break;case"f":M=parseFloat(i[s]).toFixed(c);break;case"p":M=parseFloat(i[s]).toPrecision(c);break;case"e":M=parseFloat(i[s]).toExponential(c);break;case"x":M=parseInt(i[s]).toString(A||16);break;case"d":M=parseFloat(parseInt(i[s],A||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(A);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;M.length<D;)M=d!==void 0?M+L:L+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}format(n,...i){this.buffer+=Us.form(n,i)}toString(){return this.buffer}}class zs{constructor(n){this.boundingBox=new Ai(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<zs.MAX_NEARBY_DISTANCE;s++){let a=this.imageRowToCodewordIndex(n)-s;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+s,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Us;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}zs.MAX_NEARBY_DISTANCE=5;class Hs{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,a]of this.values.entries()){const l={getKey:()=>s,getValue:()=>a};l.getValue()>n?(n=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===n&&i.push(l.getKey())}return Ce.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class V1 extends zs{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,y=0;for(let E=c;E<d;E++){if(i[E]==null)continue;let A=i[E],M=A.getRowNumber()-h;if(M===0)y++;else if(M===1)p=Math.max(p,y),y=1,h=A.getRowNumber();else if(M<0||A.getRowNumber()>=n.getRowCount()||M>E)i[E]=null;else{let D;p>2?D=(p-2)*M:D=M;let L=D>=E;for(let j=1;j<=D&&!L;j++)L=i[E-j]!=null;L?i[E]=null:(h=A.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<c;p++){if(d[p]==null)continue;let y=d[p];y.setRowNumberAsRowIndicatorColumn();let E=y.getRowNumber()-h;E===0||(E===1?h=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?d[p]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Hs,s=new Hs,a=new Hs,l=new Hs;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),a.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let c=new m2(i.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,c),c}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let a=n[s];if(n[s]==null)continue;let l=a.getValue()%30,c=a.getRowNumber();if(c>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:l+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vs{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ce.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[s];l!=null&&(l.setRowNumber(n[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=Vs.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=Vs.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let a=s[i],l=this.detectionResultColumns[n-1].getCodewords(),c=l;this.detectionResultColumns[n+1]!=null&&(c=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[i],d[3]=c[i],i>0&&(d[0]=s[i-1],d[4]=l[i-1],d[5]=c[i-1]),i>1&&(d[8]=s[i-2],d[10]=l[i-2],d[11]=c[i-2]),i<s.length-1&&(d[1]=s[i+1],d[6]=l[i+1],d[7]=c[i+1]),i<s.length-2&&(d[9]=s[i+2],d[12]=l[i+2],d[13]=c[i+2]);for(let h of d)if(Vs.adjustRowNumber(a,h))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Us;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[s];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class Ws{constructor(n,i,s,a){this.rowNumber=Ws.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ws.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ws.BARCODE_ROW_UNKNOWN=-1;class sn{static initialize(){for(let n=0;n<Ce.SYMBOL_TABLE.length;n++){let i=Ce.SYMBOL_TABLE[n],s=i&1;for(let a=0;a<Ce.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===s;)l+=1,i>>=1;s=i&1,sn.RATIOS_TABLE[n]||(sn.RATIOS_TABLE[n]=new Array(Ce.BARS_IN_MODULE)),sn.RATIOS_TABLE[n][Ce.BARS_IN_MODULE-a-1]=Math.fround(l/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=sn.getDecodedCodewordValue(sn.sampleBitCounts(n));return i!==-1?i:sn.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=ve.sum(n),s=new Int32Array(Ce.BARS_IN_MODULE),a=0,l=0;for(let c=0;c<Ce.MODULES_IN_CODEWORD;c++){let d=i/(2*Ce.MODULES_IN_CODEWORD)+c*i/Ce.MODULES_IN_CODEWORD;l+n[a]<=d&&(l+=n[a],a++),s[a]++}return s}static getDecodedCodewordValue(n){let i=sn.getBitValue(n);return Ce.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let a=0;a<n[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=ve.sum(n),s=new Array(Ce.BARS_IN_MODULE);if(i>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(n[c]/i);let a=Xn.MAX_VALUE,l=-1;this.bSymbolTableReady||sn.initialize();for(let c=0;c<sn.RATIOS_TABLE.length;c++){let d=0,h=sn.RATIOS_TABLE[c];for(let p=0;p<Ce.BARS_IN_MODULE;p++){let y=Math.fround(h[p]-s[p]);if(d+=Math.fround(y*y),d>=a)break}d<a&&(a=d,l=Ce.SYMBOL_TABLE[c])}return l}}sn.bSymbolTableReady=!1,sn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(C=>new Array(Ce.BARS_IN_MODULE));class W1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class G1{static parseLong(n,i=void 0){return parseInt(n,i)}}class Y1 extends m{}Y1.kind="NullPointerException";class x2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new Y1;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new B;if(s===0)return;for(let a=0;a<s;a++)this.write(n[i+a])}flush(){}close(){}}class w2 extends m{}class y2 extends x2{constructor(n=32){if(super(),this.count=0,n<0)throw new S("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new w2;s=O.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new B;this.ensureCapacity(this.count+s),R.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Ge;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function X1(){if(typeof window<"u")return window.BigInt||null;if(typeof Xs<"u")return Xs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qo;function Wr(C){if(typeof Qo>"u"&&(Qo=X1()),Qo===null)throw new Error("BigInt is not supported!");return Qo(C)}function C2(){let C=[];C[0]=Wr(1);let n=Wr(900);C[1]=n;for(let i=2;i<16;i++)C[i]=C[i-1]*n;return C}class V{static decode(n,i){let s=new Ie(""),a=z.ISO8859_1;s.enableDecoding(a);let l=1,c=n[l++],d=new W1;for(;l<n[0];){switch(c){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(n,l,s);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(c,n,a,l,s);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(n,l,s);break;case V.ECI_CHARSET:z.getCharacterSetECIByValue(n[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(n,l,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new F;default:l--,l=V.textCompaction(n,l,s);break}if(l<n.length)c=n[l++];else throw F.getFormatInstance()}if(s.length()===0)throw F.getFormatInstance();let h=new Gn(null,s.toString(),null,i);return h.setOther(d),h}static decodeMacroBlock(n,i,s){if(i+V.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw F.getFormatInstance();let a=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=n[i];s.setSegmentIndex(O.parseInt(V.decodeBase900toBase10(a,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ie;i=V.textCompaction(n,i,l),s.setFileId(l.toString());let c=-1;for(n[i]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<n[0];)switch(n[i]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ie;i=V.textCompaction(n,i+1,d),s.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ie;i=V.textCompaction(n,i+1,h),s.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Ie;i=V.textCompaction(n,i+1,p),s.setAddressee(p.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Ie;i=V.numericCompaction(n,i+1,y),s.setSegmentCount(O.parseInt(y.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Ie;i=V.numericCompaction(n,i+1,E),s.setTimestamp(G1.parseLong(E.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Ie;i=V.numericCompaction(n,i+1,A),s.setChecksum(O.parseInt(A.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Ie;i=V.numericCompaction(n,i+1,M),s.setFileSize(G1.parseLong(M.toString()));break;default:throw F.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(c!==-1){let d=i-c;s.isLastSegment()&&d--,s.setOptionalData(T.copyOfRange(n,c,c+d))}return i}static textCompaction(n,i,s){let a=new Int32Array((n[0]-i)*2),l=new Int32Array((n[0]-i)*2),c=0,d=!1;for(;i<n[0]&&!d;){let h=n[i++];if(h<V.TEXT_COMPACTION_MODE_LATCH)a[c]=h/30,a[c+1]=h%30,c+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:a[c++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[c]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[i++],l[c]=h,c++;break}}return V.decodeTextCompaction(a,l,c,s),i}static decodeTextCompaction(n,i,s,a){let l=Ge.ALPHA,c=Ge.ALPHA,d=0;for(;d<s;){let h=n[d],p="";switch(l){case Ge.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.LL:l=Ge.LOWER;break;case V.ML:l=Ge.MIXED;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case V.AS:c=l,l=Ge.ALPHA_SHIFT;break;case V.ML:l=Ge.MIXED;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.MIXED:if(h<V.PL)p=V.MIXED_CHARS[h];else switch(h){case V.PL:l=Ge.PUNCT;break;case 26:p=" ";break;case V.LL:l=Ge.LOWER;break;case V.AL:l=Ge.ALPHA;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.PUNCT:if(h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ge.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(l=c,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(l=c,h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ge.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break}p!==""&&a.append(p),d++}}static byteCompaction(n,i,s,a,l){let c=new y2,d=0,h=0,p=!1;switch(n){case V.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),E=i[a++];for(;a<i[0]&&!p;)switch(y[d++]=E,h=900*h+E,E=i[a++],E){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)c.write(Number(Wr(h)>>Wr(8*(5-A))));h=0,d=0}break}a===i[0]&&E<V.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=E);for(let A=0;A<d;A++)c.write(y[A]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!p;){let A=i[a++];if(A<V.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(d%5===0&&d>0){for(let M=0;M<6;++M)c.write(Number(Wr(h)>>Wr(8*(5-M))));h=0,d=0}}break}return l.append(ge.decode(c.toByteArray(),s)),a}static numericCompaction(n,i,s){let a=0,l=!1,c=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!l;){let d=n[i++];if(i===n[0]&&(l=!0),d<V.TEXT_COMPACTION_MODE_LATCH)c[a]=d,a++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(s.append(V.decodeBase900toBase10(c,a)),a=0)}return i}static decodeBase900toBase10(n,i){let s=Wr(0);for(let l=0;l<i;l++)s+=V.EXP900[i-l-1]*Wr(n[l]);let a=s.toString();if(a.charAt(0)!=="1")throw new F;return a.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=X1()?C2():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ne{constructor(){}static decode(n,i,s,a,l,c,d){let h=new Ai(n,i,s,a,l),p=null,y=null,E;for(let D=!0;;D=!1){if(i!=null&&(p=Ne.getRowIndicatorColumn(n,h,i,!0,c,d)),a!=null&&(y=Ne.getRowIndicatorColumn(n,h,a,!1,c,d)),E=Ne.merge(p,y),E==null)throw Y.getNotFoundInstance();let L=E.getBoundingBox();if(D&&L!=null&&(L.getMinY()<h.getMinY()||L.getMaxY()>h.getMaxY()))h=L;else break}E.setBoundingBox(h);let A=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(A,y);let M=p!=null;for(let D=1;D<=A;D++){let L=M?D:A-D;if(E.getDetectionResultColumn(L)!==void 0)continue;let j;L===0||L===A?j=new V1(h,L===0):j=new zs(h),E.setDetectionResultColumn(L,j);let W=-1,ee=W;for(let te=h.getMinY();te<=h.getMaxY();te++){if(W=Ne.getStartColumn(E,L,te,M),W<0||W>h.getMaxX()){if(ee===-1)continue;W=ee}let $=Ne.detectCodeword(n,h.getMinX(),h.getMaxX(),M,W,te,c,d);$!=null&&(j.setCodeword(te,$),ee=W,c=Math.min(c,$.getWidth()),d=Math.max(d,$.getWidth()))}}return Ne.createDecoderResult(E)}static merge(n,i){if(n==null&&i==null)return null;let s=Ne.getBarcodeMetadata(n,i);if(s==null)return null;let a=Ai.merge(Ne.adjustBoundingBox(n),Ne.adjustBoundingBox(i));return new Vs(s,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=Ne.getMax(i),a=0;for(let d of i)if(a+=s-d,d>0)break;let l=n.getCodewords();for(let d=0;a>0&&l[d]==null;d++)a--;let c=0;for(let d=i.length-1;d>=0&&(c+=s-i[d],!(i[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return n.getBoundingBox().addMissingRows(a,c,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,a,l,c){let d=new V1(i,a);for(let h=0;h<2;h++){let p=h===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=i.getMaxY()&&E>=i.getMinY();E+=p){let A=Ne.detectCodeword(n,0,n.getWidth(),a,y,E,l,c);A!=null&&(d.setCodeword(E,A),a?y=A.getStartX():y=A.getEndX())}}return d}static adjustCodewordCount(n,i){let s=i[0][1],a=s.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ne.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(l<1||l>Ce.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();s.setValue(l)}else a[0]!==l&&s.setValue(l)}static createDecoderResult(n){let i=Ne.createBarcodeMatrix(n);Ne.adjustCodewordCount(n,i);let s=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=i[h][p+1].getValue(),E=h*n.getBarcodeColumnCount()+p;y.length===0?s.push(E):y.length===1?a[E]=y[0]:(c.push(E),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ne.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,Ce.toIntArray(s),Ce.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(n,i,s,a,l){let c=new Int32Array(a.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)i[a[h]]=l[h][c[h]];try{return Ne.decodeCodewords(i,n,s)}catch(h){if(!(h instanceof k))throw h}if(c.length===0)throw k.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new Hs;let s=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][s].setValue(l.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,a){let l=a?1:-1,c=null;if(Ne.isValidBarcodeColumn(n,i-l)&&(c=n.getDetectionResultColumn(i-l).getCodeword(s)),c!=null)return a?c.getEndX():c.getStartX();if(c=n.getDetectionResultColumn(i).getCodewordNearby(s),c!=null)return a?c.getStartX():c.getEndX();if(Ne.isValidBarcodeColumn(n,i-l)&&(c=n.getDetectionResultColumn(i-l).getCodewordNearby(s)),c!=null)return a?c.getEndX():c.getStartX();let d=0;for(;Ne.isValidBarcodeColumn(n,i-l);){i-=l;for(let h of n.getDetectionResultColumn(i).getCodewords())if(h!=null)return(a?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,a,l,c,d,h){l=Ne.adjustCodewordStartColumn(n,i,s,a,l,c);let p=Ne.getModuleBitCount(n,i,s,a,l,c);if(p==null)return null;let y,E=ve.sum(p);if(a)y=l+E;else{for(let D=0;D<p.length/2;D++){let L=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=L}y=l,l=y-E}if(!Ne.checkCodewordSkew(E,d,h))return null;let A=sn.getDecodedValue(p),M=Ce.getCodeword(A);return M===-1?null:new Ws(l,y,Ne.getCodewordBucketNumber(A),M)}static getModuleBitCount(n,i,s,a,l,c){let d=l,h=new Int32Array(8),p=0,y=a?1:-1,E=a;for(;(a?d<s:d>=i)&&p<h.length;)n.get(d,c)===E?(h[p]++,d+=y):(p++,E=!E);return p===h.length||d===(a?s:i)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,a,l,c){let d=l,h=a?-1:1;for(let p=0;p<2;p++){for(;(a?d>=i:d<s)&&a===n.get(d,c);){if(Math.abs(l-d)>Ne.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,a=!a}return d}static checkCodewordSkew(n,i,s){return i-Ne.CODEWORD_SKEW_SIZE<=n&&n<=s+Ne.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw F.getFormatInstance();let a=1<<i+1,l=Ne.correctErrors(n,s,a);Ne.verifyCodewordCount(n,a);let c=V.decode(n,""+i);return c.setErrorsCorrected(l),c.setErasures(s.length),c}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+Ne.MAX_ERRORS||s<0||s>Ne.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Ne.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw F.getFormatInstance();let s=n[0];if(s>n.length)throw F.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw F.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((n&1)!==s&&(s=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ne.getCodewordBucketNumber(Ne.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Us;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let a=0;a<n[s].length;a++){let l=n[s][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}Ne.CODEWORD_SKEW_SIZE=2,Ne.MAX_ERRORS=3,Ne.MAX_EC_CODEWORDS=512,Ne.errorCorrection=new H1;class Lt{decode(n,i=null){let s=Lt.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw Y.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return Lt.decode(n,i,!0)}catch(s){throw s instanceof F||s instanceof k?Y.getNotFoundInstance():s}}static decode(n,i,s){const a=new Array,l=Te.detectMultiple(n,i,s);for(const c of l.getPoints()){const d=Ne.decode(l.getBits(),c[4],c[5],c[6],c[7],Lt.getMinCodewordWidth(c),Lt.getMaxCodewordWidth(c)),h=new De(d.getText(),d.getRawBytes(),void 0,c,ie.PDF_417);h.putMetadata(nt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(nt.PDF417_EXTRA_METADATA,p),a.push(h)}return a.map(c=>c)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?O.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Lt.getMaxWidth(n[0],n[4]),Lt.getMaxWidth(n[6],n[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Lt.getMaxWidth(n[1],n[5]),Lt.getMaxWidth(n[7],n[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Lt.getMinWidth(n[0],n[4]),Lt.getMinWidth(n[6],n[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Lt.getMinWidth(n[1],n[5]),Lt.getMinWidth(n[7],n[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class Zo extends m{}Zo.kind="ReaderException";class Q1{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!o(n)&&n.get(X.TRY_HARDER)===!0,s=o(n)?null:n.get(X.POSSIBLE_FORMATS),a=new Array;if(!o(s)){const l=s.some(c=>c===ie.UPC_A||c===ie.UPC_E||c===ie.EAN_13||c===ie.EAN_8||c===ie.CODABAR||c===ie.CODE_39||c===ie.CODE_93||c===ie.CODE_128||c===ie.ITF||c===ie.RSS_14||c===ie.RSS_EXPANDED);l&&!i&&a.push(new Ki(n,this.verbose)),s.includes(ie.QR_CODE)&&a.push(new Vr),s.includes(ie.DATA_MATRIX)&&a.push(new Hr),s.includes(ie.AZTEC)&&a.push(new Yi),s.includes(ie.PDF_417)&&a.push(new Lt),l&&i&&a.push(new Ki(n,this.verbose))}a.length===0&&(i||a.push(new Ki(n,this.verbose)),a.push(new Vr),a.push(new Hr),a.push(new Yi),a.push(new Lt),i&&a.push(new Ki(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Zo("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof Zo)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class E2 extends _e{constructor(n=null,i=500){const s=new Q1;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class v2 extends _e{constructor(n=500){super(new Lt,n)}}class A2 extends _e{constructor(n=500){super(new Vr,n)}}var Yl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Yl||(Yl={}));var St=Yl;class Xl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new zt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const a=this.field;for(let l=i.length;l<=n;l++){const c=s.multiply(new zt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(c),s=c}}return i[n]}encode(n,i){if(i===0)throw new S("No error correction bytes");const s=n.length-i;if(s<=0)throw new S("No data bytes provided");const a=this.buildGenerator(i),l=new Int32Array(s);R.arraycopy(n,0,l,0,s);let c=new zt(this.field,l);c=c.multiplyByMonomial(i,1);const h=c.divide(a)[1].getCoefficients(),p=i-h.length;for(let y=0;y<p;y++)n[s+y]=0;R.arraycopy(h,0,n,s+p,h.length)}}class gt{constructor(){}static applyMaskPenaltyRule1(n){return gt.applyMaskPenaltyRule1Internal(n,!0)+gt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let c=0;c<l-1;c++){const d=s[c];for(let h=0;h<a-1;h++){const p=d[h];p===d[h+1]&&p===s[c+1][h]&&p===s[c+1][h+1]&&i++}}return gt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let c=0;c<l;c++)for(let d=0;d<a;d++){const h=s[c];d+6<a&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(gt.isWhiteHorizontal(h,d-4,d)||gt.isWhiteHorizontal(h,d+7,d+11))&&i++,c+6<l&&s[c][d]===1&&s[c+1][d]===0&&s[c+2][d]===1&&s[c+3][d]===1&&s[c+4][d]===1&&s[c+5][d]===0&&s[c+6][d]===1&&(gt.isWhiteVertical(s,d,c-4,c)||gt.isWhiteVertical(s,d,c+7,c+11))&&i++}return i*gt.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let a=i;a<s;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,s,a){s=Math.max(s,0),a=Math.min(a,n.length);for(let l=s;l<a;l++)if(n[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=s[h];for(let y=0;y<a;y++)p[y]===1&&i++}const c=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*gt.N4}static getDataMaskBit(n,i,s){let a,l;switch(n){case 0:a=s+i&1;break;case 1:a=s&1;break;case 2:a=i%3;break;case 3:a=(s+i)%3;break;case 4:a=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:l=s*i,a=(l&1)+l%3;break;case 6:l=s*i,a=(l&1)+l%3&1;break;case 7:l=s*i,a=l%3+(s+i&1)&1;break;default:throw new S("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const a=i?n.getHeight():n.getWidth(),l=i?n.getWidth():n.getHeight(),c=n.getArray();for(let d=0;d<a;d++){let h=0,p=-1;for(let y=0;y<l;y++){const E=i?c[d][y]:c[y][d];E===p?h++:(h>=5&&(s+=gt.N1+(h-5)),h=1,p=E)}h>=5&&(s+=gt.N1+(h-5))}return s}}gt.N1=3,gt.N2=3,gt.N3=40,gt.N4=10;class Ko{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)T.fill(i,n)}equals(n){if(!(n instanceof Ko))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){const l=this.bytes[s],c=i.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==c[d])return!1}return!0}toString(){const n=new Ie;for(let i=0,s=this.height;i<s;++i){const a=this.bytes[i];for(let l=0,c=this.width;l<c;++l)switch(a[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Si{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Ie;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Si.NUM_MASK_PATTERNS}}Si.NUM_MASK_PATTERNS=8;class Ye extends m{}Ye.kind="WriterException";class we{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,a,l){we.clearMatrix(l),we.embedBasicPatterns(s,l),we.embedTypeInfo(i,a,l),we.maybeEmbedVersionInfo(s,l),we.embedDataBits(n,a,l)}static embedBasicPatterns(n,i){we.embedPositionDetectionPatternsAndSeparators(i),we.embedDarkDotAtLeftBottomCorner(i),we.maybeEmbedPositionAdjustmentPatterns(n,i),we.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const a=new P;we.makeTypeInfoBits(n,i,a);for(let l=0,c=a.getSize();l<c;++l){const d=a.get(a.getSize()-1-l),h=we.TYPE_INFO_COORDINATES[l],p=h[0],y=h[1];if(s.setBoolean(p,y,d),l<8){const E=s.getWidth()-l-1;s.setBoolean(E,8,d)}else{const A=s.getHeight()-7+(l-8);s.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new P;we.makeVersionInfoBits(n,s);let a=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=s.get(a);a--,i.setBoolean(l,i.getHeight()-11+c,d),i.setBoolean(i.getHeight()-11+c,l,d)}}static embedDataBits(n,i,s){let a=0,l=-1,c=s.getWidth()-1,d=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const p=c-h;if(!we.isEmpty(s.get(p,d)))continue;let y;a<n.getSize()?(y=n.get(a),++a):y=!1,i!==255&&gt.getDataMaskBit(i,p,d)&&(y=!y),s.setBoolean(p,d,y)}d+=l}l=-l,d+=l,c-=2}if(a!==n.getSize())throw new Ye("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-O.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new S("0 polynomial");const s=we.findMSBSet(i);for(n<<=s-1;we.findMSBSet(n)>=s;)n^=i<<we.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!Si.isValidMaskPattern(i))throw new Ye("Invalid mask pattern");const a=n.getBits()<<3|i;s.appendBits(a,5);const l=we.calculateBCHCode(a,we.TYPE_INFO_POLY);s.appendBits(l,10);const c=new P;if(c.appendBits(we.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new Ye("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=we.calculateBCHCode(n.getVersionNumber(),we.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Ye("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;we.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),we.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ye;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let a=0;a<8;++a){if(!we.isEmpty(s.get(n+a,i)))throw new Ye;s.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let a=0;a<7;++a){if(!we.isEmpty(s.get(n,i+a)))throw new Ye;s.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let a=0;a<5;++a){const l=we.POSITION_ADJUSTMENT_PATTERN[a];for(let c=0;c<5;++c)s.setNumber(n+c,i+a,l[c])}}static embedPositionDetectionPattern(n,i,s){for(let a=0;a<7;++a){const l=we.POSITION_DETECTION_PATTERN[a];for(let c=0;c<7;++c)s.setNumber(n+c,i+a,l[c])}}static embedPositionDetectionPatternsAndSeparators(n){const i=we.POSITION_DETECTION_PATTERN[0].length;we.embedPositionDetectionPattern(0,0,n),we.embedPositionDetectionPattern(n.getWidth()-i,0,n),we.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;we.embedHorizontalSeparationPattern(0,s-1,n),we.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),we.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const a=7;we.embedVerticalSeparationPattern(a,0,n),we.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),we.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,a=we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,c=a.length;l!==c;l++){const d=a[l];if(d>=0)for(let h=0;h!==c;h++){const p=a[h];p>=0&&we.isEmpty(i.get(p,d))&&we.embedPositionAdjustmentPattern(p-2,d-2,i)}}}}we.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),we.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),we.VERSION_INFO_POLY=7973,we.TYPE_INFO_POLY=1335,we.TYPE_INFO_MASK_PATTERN=21522;class S2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class $e{constructor(){}static calculateMaskPenalty(n){return gt.applyMaskPenaltyRule1(n)+gt.applyMaskPenaltyRule2(n)+gt.applyMaskPenaltyRule3(n)+gt.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let a=$e.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(St.CHARACTER_SET)!==void 0;l&&(a=s.get(St.CHARACTER_SET).toString());const c=this.chooseMode(n,a),d=new P;if(c===pe.BYTE&&(l||$e.DEFAULT_BYTE_MODE_ENCODING!==a)){const te=z.getCharacterSetECIByName(a);te!==void 0&&this.appendECI(te,d)}this.appendModeInfo(c,d);const h=new P;this.appendBytes(n,c,h,a);let p;if(s!==null&&s.get(St.QR_VERSION)!==void 0){const te=Number.parseInt(s.get(St.QR_VERSION).toString(),10);p=he.getVersionForNumber(te);const $=this.calculateBitsNeeded(c,d,h,p);if(!this.willFit($,p,i))throw new Ye("Data too big for requested version")}else p=this.recommendVersion(i,c,d,h);const y=new P;y.appendBitArray(d);const E=c===pe.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(E,p,c,y),y.appendBitArray(h);const A=p.getECBlocksForLevel(i),M=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(M,y);const D=this.interleaveWithECBytes(y,p.getTotalCodewords(),M,A.getNumBlocks()),L=new Si;L.setECLevel(i),L.setMode(c),L.setVersion(p);const j=p.getDimensionForVersion(),W=new Ko(j,j),ee=this.chooseMaskPattern(D,i,p,W);return L.setMaskPattern(ee),we.buildMatrix(D,i,p,ee,W),L.setMatrix(W),L}static recommendVersion(n,i,s,a){const l=this.calculateBitsNeeded(i,s,a,he.getVersionForNumber(1)),c=this.chooseVersion(l,n),d=this.calculateBitsNeeded(i,s,a,c);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,i,s,a){return i.getSize()+n.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(n){return n<$e.ALPHANUMERIC_TABLE.length?$e.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(z.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return pe.KANJI;let s=!1,a=!1;for(let l=0,c=n.length;l<c;++l){const d=n.charAt(l);if($e.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return pe.BYTE}return a?pe.ALPHANUMERIC:s?pe.NUMERIC:pe.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=ge.encode(n,z.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){const l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,i,s,a){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<Si.NUM_MASK_PATTERNS;d++){we.buildMatrix(n,i,s,d,a);let h=this.calculateMaskPenalty(a);h<l&&(l=h,c=d)}return c}static chooseVersion(n,i){for(let s=1;s<=40;s++){const a=he.getVersionForNumber(s);if($e.willFit(n,a,i))return a}throw new Ye("Data too big")}static willFit(n,i,s){const a=i.getTotalCodewords(),c=i.getECBlocksForLevel(s).getTotalECCodewords(),d=a-c,h=(n+7)/8;return d>=h}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Ye("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let c=0;c<4&&i.getSize()<s;++c)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let c=a;c<8;c++)i.appendBit(!1);const l=n-i.getSizeInBytes();for(let c=0;c<l;++c)i.appendBits(c&1?17:236,8);if(i.getSize()!==s)throw new Ye("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,a,l,c){if(a>=s)throw new Ye("Block ID too large");const d=n%s,h=s-d,p=Math.floor(n/s),y=p+1,E=Math.floor(i/s),A=E+1,M=p-E,D=y-A;if(M!==D)throw new Ye("EC bytes mismatch");if(s!==h+d)throw new Ye("RS blocks mismatch");if(n!==(E+M)*h+(A+D)*d)throw new Ye("Total bytes mismatch");a<h?(l[0]=E,c[0]=M):(l[0]=A,c[0]=D)}static interleaveWithECBytes(n,i,s,a){if(n.getSizeInBytes()!==s)throw new Ye("Number of bits and data bytes does not match");let l=0,c=0,d=0;const h=new Array;for(let y=0;y<a;++y){const E=new Int32Array(1),A=new Int32Array(1);$e.getNumDataBytesAndNumECBytesForBlockID(i,s,a,y,E,A);const M=E[0],D=new Uint8Array(M);n.toBytes(8*l,D,0,M);const L=$e.generateECBytes(D,A[0]);h.push(new S2(D,L)),c=Math.max(c,M),d=Math.max(d,L.length),l+=E[0]}if(s!==l)throw new Ye("Data bytes does not match offset");const p=new P;for(let y=0;y<c;++y)for(const E of h){const A=E.getDataBytes();y<A.length&&p.appendBits(A[y],8)}for(let y=0;y<d;++y)for(const E of h){const A=E.getErrorCorrectionBytes();y<A.length&&p.appendBits(A[y],8)}if(i!==p.getSizeInBytes())throw new Ye("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,i){const s=n.length,a=new Int32Array(s+i);for(let c=0;c<s;c++)a[c]=n[c]&255;new Xl(Le.QR_CODE_FIELD_256).encode(a,i);const l=new Uint8Array(i);for(let c=0;c<i;c++)l[c]=a[s+c];return l}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,a){const l=s.getCharacterCountBits(i);if(n>=1<<l)throw new Ye(n+" is bigger than "+((1<<l)-1));a.appendBits(n,l)}static appendBytes(n,i,s,a){switch(i){case pe.NUMERIC:$e.appendNumericBytes(n,s);break;case pe.ALPHANUMERIC:$e.appendAlphanumericBytes(n,s);break;case pe.BYTE:$e.append8BitBytes(n,s,a);break;case pe.KANJI:$e.appendKanjiBytes(n,s);break;default:throw new Ye("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=$e.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const l=$e.getDigit(n.charAt(a));if(a+2<s){const c=$e.getDigit(n.charAt(a+1)),d=$e.getDigit(n.charAt(a+2));i.appendBits(l*100+c*10+d,10),a+=3}else if(a+1<s){const c=$e.getDigit(n.charAt(a+1));i.appendBits(l*10+c,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const l=$e.getAlphanumericCode(n.charCodeAt(a));if(l===-1)throw new Ye;if(a+1<s){const c=$e.getAlphanumericCode(n.charCodeAt(a+1));if(c===-1)throw new Ye;i.appendBits(l*45+c,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(n,i,s){let a;try{a=ge.encode(n,s)}catch(l){throw new Ye(l)}for(let l=0,c=a.length;l!==c;l++){const d=a[l];i.appendBits(d,8)}}static appendKanjiBytes(n,i){let s;try{s=ge.encode(n,z.SJIS)}catch(l){throw new Ye(l)}const a=s.length;for(let l=0;l<a;l+=2){const c=s[l]&255,d=s[l+1]&255,h=c<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Ye("Invalid byte sequence");const y=(p>>8)*192+(p&255);i.appendBits(y,13)}}static appendECI(n,i){i.appendBits(pe.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}$e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),$e.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Ii{write(n,i,s,a=null){if(n.length===0)throw new S("Found empty contents");if(i<0||s<0)throw new S("Requested dimensions are too small: "+i+"x"+s);let l=Ze.L,c=Ii.QUIET_ZONE_SIZE;a!==null&&(a.get(St.ERROR_CORRECTION)!==void 0&&(l=Ze.fromString(a.get(St.ERROR_CORRECTION).toString())),a.get(St.MARGIN)!==void 0&&(c=Number.parseInt(a.get(St.MARGIN).toString(),10)));const d=$e.encode(n,l,a);return this.renderResult(d,i,s,c)}writeToDom(n,i,s,a,l=null){typeof n=="string"&&(n=document.querySelector(n));const c=this.write(i,s,a,l);n&&n.appendChild(c)}renderResult(n,i,s,a){const l=n.getMatrix();if(l===null)throw new mn;const c=l.getWidth(),d=l.getHeight(),h=c+a*2,p=d+a*2,y=Math.max(i,h),E=Math.max(s,p),A=Math.min(Math.floor(y/h),Math.floor(E/p)),M=Math.floor((y-c*A)/2),D=Math.floor((E-d*A)/2),L=this.createSVGElement(y,E);for(let j=0,W=D;j<d;j++,W+=A)for(let ee=0,te=M;ee<c;ee++,te+=A)if(l.get(ee,j)===1){const $=this.createSvgRectElement(te,W,A,A);L.appendChild($)}return L}createSVGElement(n,i){const s=document.createElementNS(Ii.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,a){const l=document.createElementNS(Ii.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Ii.QUIET_ZONE_SIZE=4,Ii.SVG_NS="http://www.w3.org/2000/svg";class $i{encode(n,i,s,a,l){if(n.length===0)throw new S("Found empty contents");if(i!==ie.QR_CODE)throw new S("Can only encode QR_CODE, but got "+i);if(s<0||a<0)throw new S(`Requested dimensions are too small: ${s}x${a}`);let c=Ze.L,d=$i.QUIET_ZONE_SIZE;l!==null&&(l.get(St.ERROR_CORRECTION)!==void 0&&(c=Ze.fromString(l.get(St.ERROR_CORRECTION).toString())),l.get(St.MARGIN)!==void 0&&(d=Number.parseInt(l.get(St.MARGIN).toString(),10)));const h=$e.encode(n,c,l);return $i.renderResult(h,s,a,d)}static renderResult(n,i,s,a){const l=n.getMatrix();if(l===null)throw new mn;const c=l.getWidth(),d=l.getHeight(),h=c+a*2,p=d+a*2,y=Math.max(i,h),E=Math.max(s,p),A=Math.min(Math.floor(y/h),Math.floor(E/p)),M=Math.floor((y-c*A)/2),D=Math.floor((E-d*A)/2),L=new qe(y,E);for(let j=0,W=D;j<d;j++,W+=A)for(let ee=0,te=M;ee<c;ee++,te+=A)l.get(ee,j)===1&&L.setRegion(te,W,A,A);return L}}$i.QUIET_ZONE_SIZE=4;class I2{encode(n,i,s,a,l){let c;switch(i){case ie.QR_CODE:c=new $i;break;default:throw new S("No encoder available for format "+i)}return c.encode(n,i,s,a,l)}}class fr extends q{constructor(n,i,s,a,l,c,d,h){if(super(c,d),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=l,a+c>i||l+d>s)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.yuvData,l,a,0,s),a;for(let c=0;c<i;c++){const d=c*n;R.arraycopy(this.yuvData,l,a,d,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new fr(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,a,!1)}renderThumbnail(){const n=this.getWidth()/fr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/fr.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const d=c*n;for(let h=0;h<n;h++){const p=a[l+h*fr.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|p*65793}l+=this.dataWidth*fr.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/fr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<i;a++,l+=this.dataWidth){const c=l+n/2;for(let d=l,h=l+n-1;d<c;d++,h--){const p=s[d];s[d]=s[h],s[h]=p}}}invert(){return new fe(this)}}fr.THUMBNAIL_SCALE_FACTOR=2;class Ql extends q{constructor(n,i,s,a,l,c,d){if(super(i,s),this.dataWidth=a,this.dataHeight=l,this.left=c,this.top=d,n.BYTES_PER_ELEMENT===4){const h=i*s,p=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const E=n[y],A=E>>16&255,M=E>>7&510,D=E&255;p[y]=(A+M+D)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.luminances,l,a,0,s),a;for(let c=0;c<i;c++){const d=c*n;R.arraycopy(this.luminances,l,a,d,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new Ql(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new fe(this)}}class Z1 extends z{static forName(n){return this.getCharacterSetECIByName(n)}}class Zl{}Zl.ISO_8859_1=z.ISO8859_1;class K1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class q1{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class T2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ji extends T2{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Ji(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ji(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+O.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Kl extends Ji{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new Kl(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function N2(C,n,i){return new Kl(C,n,i)}function Gs(C,n,i){return new Ji(C,n,i)}const b2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Gr=0,qo=1,Pn=2,$1=3,dr=4,_2=new Ji(null,0,0),ql=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function M2(C){for(let n of C)T.fill(n,-1);return C[Gr][dr]=0,C[qo][dr]=0,C[qo][Gr]=28,C[$1][dr]=0,C[Pn][dr]=0,C[Pn][Gr]=15,C}const J1=M2(T.createInt32Array(6,6));class hr{constructor(n,i,s,a){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,a=this.token;if(n!==this.mode){let c=ql[this.mode][n];a=Gs(a,c&65535,c>>16),s+=c>>16}let l=n===Pn?4:5;return a=Gs(a,i,l),new hr(a,n,0,s+l)}shiftAndAppend(n,i){let s=this.token,a=this.mode===Pn?4:5;return s=Gs(s,J1[this.mode][n],a),s=Gs(s,i,5),new hr(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===dr||this.mode===Pn){let d=ql[s][Gr];i=Gs(i,d&65535,d>>16),a+=d>>16,s=Gr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new hr(i,s,this.binaryShiftByteCount+1,a+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(n+1)),c}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=N2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new hr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(ql[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=hr.calculateBinaryShiftCost(n)-hr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new P;for(const a of i)a.appendTo(s,n);return s}toString(){return ce.format("%s bits=%d bytes=%d",b2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}hr.INITIAL_STATE=new hr(_2,Gr,0,0);function O2(C){const n=ce.getCharCode(" "),i=ce.getCharCode("."),s=ce.getCharCode(",");C[Gr][n]=1;const a=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let A=l;A<=a;A++)C[Gr][A]=A-l+2;C[qo][n]=1;const c=ce.getCharCode("z"),d=ce.getCharCode("a");for(let A=d;A<=c;A++)C[qo][A]=A-d+2;C[Pn][n]=1;const h=ce.getCharCode("9"),p=ce.getCharCode("0");for(let A=p;A<=h;A++)C[Pn][A]=A-p+2;C[Pn][s]=12,C[Pn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<y.length;A++)C[$1][ce.getCharCode(y[A])]=A;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<E.length;A++)ce.getCharCode(E[A])>0&&(C[dr][ce.getCharCode(E[A])]=A);return C}const $l=O2(T.createInt32Array(5,256));class Ys{constructor(n){this.text=n}encode(){const n=ce.getCharCode(" "),i=ce.getCharCode(`
`);let s=q1.singletonList(hr.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):c=d===i?2:0;break;case ce.getCharCode("."):c=d===n?3:0;break;case ce.getCharCode(","):c=d===n?4:0;break;case ce.getCharCode(":"):c=d===n?5:0;break;default:c=0}c>0?(s=Ys.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}return q1.min(s,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let a of n)this.updateStateForChar(a,i,s);return Ys.simplifyStates(s)}updateStateForChar(n,i,s){let a=this.text[i]&255,l=$l[n.getMode()][a]>0,c=null;for(let d=0;d<=dr;d++){let h=$l[d][a];if(h>0){if(c==null&&(c=n.endBinaryShift(i)),!l||d===n.getMode()||d===Pn){const p=c.latchAndAppend(d,h);s.push(p)}if(!l&&J1[n.getMode()][d]>=0){const p=c.shiftAndAppend(d,h);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||$l[n.getMode()][a]===0){let d=n.addBinaryShiftChar(i);s.push(d)}}static updateStateListForPair(n,i,s){const a=[];for(let l of n)this.updateStateForPair(l,i,s,a);return this.simplifyStates(a)}static updateStateForPair(n,i,s,a){let l=n.endBinaryShift(i);if(a.push(l.latchAndAppend(dr,s)),n.getMode()!==dr&&a.push(l.shiftAndAppend(dr,s)),s===3||s===4){let c=l.latchAndAppend(Pn,16-s).latchAndAppend(Pn,1);a.push(c)}if(n.getBinaryShiftByteCount()>0){let c=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(c)}}static simplifyStates(n){let i=[];for(const s of n){let a=!0;for(const l of i){if(l.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(l)&&(i=i.filter(c=>c!==l))}a&&i.push(s)}return i}}class ke{constructor(){}static encodeBytes(n){return ke.encode(n,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let a=new Ys(n).encode(),l=O.truncDivision(a.getSize()*i,100)+11,c=a.getSize()+l,d,h,p,y,E;if(s!==ke.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new S(ce.format("Illegal value %s for layers",s));p=ke.totalBitsInLayer(h,d),y=ke.WORD_SIZE[h];let $=p-p%y;if(E=ke.stuffBits(a,y),E.getSize()+l>$)throw new S("Data to large for user specified layer");if(d&&E.getSize()>y*64)throw new S("Data to large for user specified layer")}else{y=0,E=null;for(let $=0;;$++){if($>ke.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=$<=3,h=d?$+1:$,p=ke.totalBitsInLayer(h,d),c>p)continue;(E==null||y!==ke.WORD_SIZE[h])&&(y=ke.WORD_SIZE[h],E=ke.stuffBits(a,y));let Oe=p-p%y;if(!(d&&E.getSize()>y*64)&&E.getSize()+l<=Oe)break}}let A=ke.generateCheckWords(E,p,y),M=E.getSize()/y,D=ke.generateModeMessage(d,h,M),L=(d?11:14)+h*4,j=new Int32Array(L),W;if(d){W=L;for(let $=0;$<j.length;$++)j[$]=$}else{W=L+1+2*O.truncDivision(O.truncDivision(L,2)-1,15);let $=O.truncDivision(L,2),Oe=O.truncDivision(W,2);for(let Se=0;Se<$;Se++){let on=Se+O.truncDivision(Se,15);j[$-Se-1]=Oe-on-1,j[$+Se]=Oe+on+1}}let ee=new qe(W);for(let $=0,Oe=0;$<h;$++){let Se=(h-$)*4+(d?9:12);for(let on=0;on<Se;on++){let qn=on*2;for(let an=0;an<2;an++)A.get(Oe+qn+an)&&ee.set(j[$*2+an],j[$*2+on]),A.get(Oe+Se*2+qn+an)&&ee.set(j[$*2+on],j[L-1-$*2-an]),A.get(Oe+Se*4+qn+an)&&ee.set(j[L-1-$*2-an],j[L-1-$*2-on]),A.get(Oe+Se*6+qn+an)&&ee.set(j[L-1-$*2-on],j[$*2+an])}Oe+=Se*8}if(ke.drawModeMessage(ee,d,W,D),d)ke.drawBullsEye(ee,O.truncDivision(W,2),5);else{ke.drawBullsEye(ee,O.truncDivision(W,2),7);for(let $=0,Oe=0;$<O.truncDivision(L,2)-1;$+=15,Oe+=16)for(let Se=O.truncDivision(W,2)&1;Se<W;Se+=2)ee.set(O.truncDivision(W,2)-Oe,Se),ee.set(O.truncDivision(W,2)+Oe,Se),ee.set(Se,O.truncDivision(W,2)-Oe),ee.set(Se,O.truncDivision(W,2)+Oe)}let te=new K1;return te.setCompact(d),te.setSize(W),te.setLayers(h),te.setCodeWords(M),te.setMatrix(ee),te}static drawBullsEye(n,i,s){for(let a=0;a<s;a+=2)for(let l=i-a;l<=i+a;l++)n.set(l,i-a),n.set(l,i+a),n.set(i-a,l),n.set(i+a,l);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let a=new P;return n?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=ke.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=ke.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,s,a){let l=O.truncDivision(s,2);if(i)for(let c=0;c<7;c++){let d=l-3+c;a.get(c)&&n.set(d,l-5),a.get(c+7)&&n.set(l+5,d),a.get(20-c)&&n.set(d,l+5),a.get(27-c)&&n.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+O.truncDivision(c,5);a.get(c)&&n.set(d,l-7),a.get(c+10)&&n.set(l+7,d),a.get(29-c)&&n.set(d,l+7),a.get(39-c)&&n.set(l-7,d)}}static generateCheckWords(n,i,s){let a=n.getSize()/s,l=new Xl(ke.getGF(s)),c=O.truncDivision(i,s),d=ke.bitsToWords(n,s,c);l.encode(d,c-a);let h=i%s,p=new P;p.appendBits(0,h);for(const y of Array.from(d))p.appendBits(y,s);return p}static bitsToWords(n,i,s){let a=new Int32Array(s),l,c;for(l=0,c=n.getSize()/i;l<c;l++){let d=0;for(let h=0;h<i;h++)d|=n.get(l*i+h)?1<<i-h-1:0;a[l]=d}return a}static getGF(n){switch(n){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new S("Unsupported word size "+n)}}static stuffBits(n,i){let s=new P,a=n.getSize(),l=(1<<i)-2;for(let c=0;c<a;c+=i){let d=0;for(let h=0;h<i;h++)(c+h>=a||n.get(c+h))&&(d|=1<<i-1-h);(d&l)===l?(s.appendBits(d&l,i),c--):d&l?s.appendBits(d,i):(s.appendBits(d|1,i),c--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $o{encode(n,i,s,a){return this.encodeWithHints(n,i,s,a,null)}encodeWithHints(n,i,s,a,l){let c=Zl.ISO_8859_1,d=ke.DEFAULT_EC_PERCENT,h=ke.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(St.CHARACTER_SET)&&(c=Z1.forName(l.get(St.CHARACTER_SET).toString())),l.has(St.ERROR_CORRECTION)&&(d=O.parseInt(l.get(St.ERROR_CORRECTION).toString())),l.has(St.AZTEC_LAYERS)&&(h=O.parseInt(l.get(St.AZTEC_LAYERS).toString()))),$o.encodeLayers(n,i,s,a,c,d,h)}static encodeLayers(n,i,s,a,l,c,d){if(i!==ie.AZTEC)throw new S("Can only encode AZTEC, but got "+i);let h=ke.encode(ce.getBytes(n,l),c,d);return $o.renderResult(h,s,a)}static renderResult(n,i,s){let a=n.getMatrix();if(a==null)throw new mn;let l=a.getWidth(),c=a.getHeight(),d=Math.max(i,l),h=Math.max(s,c),p=Math.min(d/l,h/c),y=(d-l*p)/2,E=(h-c*p)/2,A=new qe(d,h);for(let M=0,D=E;M<c;M++,D+=p)for(let L=0,j=y;L<l;L++,j+=p)a.get(L,M)&&A.setRegion(j,D,p,p);return A}}r.AbstractExpandedDecoder=Bl,r.ArgumentException=v,r.ArithmeticException=jr,r.AztecCode=K1,r.AztecCodeReader=Yi,r.AztecCodeWriter=$o,r.AztecDecoder=We,r.AztecDetector=Fs,r.AztecDetectorResult=yi,r.AztecEncoder=ke,r.AztecHighLevelEncoder=Ys,r.AztecPoint=dt,r.BarcodeFormat=ie,r.Binarizer=H,r.BinaryBitmap=I,r.BitArray=P,r.BitMatrix=qe,r.BitSource=zl,r.BrowserAztecCodeReader=Ho,r.BrowserBarcodeReader=l2,r.BrowserCodeReader=_e,r.BrowserDatamatrixCodeReader=c2,r.BrowserMultiFormatReader=E2,r.BrowserPDF417Reader=v2,r.BrowserQRCodeReader=A2,r.BrowserQRCodeSvgWriter=Ii,r.CharacterSetECI=z,r.ChecksumException=k,r.Code128Reader=ne,r.Code39Reader=at,r.DataMatrixDecodedBitStreamParser=zr,r.DataMatrixReader=Hr,r.DecodeHintType=X,r.DecoderResult=Gn,r.DefaultGridSampler=Sr,r.DetectorResult=Wi,r.EAN13Reader=Nt,r.EncodeHintType=St,r.Exception=m,r.FormatException=F,r.GenericGF=Le,r.GenericGFPoly=zt,r.GlobalHistogramBinarizer=Be,r.GridSampler=Gi,r.GridSamplerInstance=Zn,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=ye,r.ITFReader=Me,r.IllegalArgumentException=S,r.IllegalStateException=mn,r.InvertedLuminanceSource=fe,r.LuminanceSource=q,r.MathUtils=ve,r.MultiFormatOneDReader=Ki,r.MultiFormatReader=Q1,r.MultiFormatWriter=I2,r.NotFoundException=Y,r.OneDReader=ot,r.PDF417DecodedBitStreamParser=V,r.PDF417DecoderErrorCorrection=H1,r.PDF417Reader=Lt,r.PDF417ResultMetadata=W1,r.PerspectiveTransform=Kt,r.PlanarYUVLuminanceSource=fr,r.QRCodeByteMatrix=Ko,r.QRCodeDataMask=Ln,r.QRCodeDecodedBitStreamParser=lt,r.QRCodeDecoderErrorCorrectionLevel=Ze,r.QRCodeDecoderFormatInformation=Vt,r.QRCodeEncoder=$e,r.QRCodeEncoderQRCode=Si,r.QRCodeMaskUtil=gt,r.QRCodeMatrixUtil=we,r.QRCodeMode=pe,r.QRCodeReader=Vr,r.QRCodeVersion=he,r.QRCodeWriter=$i,r.RGBLuminanceSource=Ql,r.RSS14Reader=ht,r.RSSExpandedReader=K,r.ReaderException=Zo,r.ReedSolomonDecoder=Rn,r.ReedSolomonEncoder=Xl,r.ReedSolomonException=Ar,r.Result=De,r.ResultMetadataType=nt,r.ResultPoint=ue,r.StringUtils=ce,r.UnsupportedOperationException=se,r.VideoInputDevice=xe,r.WhiteRectangleDetector=Qn,r.WriterException=Ye,r.ZXingArrays=T,r.ZXingCharset=Z1,r.ZXingInteger=O,r.ZXingStandardCharsets=Zl,r.ZXingStringBuilder=Ie,r.ZXingStringEncoding=ge,r.ZXingSystem=R,r.createAbstractExpandedDecoder=U1,Object.defineProperty(r,"__esModule",{value:!0})})})(Oc,Oc.exports);var et=Oc.exports;const Yy=Rc(et),Xy=Zf({__proto__:null,default:Yy},[et]);var Ff=function(){function e(t,r,o){if(this.formatMap=new Map([[ae.QR_CODE,et.BarcodeFormat.QR_CODE],[ae.AZTEC,et.BarcodeFormat.AZTEC],[ae.CODABAR,et.BarcodeFormat.CODABAR],[ae.CODE_39,et.BarcodeFormat.CODE_39],[ae.CODE_93,et.BarcodeFormat.CODE_93],[ae.CODE_128,et.BarcodeFormat.CODE_128],[ae.DATA_MATRIX,et.BarcodeFormat.DATA_MATRIX],[ae.MAXICODE,et.BarcodeFormat.MAXICODE],[ae.ITF,et.BarcodeFormat.ITF],[ae.EAN_13,et.BarcodeFormat.EAN_13],[ae.EAN_8,et.BarcodeFormat.EAN_8],[ae.PDF_417,et.BarcodeFormat.PDF_417],[ae.RSS_14,et.BarcodeFormat.RSS_14],[ae.RSS_EXPANDED,et.BarcodeFormat.RSS_EXPANDED],[ae.UPC_A,et.BarcodeFormat.UPC_A],[ae.UPC_E,et.BarcodeFormat.UPC_E],[ae.UPC_EAN_EXTENSION,et.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Xy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var u=this.createZXingFormats(t),f=new Map;f.set(et.DecodeHintType.POSSIBLE_FORMATS,u),f.set(et.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(o,u){try{o(r.decode(t))}catch(f){u(f)}})},e.prototype.decode=function(t){var r=new et.MultiFormatReader(this.verbose,this.hints),o=new et.HTMLCanvasElementLuminanceSource(t),u=new et.BinaryBitmap(new et.HybridBinarizer(o)),f=r.decode(u);return{text:f.text,format:qg.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var f=u[o];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Qy=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},Zy=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},jf=function(){function e(t,r,o){if(this.formatMap=new Map([[ae.QR_CODE,"qr_code"],[ae.AZTEC,"aztec"],[ae.CODABAR,"codabar"],[ae.CODE_39,"code_39"],[ae.CODE_93,"code_93"],[ae.CODE_128,"code_128"],[ae.DATA_MATRIX,"data_matrix"],[ae.ITF,"itf"],[ae.EAN_13,"ean_13"],[ae.EAN_8,"ean_8"],[ae.PDF_417,"pdf417"],[ae.UPC_A,"upc_a"],[ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Qy(this,void 0,void 0,function(){var r,o;return Zy(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=u.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:qg.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,o=0,u=0,f=t;u<f.length;u++){var g=f[u],x=g.boundingBox.width*g.boundingBox.height;x>o&&(o=x,r=g)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var f=u[o];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Uf=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},zf=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ky=function(){function e(t,r,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&jf.isSupported()?(this.primaryDecoder=new jf(t,o,u),this.secondaryDecoder=new Ff(t,o,u)):this.primaryDecoder=new Ff(t,o,u)}return e.prototype.decodeAsync=function(t){return Uf(this,void 0,void 0,function(){var r;return zf(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Uf(this,void 0,void 0,function(){var r,o;return zf(this,function(u){switch(u.label){case 0:r=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,o=this.executionResults;r<o.length;r++){var u=o[r];t+=u}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),F1=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),fl=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},dl=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},t2=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),qy=function(e){F1(t,e);function t(r,o){return e.call(this,r,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var o={};o[this.name]=r;var u={advanced:[o]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(t2),$y=function(e){F1(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(qy),Jy=function(e){F1(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(t2),e4=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new $y(this.track)},e.prototype.torchFeature=function(){return new Jy(this.track)},e}(),t4=function(){function e(t,r,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,u),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,o,u){return fl(this,void 0,void 0,function(){var f,g;return dl(this,function(x){switch(x.label){case 0:return f=new e(t,r,u),o.aspectRatio?(g={aspectRatio:o.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:x.sent(),x.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,o=function(){setTimeout(t,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return fl(this,void 0,void 0,function(){return dl(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,o){var u=t.mediaStream.getVideoTracks(),f=u.length,g=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new e4(this.getFirstTrackOrFail())},e}(),n4=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,o){return fl(this,void 0,void 0,function(){return dl(this,function(u){return[2,t4.create(t,this.mediaStream,r,o)]})})},e.create=function(t){return fl(this,void 0,void 0,function(){var r,o;return dl(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=u.sent(),[2,new e(o)]}})})},e}(),Hf=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},Vf=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},r4=function(){function e(){}return e.failIfNotSupported=function(){return Hf(this,void 0,void 0,function(){return Vf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Hf(this,void 0,void 0,function(){return Vf(this,function(r){return[2,n4.create(t)]})})},e}(),i4=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},s4=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},o4=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ms.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ms.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return i4(this,void 0,void 0,function(){var t,r,o,u,f,g,x;return s4(this,function(w){switch(w.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),S=0,I=v;S<I.length;S++){var k=I[S];k.enabled=!1,k.stop(),m.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),u=[],f=0,g=o;f<g.length;f++)x=g[f],x.kind==="videoinput"&&u.push({id:x.deviceId,label:x.label});return t(r),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var o=function(f){for(var g=[],x=0,w=f;x<w.length;x++){var m=w[x];m.kind==="video"&&g.push({id:m.id,label:m.label})}t(g)},u=MediaStreamTrack;u.getSources(o)})},e}(),pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(pt||(pt={}));var a4=function(){function e(){this.state=pt.NOT_STARTED,this.onGoingTransactionNewState=pt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=pt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case pt.UNKNOWN:throw"Transition from unknown is not allowed";case pt.NOT_STARTED:this.failIfNewStateIs(t,[pt.PAUSED]);break;case pt.SCANNING:break;case pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var o=0,u=r;o<u.length;o++){var f=u[o];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),l4=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===pt.PAUSED},e}(),u4=function(){function e(){}return e.create=function(){return new l4(new a4)},e}(),c4=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),yn=function(e){c4(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(tr),f4=function(){function e(t,r){this.logger=r,this.fps=yn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=yn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?e2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!mr(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Wf=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new Jg(this.verbose),this.qrcode=new Ky(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=u4.create()}return e.prototype.start=function(t,r,o,u){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var x=f4.create(r,this.logger);this.clearElement();var w=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=w,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:yn.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var S=this,I=this.stateManagerProxy.startTransition(pt.SCANNING);return new Promise(function(k,H){var R=m?x.videoConstraints:S.createVideoConstraints(t);if(!R){I.cancel(),H("videoConstraints should be defined");return}var B={};(!m||x.aspectRatio)&&(B.aspectRatio=x.aspectRatio);var N={onRenderSurfaceReady:function(T,O){S.setupUi(T,O,x),S.isScanning=!0,S.foreverScan(x,o,g)}};r4.failIfNotSupported().then(function(T){T.create(R).then(function(O){return O.render(f.element,B,N).then(function(P){S.renderedCamera=P,I.execute(),k(null)}).catch(function(P){I.cancel(),H(P)})}).catch(function(O){I.cancel(),H(ms.errorGettingUserMedia(O))})}).catch(function(T){I.cancel(),H(ms.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(pt.PAUSED),this.showPausedState(),(mr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(pt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var f=document.getElementById(yn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),r.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,r){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mr(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var x=g.width,w=g.height,m=document.getElementById(o.elementId),v=m.clientWidth?m.clientWidth:yn.DEFAULT_WIDTH,S=Math.max(m.clientHeight?m.clientHeight:w,yn.FILE_SCAN_MIN_HEIGHT),I=o.computeCanvasDrawConfig(x,w,v,S);if(r){var k=o.createCanvasElement(v,S,"qr-canvas-visible");k.style.display="inline-block",m.appendChild(k);var H=k.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=v,H.canvas.height=S,H.drawImage(g,0,0,x,w,I.x,I.y,I.width,I.height)}var R=yn.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(g.width,I.width),N=Math.max(g.height,I.height),T=B+2*R,O=N+2*R,P=o.createCanvasElement(T,O);m.appendChild(P);var Q=P.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=T,Q.canvas.height=O,Q.drawImage(g,0,0,x,w,R,R,B,N);try{o.qrcode.decodeRobustlyAsync(P).then(function(X){u(Pf.createFromQrcodeResult(X))}).catch(f)}catch(X){f("QR code parse error, error = ".concat(X))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return o4.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!e2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ae.QR_CODE,ae.AZTEC,ae.CODABAR,ae.CODE_39,ae.CODE_93,ae.CODE_128,ae.DATA_MATRIX,ae.MAXICODE,ae.ITF,ae.EAN_13,ae.EAN_8,ae.PDF_417,ae.RSS_14,ae.RSS_EXPANDED,ae.UPC_A,ae.UPC_E,ae.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,f=t.formatsToSupport;u<f.length;u++){var g=f[u];Wy(g)?o.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(mr(t))return!0;if(!mr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(mr(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return mr(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,o){var u=this,f=o.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,r,f),x=function(m){if(m<yn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(yn.MIN_QR_BOX_SIZE,"px.")},w=function(m){return m>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};x(g.width),x(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,r)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},e.prototype.setupUi=function(t,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,o);var u=mr(o.qrbox)?{width:t,height:r}:o.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(t,r,u);f.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=o.isShadedBoxEnabled()&&f.height<=r,x={x:0,y:0,width:t,height:r},w=g?this.getShadedRegionBounds(t,r,f):x,m=this.createCanvasElement(w.width,w.height),v={willReadFrequently:!0},S=m.getContext("2d",v);S.canvas.width=w.width,S.canvas.height=w.height,this.element.append(m),g&&this.possiblyInsertShadingElement(this.element,t,r,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=S,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=ms.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,Pf.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var f=ms.codeParseError(u);return r(f,$g.createFrom(f)),!1})},e.prototype.foreverScan=function(t,r,o){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,x=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,m=this.qrRegion.height*x,v=this.qrRegion.x*g,S=this.qrRegion.y*x;this.context.drawImage(f,v,S,w,m,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,r,o)},u.getTimeoutFps(t.fps))};this.scanContext(r,o).then(function(k){!k&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(r,o).finally(function(){I()})):I()}).catch(function(k){u.logger.logError("Error happend while scanning context",k),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",o="deviceId",u={user:!0,environment:!0},f="exact",g=function(H){if(H in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var w=Object.keys(t)[0];if(w!==r&&w!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var m=t.facingMode;if(typeof m=="string"){if(g(m))return{facingMode:m}}else if(typeof m=="object")if(f in m){if(g(m["".concat(f)]))return{facingMode:{exact:m["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var I=typeof S;throw"Invalid type of 'deviceId' = ".concat(I)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,r,o,u){if(t<=o&&r<=u){var f=(o-t)/2,g=(u-r)/2;return{x:f,y:g,width:t,height:r}}else{var x=t,w=r;return t>o&&(r=o/t*r,t=o),r>u&&(t=u/r*t,r=u),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(w)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,o,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?yn.BORDER_SHADER_MATCH_COLOR:yn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,o){var u=t,f=r,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=mr(o)?"qr-canvas":o,g},e.prototype.getShadedRegionBounds=function(t,r,o){if(o.width>t||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,r,o,u){if(!(r-u.width<1||o-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(r-u.width)/2,x=(o-u.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(yn.SHADED_REGION_ELEMENT_ID),r-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var w=5,m=40;this.insertShaderBorders(f,m,w,-w,null,0,!0),this.insertShaderBorders(f,m,w,-w,null,0,!1),this.insertShaderBorders(f,m,w,null,-w,0,!0),this.insertShaderBorders(f,m,w,null,-w,0,!1),this.insertShaderBorders(f,w,m+w,-w,null,-w,!0),this.insertShaderBorders(f,w,m+w,null,-w,-w,!0),this.insertShaderBorders(f,w,m+w,-w,null,-w,!1),this.insertShaderBorders(f,w,m+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,r,o,u,f,g,x){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=yn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(o,"px"),u!==null&&(w.style.top="".concat(u,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),x?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),j1="data:image/svg+xml;base64,",d4=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",h4=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Gf=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",g4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),p4=function(){function e(){this.data=Yf.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Yf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),m4=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Bf.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var o=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(u);var f=document.createElement("a");f.innerText=Bf.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),x4=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Gf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return r.onHoverIn()},this.infoIcon.onmouseout=function(o){return r.onHoverOut()},this.infoIcon.onclick=function(o){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=g4,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Gf,this.infoIcon.style.opacity="0.6")},e}(),w4=function(){function e(){var t=this;this.infoDiv=new m4,this.infoIcon=new x4(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),y4=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},C4=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xf=function(){function e(){}return e.hasPermissions=function(){return y4(this,void 0,void 0,function(){var t,r,o,u;return C4(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),r=0,o=t;r<o.length;r++)if(u=o[r],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),Qr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var o=r[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Br.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Br.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return tr.DEFAULT_SUPPORTED_SCAN_TYPE;var r=tr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var o=0,u=t;o<u.length;o++){var f=u[o];if(!tr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),An=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Mr=function(){function e(){}return e.createElement=function(t,r){var o=document.createElement(t);return o.id=r,o.classList.add(An.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e}(),n2=function(e,t,r,o){function u(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function x(v){try{m(o.next(v))}catch(S){g(S)}}function w(v){try{m(o.throw(v))}catch(S){g(S)}}function m(v){v.done?f(v.value):u(v.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},r2=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(v){return w([m,v])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(r=0)),r;)try{if(o=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,u=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){r.label=m[1];break}if(m[0]===6&&r.label<f[1]){r.label=f[1],f=m;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(m);break}f[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],u=0}finally{o=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Qf=function(){function e(t,r,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return n2(this,void 0,void 0,function(){var t,r;return r2(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=o.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?He.torchOffButton():He.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var o=t?He.torchOnFailedMessage():He.torchOffFailedMessage();r&&(o+="; Error = "+r),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),E4=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Mr.createElement("button",An.TORCH_BUTTON_ID),this.torchController=new Qf(t,this,r)}return e.prototype.render=function(t,r){var o=this;this.torchButton.innerText=He.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var u=this;this.torchButton.addEventListener("click",function(f){return n2(o,void 0,void 0,function(){return r2(this,function(g){switch(g.label){case 0:return[4,u.torchController.flipState()];case 1:return g.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(An.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(An.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(An.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(An.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Qf(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=He.torchOnButton(),this.torchController.reset()},e.create=function(t,r,o,u){var f=new e(r,u);return f.render(t,o),f},e}(),v4=function(){function e(t,r,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=Mr.createElement("button",An.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=Mr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var w=x.target;if(!(w.files&&w.files.length===0)){var m=w.files,v=m[0],S=v.name;f.setImageNameToButton(S),o(v)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=x.dataTransfer;if(w){var m=w.files;if(!m||m.length===0)return;for(var v=!1,S=0;S<m.length;++S){var I=m.item(S);if(I){var k=/image.*/;if(I.type.match(k)){v=!0;var H=I.name;f.setImageNameToButton(H),o(I),g.innerText=He.dragAndDropMessage();break}}}v||(g.innerText=He.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=He.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var o=t.substring(0,8),u=t.length,f=t.substring(u-8,u);t="".concat(o,"....").concat(f)}var g=He.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=He.fileSelectionChooseImage()+" - "+He.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,o){var u=new e(t,r,o);return u},e}(),A4=function(){function e(t){this.selectElement=Mr.createElement("select",An.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)r.style.display="none";else{var u=He.selectCamera();r.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,x=this.cameras;g<x.length;g++){var w=x[g],m=w.id,v=w.label==null?m:w.label;(!v||v==="")&&(v=[He.anonymousCameraPrefix(),f++].join(" "));var S=document.createElement("option");S.value=m,S.innerText=v,this.options.push(S),this.selectElement.appendChild(S)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,o=this.options;r<o.length;r++){var u=o[r];if(u.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var o=new e(r);return o.render(t),o},e}(),S4=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mr.createElement("input",An.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,o,u){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var o=new e;return o.render(t,r),o},e}(),Cn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Cn||(Cn={}));function I4(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function T4(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var N4=function(){function e(t,r,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Qr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Jg(this.verbose),this.persistedDataManager=new p4,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(o.lastMatchFound===f)return;o.lastMatchFound=f,o.setHeaderMessage(He.lastMatch(f),Cn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){r&&r(f,g)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new Wf(this.getScanRegionId(),T4(this.config,this.verbose))},e.prototype.pause=function(t){(mr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,u){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),r(),o()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),u(f)}):(t.html5Qrcode.clear(),r(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=tr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!tr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=tr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=tr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:tr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:tr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:tr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),o=this.getScanRegionId();r.id=o,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Qr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),f=this.getDashboardId();u.id=f,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var o=new w4;o.renderInto(r);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",r.appendChild(u)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,o){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(He.cameraPermissionRequesting());var f=function(){o||u.createPermissionButton(t,r)};Wf.getCameras().then(function(g){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),g&&g.length>0?(t.removeChild(r),u.renderCameraSelection(g)):(u.setHeaderMessage(He.noCameraFound(),Cn.STATUS_WARNING),f())}).catch(function(g){u.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:f(),u.setHeaderMessage(g,Cn.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var o=this,u=Mr.createElement("button",this.getCameraPermissionButtonId());u.innerText=He.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,o.createCameraListUi(t,r,u)}),r.appendChild(u)},e.prototype.createPermissionsUi=function(t,r){var o=this;if(Qr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Xf.hasPermissions().then(function(u){u?o.createCameraListUi(t,r):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,r))}).catch(function(u){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Qr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(o);var u=document.createElement("div");u.style.textAlign="center",o.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,u),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Qr.isFileScanType(this.currentScanType),o=this,u=function(f){if(!o.html5Qrcode)throw"html5Qrcode not defined";Qr.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(He.loadingImage()),o.html5Qrcode.scanFileV2(f,!0).then(function(g){o.resetHeaderMessage(),o.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){o.setHeaderMessage(g,Cn.STATUS_WARNING),o.qrCodeErrorCallback(g,$g.createFrom(g))}))};this.fileSelectionUi=v4.create(t,r,u)},e.prototype.renderCameraSelection=function(t){var r=this,o=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var f=S4.create(u,!1),g=function(R){var B=R.zoomFeature();if(B.isSupported()){f.setOnCameraZoomValueChangeCallback(function(T){B.apply(T)});var N=1;r.config.defaultZoomValueIfSupported&&(N=r.config.defaultZoomValueIfSupported),N=Gy(N,B.min(),B.max()),f.setValues(B.min(),B.max(),N,B.step()),f.show()}},x=A4.create(u,t),w=document.createElement("span"),m=Mr.createElement("button",An.CAMERA_START_BUTTON_ID);m.innerText=He.scanButtonStartScanningText(),w.appendChild(m);var v=Mr.createElement("button",An.CAMERA_STOP_BUTTON_ID);v.innerText=He.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,w.appendChild(v);var S,I=function(R){if(!R.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(R.torchFeature()):S=E4.create(w,R.torchFeature(),{display:"none",marginLeft:"5px"},function(B){o.setHeaderMessage(B,Cn.STATUS_WARNING)}),S.show()};u.appendChild(w);var k=function(R){R||(m.style.display="none"),m.innerText=He.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,R&&(m.style.display="inline-block")};if(m.addEventListener("click",function(R){m.innerText=He.scanButtonScanningStarting(),x.disable(),m.disabled=!0,m.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var B=x.getValue();o.persistedDataManager.setLastUsedCameraId(B),o.html5Qrcode.start(B,I4(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(N){v.disabled=!1,v.style.display="inline-block",k(!1);var T=o.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&I(T),r.config.showZoomSliderIfSupported===!0&&g(T)}).catch(function(N){o.showHideScanTypeSwapLink(!0),x.enable(),k(!0),o.setHeaderMessage(N,Cn.STATUS_WARNING)})}),x.hasSingleItem()&&m.click(),v.addEventListener("click",function(R){if(!o.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,o.html5Qrcode.stop().then(function(B){r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),x.enable(),m.disabled=!1,v.style.display="none",m.style.display="inline-block",S&&(S.reset(),S.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(B){v.disabled=!1,o.setHeaderMessage(B,Cn.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var H=o.persistedDataManager.getLastUsedCameraId();x.hasValue(H)?(x.setValue(H),m.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=He.textIfCameraScanSelected(),o=He.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=Mr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Qr.isCameraScanType(this.currentScanType)?r:o,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Qr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=o,t.currentScanType=Br.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=r,t.currentScanType=Br.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),u.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Xf.hasPermissions().then(function(o){if(o){var u=document.getElementById(r.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(o){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Cn.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",r){case Cn.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case Cn.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case Cn.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=d4,this.cameraScanImage.alt=He.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=h4,this.fileScanImage.alt=He.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return An.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return An.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const b4=({toggle:e,handleAttendance:t})=>(G.useEffect(()=>{const r=new N4("qrcode",{fps:10,qrbox:{width:200,height:150},rememberLastUsedCamera:!0,supportedScanTypes:[Br.SCAN_TYPE_CAMERA]},!1),o=u=>{t(u)};r.render(o)},[]),b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-96",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Attendance "}),b.jsx("button",{className:"text-gray-500 hover:text-gray-700",type:"button",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{id:"qrcode"})]})})),_4=()=>{const[e,t]=_n(),[r,o]=Et(pn),u=xi(),[f,g]=G.useState([]),[x,w]=G.useState(!1),m=()=>{w(!x)},v=async I=>{const k=JSON.parse(I);console.log(k);const H=await fetch(`${r}/attendance/${u.state.id}/present`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",auth:e},body:JSON.stringify({studentID:k.id})}),R=await H.json();if(!H.ok){Qe.error(R.message),console.log(R.message);return}S(),Qe.success(R.message)},S=async()=>{const I=await fetch(`${r}/attendance/${u.state.id}/now`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",auth:e}}),k=await I.json();if(!I.ok){Qe.error(k.message);return}g(k)};return G.useEffect(()=>{S()},[]),b.jsx(Vi,{page:`Attendance ${u.state.className}`,children:b.jsxs("div",{className:"m-5 p-5 bg-white rounded-lg",children:[b.jsx("div",{className:"w-[8rem]",children:b.jsx(hn,{name:"QR Scanner",onClick:m})}),b.jsx(Kg,{data:f}),x&&b.jsx(b4,{toggle:m,handleAttendance:v})]})})},M4=()=>b.jsx("div",{className:"bg-gray-200 h-screen text-gray-800 p-5 px-8",children:b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"AMS"}),b.jsx(Ps,{className:"bg-blue-600 text-white px-4 py-2 rounded-lg",to:"/login",children:"Login"})]})});function O4(){return b.jsx(s3,{children:b.jsx(sw,{children:b.jsxs($x,{children:[b.jsxs(Yt,{element:b.jsx(If,{userType:"teacher"}),children:[b.jsx(Yt,{element:b.jsx(o3,{}),path:"/dashboard"}),b.jsx(Yt,{element:b.jsx(f3,{}),path:"/dashboard/profile"}),b.jsx(Yt,{element:b.jsx(g3,{}),path:"/dashboard/classes"}),b.jsx(Yt,{element:b.jsx(Fy,{}),path:"/dashboard/class/:id"}),b.jsx(Yt,{element:b.jsx(Hy,{}),path:"/dashboard/attendance"}),b.jsx(Yt,{element:b.jsx(Vy,{}),path:"/dashboard/attendance/:id"}),b.jsx(Yt,{element:b.jsx(_4,{}),path:"/dashboard/attendance/now"})]}),b.jsxs(Yt,{element:b.jsx(If,{userType:"admin"}),children:[b.jsx(Yt,{element:b.jsx(c3,{}),path:"/admin/dashboard"}),b.jsx(Yt,{element:b.jsx(jy,{}),path:"/admin/profile"}),b.jsx(Yt,{element:b.jsx(zy,{}),path:"/admin/students"})]}),b.jsx(Yt,{element:b.jsx(a3,{}),path:"/login"}),b.jsx(Yt,{element:b.jsx(l3,{}),path:"/signin"}),b.jsx(Yt,{element:b.jsx(M4,{}),path:"/"})]})})})}ug(document.getElementById("root")).render(b.jsx(O4,{}));
